import{s as ge,e as pe,i as D,d as M,A as he,B as Et,C as X,D as de,r as Re,f as $,g as ee,h as te,E as gt,F as Br,G as I,u as Me,v as Fe,w as Ne,H as yr,I as ht,J as U,p as We,K as et,a as ae,c as se,L as Ie,x as ie,l as we,m as ke,j as B,n as tr,M as Tt,N as At,O as ar,o as Wt,y as it,P as st,Q as Jn,R as mi,S as Ys,T as Jo,U as ya,z as Ar,V as Zo,W as $o,X as kr,Y as el,Z as Xr,_ as $t,$ as tl,a0 as rl,a1 as wa}from"../chunks/scheduler.7GEP2mlh.js";import{S as Ce,i as Se,a as O,t as L,g as je,c as Ye,b as q,d as Q,m as J,e as Z,f as ot,h as ka}from"../chunks/index.2ShT4uXt.js";import{w as sr,b as il}from"../chunks/paths.nZ7cpjcE.js";function ni(i){return i?.length!==void 0?i:Array.from(i)}function De(i,e){const t={},r={},n={$$scope:1};let a=i.length;for(;a--;){const s=i[a],o=e[a];if(o){for(const l in s)l in o||(r[l]=1);for(const l in o)n[l]||(t[l]=o[l],n[l]=1);i[a]=o}else for(const l in s)n[l]=1}for(const s in r)s in t||(t[s]=void 0);return t}function or(i){return typeof i=="object"&&i!==null?i:{}}const Zn="-";function nl(i){const e=sl(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=i;function n(s){const o=s.split(Zn);return o[0]===""&&o.length!==1&&o.shift(),Xs(o,e)||al(s)}function a(s,o){const l=t[s]||[];return o&&r[s]?[...l,...r[s]]:l}return{getClassGroupId:n,getConflictingClassGroupIds:a}}function Xs(i,e){if(i.length===0)return e.classGroupId;const t=i[0],r=e.nextPart.get(t),n=r?Xs(i.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const a=i.join(Zn);return e.validators.find(({validator:s})=>s(a))?.classGroupId}const Ca=/^\[(.+)\]$/;function al(i){if(Ca.test(i)){const e=Ca.exec(i)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function sl(i){const{theme:e,prefix:t}=i,r={nextPart:new Map,validators:[]};return ll(Object.entries(i.classGroups),t).forEach(([a,s])=>{Un(s,r,a,e)}),r}function Un(i,e,t,r){i.forEach(n=>{if(typeof n=="string"){const a=n===""?e:Sa(e,n);a.classGroupId=t;return}if(typeof n=="function"){if(ol(n)){Un(n(r),e,t,r);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([a,s])=>{Un(s,Sa(e,a),t,r)})})}function Sa(i,e){let t=i;return e.split(Zn).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t}function ol(i){return i.isThemeGetter}function ll(i,e){return e?i.map(([t,r])=>{const n=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[t,n]}):i}function hl(i){if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;function n(a,s){t.set(a,s),e++,e>i&&(e=0,r=t,t=new Map)}return{get(a){let s=t.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return n(a,s),s},set(a,s){t.has(a)?t.set(a,s):n(a,s)}}}const Ks="!";function dl(i){const e=i.separator,t=e.length===1,r=e[0],n=e.length;return function(s){const o=[];let l=0,h=0,d;for(let m=0;m<s.length;m++){let v=s[m];if(l===0){if(v===r&&(t||s.slice(m,m+n)===e)){o.push(s.slice(h,m)),h=m+n;continue}if(v==="/"){d=m;continue}}v==="["?l++:v==="]"&&l--}const u=o.length===0?s:s.substring(h),f=u.startsWith(Ks),c=f?u.substring(1):u,g=d&&d>h?d-h:void 0;return{modifiers:o,hasImportantModifier:f,baseClassName:c,maybePostfixModifierPosition:g}}}function cl(i){if(i.length<=1)return i;const e=[];let t=[];return i.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e}function ul(i){return{cache:hl(i.cacheSize),splitModifiers:dl(i),...nl(i)}}const fl=/\s+/;function gl(i,e){const{splitModifiers:t,getClassGroupId:r,getConflictingClassGroupIds:n}=e,a=new Set;return i.trim().split(fl).map(s=>{const{modifiers:o,hasImportantModifier:l,baseClassName:h,maybePostfixModifierPosition:d}=t(s);let u=r(d?h.substring(0,d):h),f=!!d;if(!u){if(!d)return{isTailwindClass:!1,originalClassName:s};if(u=r(h),!u)return{isTailwindClass:!1,originalClassName:s};f=!1}const c=cl(o).join(":");return{isTailwindClass:!0,modifierId:l?c+Ks:c,classGroupId:u,originalClassName:s,hasPostfixModifier:f}}).reverse().filter(s=>{if(!s.isTailwindClass)return!0;const{modifierId:o,classGroupId:l,hasPostfixModifier:h}=s,d=o+l;return a.has(d)?!1:(a.add(d),n(l,h).forEach(u=>a.add(o+u)),!0)}).reverse().map(s=>s.originalClassName).join(" ")}function qs(){let i=0,e,t,r="";for(;i<arguments.length;)(e=arguments[i++])&&(t=Qs(e))&&(r&&(r+=" "),r+=t);return r}function Qs(i){if(typeof i=="string")return i;let e,t="";for(let r=0;r<i.length;r++)i[r]&&(e=Qs(i[r]))&&(t&&(t+=" "),t+=e);return t}function ml(i,...e){let t,r,n,a=s;function s(l){const h=e.reduce((d,u)=>u(d),i());return t=ul(h),r=t.cache.get,n=t.cache.set,a=o,o(l)}function o(l){const h=r(l);if(h)return h;const d=gl(l,t);return n(l,d),d}return function(){return a(qs.apply(null,arguments))}}function Ue(i){const e=t=>t[i]||[];return e.isThemeGetter=!0,e}const Js=/^\[(?:([a-z-]+):)?(.+)\]$/i,pl=/^\d+\/\d+$/,_l=new Set(["px","full","screen"]),vl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yl=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function yt(i){return Zt(i)||_l.has(i)||pl.test(i)}function xt(i){return Rr(i,"length",Rl)}function Zt(i){return!!i&&!Number.isNaN(Number(i))}function ai(i){return Rr(i,"number",Zt)}function xr(i){return!!i&&Number.isInteger(Number(i))}function kl(i){return i.endsWith("%")&&Zt(i.slice(0,-1))}function fe(i){return Js.test(i)}function It(i){return vl.test(i)}const Cl=new Set(["length","size","percentage"]);function Sl(i){return Rr(i,Cl,Zs)}function Pl(i){return Rr(i,"position",Zs)}const El=new Set(["image","url"]);function Tl(i){return Rr(i,El,Fl)}function Al(i){return Rr(i,"",Ml)}function Ir(){return!0}function Rr(i,e,t){const r=Js.exec(i);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1}function Rl(i){return bl.test(i)}function Zs(){return!1}function Ml(i){return yl.test(i)}function Fl(i){return wl.test(i)}function Nl(){const i=Ue("colors"),e=Ue("spacing"),t=Ue("blur"),r=Ue("brightness"),n=Ue("borderColor"),a=Ue("borderRadius"),s=Ue("borderSpacing"),o=Ue("borderWidth"),l=Ue("contrast"),h=Ue("grayscale"),d=Ue("hueRotate"),u=Ue("invert"),f=Ue("gap"),c=Ue("gradientColorStops"),g=Ue("gradientColorStopPositions"),m=Ue("inset"),v=Ue("margin"),w=Ue("opacity"),C=Ue("padding"),p=Ue("saturate"),_=Ue("scale"),b=Ue("sepia"),y=Ue("skew"),N=Ue("space"),S=Ue("translate"),P=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",fe,e],T=()=>[fe,e],G=()=>["",yt,xt],R=()=>["auto",Zt,fe],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],ne=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",fe],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Zt,ai],le=()=>[Zt,fe];return{cacheSize:500,separator:":",theme:{colors:[Ir],spacing:[yt,xt],blur:["none","",It,fe],brightness:K(),borderColor:[i],borderRadius:["none","","full",It,fe],borderSpacing:T(),borderWidth:G(),contrast:K(),grayscale:H(),hueRotate:le(),invert:H(),gap:T(),gradientColorStops:[i],gradientColorStopPositions:[kl,xt],inset:E(),margin:E(),opacity:K(),padding:T(),saturate:K(),scale:K(),sepia:H(),skew:le(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[It]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),fe]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xr,fe]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",xr,fe]}],"grid-cols":[{"grid-cols":[Ir]}],"col-start-end":[{col:["auto",{span:["full",xr,fe]},fe]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Ir]}],"row-start-end":[{row:["auto",{span:[xr,fe]},fe]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[It]},It]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",It,xt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ai]}],"font-family":[{font:[Ir]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Zt,ai]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yt,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yt,xt]}],"underline-offset":[{"underline-offset":["auto",yt,fe]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),Pl]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Sl]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Tl]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[c]}],"gradient-via":[{via:[c]}],"gradient-to":[{to:[c]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:V()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[yt,fe]}],"outline-w":[{outline:[yt,xt]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[yt,xt]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",It,Al]}],"shadow-color":[{shadow:[Ir]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":j()}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",It,fe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[p]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[xr,fe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[y]}],"skew-y":[{"skew-y":[y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[yt,xt,ai]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const ce=ml(Nl);function wn(i){let e,t,r,n,a;const s=i[12].default,o=Re(s,i,i[11],null);let l=[{role:i[4]},i[6],{class:i[5]}],h={};for(let d=0;d<l.length;d+=1)h=X(h,l[d]);return{c(){e=$(i[1]),o&&o.c(),this.h()},l(d){e=ee(d,(i[1]||"null").toUpperCase(),{role:!0,class:!0});var u=te(e);o&&o.l(u),u.forEach(M),this.h()},h(){gt(i[1])(e,h)},m(d,u){D(d,e,u),o&&o.m(e,null),i[18](e),r=!0,n||(a=[Br(t=i[2].call(null,e,i[3])),I(e,"click",i[13]),I(e,"mouseenter",i[14]),I(e,"mouseleave",i[15]),I(e,"focusin",i[16]),I(e,"focusout",i[17])],n=!0)},p(d,u){o&&o.p&&(!r||u&2048)&&Me(o,s,d,d[11],r?Ne(s,d[11],u,null):Fe(d[11]),null),gt(d[1])(e,h=De(l,[(!r||u&16)&&{role:d[4]},u&64&&d[6],(!r||u&32)&&{class:d[5]}])),t&&yr(t.update)&&u&8&&t.update.call(null,d[3])},i(d){r||(O(o,d),r=!0)},o(d){L(o,d),r=!1},d(d){d&&M(e),o&&o.d(d),i[18](null),n=!1,ht(a)}}}function Ol(i){let e=i[1],t,r,n=i[1]&&wn(i);return{c(){n&&n.c(),t=pe()},l(a){n&&n.l(a),t=pe()},m(a,s){n&&n.m(a,s),D(a,t,s),r=!0},p(a,[s]){a[1]?e?ge(e,a[1])?(n.d(1),n=wn(a),e=a[1],n.c(),n.m(t.parentNode,t)):n.p(a,s):(n=wn(a),e=a[1],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=a[1])},i(a){r||(O(n,a),r=!0)},o(a){L(n,a),r=!1},d(a){a&&M(t),n&&n.d(a)}}}function Ll(i,e,t){const r=["tag","color","rounded","border","shadow","node","use","options","role"];let n=he(e,r),{$$slots:a={},$$scope:s}=e;const o=()=>{};Et("background",!0);let{tag:l=n.href?"a":"div"}=e,{color:h="default"}=e,{rounded:d=!1}=e,{border:u=!1}=e,{shadow:f=!1}=e,{node:c=void 0}=e,{use:g=o}=e,{options:m={}}=e,{role:v=void 0}=e;const w={gray:"bg-gray-50 dark:bg-gray-800",red:"bg-red-50 dark:bg-gray-800",yellow:"bg-yellow-50 dark:bg-gray-800 ",green:"bg-green-50 dark:bg-gray-800 ",indigo:"bg-indigo-50 dark:bg-gray-800 ",purple:"bg-purple-50 dark:bg-gray-800 ",pink:"bg-pink-50 dark:bg-gray-800 ",blue:"bg-blue-50 dark:bg-gray-800 ",light:"bg-gray-50 dark:bg-gray-700",dark:"bg-gray-50 dark:bg-gray-800",default:"bg-white dark:bg-gray-800",dropdown:"bg-white dark:bg-gray-700",navbar:"bg-white dark:bg-gray-900",navbarUl:"bg-gray-50 dark:bg-gray-800",form:"bg-gray-50 dark:bg-gray-700",primary:"bg-primary-50 dark:bg-gray-800 ",orange:"bg-orange-50 dark:bg-orange-800",none:""},C={gray:"text-gray-800 dark:text-gray-300",red:"text-red-800 dark:text-red-400",yellow:"text-yellow-800 dark:text-yellow-300",green:"text-green-800 dark:text-green-400",indigo:"text-indigo-800 dark:text-indigo-400",purple:"text-purple-800 dark:text-purple-400",pink:"text-pink-800 dark:text-pink-400",blue:"text-blue-800 dark:text-blue-400",light:"text-gray-700 dark:text-gray-300",dark:"text-gray-700 dark:text-gray-300",default:"text-gray-500 dark:text-gray-400",dropdown:"text-gray-700 dark:text-gray-200",navbar:"text-gray-700 dark:text-gray-200",navbarUl:"text-gray-700 dark:text-gray-400",form:"text-gray-900 dark:text-white",primary:"text-primary-800 dark:text-primary-400",orange:"text-orange-800 dark:text-orange-400",none:""},p={gray:"border-gray-300 dark:border-gray-800 divide-gray-300 dark:divide-gray-800",red:"border-red-300 dark:border-red-800 divide-red-300 dark:divide-red-800",yellow:"border-yellow-300 dark:border-yellow-800 divide-yellow-300 dark:divide-yellow-800",green:"border-green-300 dark:border-green-800 divide-green-300 dark:divide-green-800",indigo:"border-indigo-300 dark:border-indigo-800 divide-indigo-300 dark:divide-indigo-800",purple:"border-purple-300 dark:border-purple-800 divide-purple-300 dark:divide-purple-800",pink:"border-pink-300 dark:border-pink-800 divide-pink-300 dark:divide-pink-800",blue:"border-blue-300 dark:border-blue-800 divide-blue-300 dark:divide-blue-800",light:"border-gray-500 divide-gray-500",dark:"border-gray-500 divide-gray-500",default:"border-gray-200 dark:border-gray-700 divide-gray-200 dark:divide-gray-700",dropdown:"border-gray-100 dark:border-gray-600 divide-gray-100 dark:divide-gray-600",navbar:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",navbarUl:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",form:"border-gray-300 dark:border-gray-700 divide-gray-300 dark:divide-gray-700",primary:"border-primary-500 dark:border-primary-200  divide-primary-500 dark:divide-primary-200 ",orange:"border-orange-300 dark:border-orange-800 divide-orange-300 dark:divide-orange-800",none:""};let _;function b(E){U.call(this,i,E)}function y(E){U.call(this,i,E)}function N(E){U.call(this,i,E)}function S(E){U.call(this,i,E)}function P(E){U.call(this,i,E)}function A(E){We[E?"unshift":"push"](()=>{c=E,t(0,c)})}return i.$$set=E=>{t(23,e=X(X({},e),de(E))),t(6,n=he(e,r)),"tag"in E&&t(1,l=E.tag),"color"in E&&t(7,h=E.color),"rounded"in E&&t(8,d=E.rounded),"border"in E&&t(9,u=E.border),"shadow"in E&&t(10,f=E.shadow),"node"in E&&t(0,c=E.node),"use"in E&&t(2,g=E.use),"options"in E&&t(3,m=E.options),"role"in E&&t(4,v=E.role),"$$scope"in E&&t(11,s=E.$$scope)},i.$$.update=()=>{i.$$.dirty&128&&t(7,h=h??"default"),i.$$.dirty&128&&Et("color",h),t(5,_=ce(w[h],C[h],d&&"rounded-lg",u&&"border",p[h],f&&"shadow-md",e.class))},e=de(e),[c,l,g,m,v,_,n,h,d,u,f,s,a,b,y,N,S,P,A]}class Mr extends Ce{constructor(e){super(),Se(this,e,Ll,Ol,ge,{tag:1,color:7,rounded:8,border:9,shadow:10,node:0,use:2,options:3,role:4})}}function Gl(i){const e=i-1;return e*e*e+1}function Dl(i){return--i*i*i*i*i+1}function Pa(i,{delay:e=0,duration:t=400,easing:r=Gl,axis:n="y"}={}){const a=getComputedStyle(i),s=+a.opacity,o=n==="y"?"height":"width",l=parseFloat(a[o]),h=n==="y"?["top","bottom"]:["left","right"],d=h.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),u=parseFloat(a[`padding${d[0]}`]),f=parseFloat(a[`padding${d[1]}`]),c=parseFloat(a[`margin${d[0]}`]),g=parseFloat(a[`margin${d[1]}`]),m=parseFloat(a[`border${d[0]}Width`]),v=parseFloat(a[`border${d[1]}Width`]);return{delay:e,duration:t,easing:r,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*s};${o}: ${w*l}px;padding-${h[0]}: ${w*u}px;padding-${h[1]}: ${w*f}px;margin-${h[0]}: ${w*c}px;margin-${h[1]}: ${w*g}px;border-${h[0]}-width: ${w*m}px;border-${h[1]}-width: ${w*v}px;`}}const xl=i=>({svgSize:i&4}),Ea=i=>({svgSize:i[5][i[2]]}),Il=i=>({svgSize:i&4}),Ta=i=>({svgSize:i[5][i[2]]});function Ul(i){let e,t,r,n,a,s,o=i[0]&&Aa(i);const l=i[9].default,h=Re(l,i,i[8],Ea);let d=[{type:"button"},i[6],{class:i[4]},{"aria-label":r=i[1]??i[0]}],u={};for(let f=0;f<d.length;f+=1)u=X(u,d[f]);return{c(){e=$("button"),o&&o.c(),t=ae(),h&&h.c(),this.h()},l(f){e=ee(f,"BUTTON",{type:!0,class:!0,"aria-label":!0});var c=te(e);o&&o.l(c),t=se(c),h&&h.l(c),c.forEach(M),this.h()},h(){Ie(e,u)},m(f,c){D(f,e,c),o&&o.m(e,null),ie(e,t),h&&h.m(e,null),e.autofocus&&e.focus(),n=!0,a||(s=I(e,"click",i[10]),a=!0)},p(f,c){f[0]?o?o.p(f,c):(o=Aa(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),h&&h.p&&(!n||c&260)&&Me(h,l,f,f[8],n?Ne(l,f[8],c,xl):Fe(f[8]),Ea),Ie(e,u=De(d,[{type:"button"},c&64&&f[6],(!n||c&16)&&{class:f[4]},(!n||c&3&&r!==(r=f[1]??f[0]))&&{"aria-label":r}]))},i(f){n||(O(h,f),n=!0)},o(f){L(h,f),n=!1},d(f){f&&M(e),o&&o.d(),h&&h.d(f),a=!1,s()}}}function Vl(i){let e,t,r,n,a=i[0]&&Ra(i);const s=i[9].default,o=Re(s,i,i[8],Ta);let l=[{href:i[3]},i[6],{class:i[4]},{"aria-label":r=i[1]??i[0]}],h={};for(let d=0;d<l.length;d+=1)h=X(h,l[d]);return{c(){e=$("a"),a&&a.c(),t=ae(),o&&o.c(),this.h()},l(d){e=ee(d,"A",{href:!0,class:!0,"aria-label":!0});var u=te(e);a&&a.l(u),t=se(u),o&&o.l(u),u.forEach(M),this.h()},h(){Ie(e,h)},m(d,u){D(d,e,u),a&&a.m(e,null),ie(e,t),o&&o.m(e,null),n=!0},p(d,u){d[0]?a?a.p(d,u):(a=Ra(d),a.c(),a.m(e,t)):a&&(a.d(1),a=null),o&&o.p&&(!n||u&260)&&Me(o,s,d,d[8],n?Ne(s,d[8],u,Il):Fe(d[8]),Ta),Ie(e,h=De(l,[(!n||u&8)&&{href:d[3]},u&64&&d[6],(!n||u&16)&&{class:d[4]},(!n||u&3&&r!==(r=d[1]??d[0]))&&{"aria-label":r}]))},i(d){n||(O(o,d),n=!0)},o(d){L(o,d),n=!1},d(d){d&&M(e),a&&a.d(),o&&o.d(d)}}}function Aa(i){let e,t;return{c(){e=$("span"),t=we(i[0]),this.h()},l(r){e=ee(r,"SPAN",{class:!0});var n=te(e);t=ke(n,i[0]),n.forEach(M),this.h()},h(){B(e,"class","sr-only")},m(r,n){D(r,e,n),ie(e,t)},p(r,n){n&1&&tr(t,r[0])},d(r){r&&M(e)}}}function Ra(i){let e,t;return{c(){e=$("span"),t=we(i[0]),this.h()},l(r){e=ee(r,"SPAN",{class:!0});var n=te(e);t=ke(n,i[0]),n.forEach(M),this.h()},h(){B(e,"class","sr-only")},m(r,n){D(r,e,n),ie(e,t)},p(r,n){n&1&&tr(t,r[0])},d(r){r&&M(e)}}}function zl(i){let e,t,r,n;const a=[Vl,Ul],s=[];function o(l,h){return l[3]?0:1}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),r=pe()},l(l){t.l(l),r=pe()},m(l,h){s[e].m(l,h),D(l,r,h),n=!0},p(l,[h]){let d=e;e=o(l),e===d?s[e].p(l,h):(je(),L(s[d],1,1,()=>{s[d]=null}),Ye(),t=s[e],t?t.p(l,h):(t=s[e]=a[e](l),t.c()),O(t,1),t.m(r.parentNode,r))},i(l){n||(O(t),n=!0)},o(l){L(t),n=!1},d(l){l&&M(r),s[e].d(l)}}}function Bl(i,e,t){const r=["color","name","ariaLabel","size","href"];let n=he(e,r),{$$slots:a={},$$scope:s}=e;const o=et("background");let{color:l="default"}=e,{name:h=void 0}=e,{ariaLabel:d=void 0}=e,{size:u="md"}=e,{href:f=void 0}=e;const c={dark:"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600",gray:"text-gray-500 focus:ring-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 dark:hover:text-gray-300",red:"text-red-500 focus:ring-red-400 hover:bg-red-200 dark:hover:bg-red-800 dark:hover:text-red-300",yellow:"text-yellow-500 focus:ring-yellow-400 hover:bg-yellow-200 dark:hover:bg-yellow-800 dark:hover:text-yellow-300",green:"text-green-500 focus:ring-green-400 hover:bg-green-200 dark:hover:bg-green-800 dark:hover:text-green-300",indigo:"text-indigo-500 focus:ring-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-800 dark:hover:text-indigo-300",purple:"text-purple-500 focus:ring-purple-400 hover:bg-purple-200 dark:hover:bg-purple-800 dark:hover:text-purple-300",pink:"text-pink-500 focus:ring-pink-400 hover:bg-pink-200 dark:hover:bg-pink-800 dark:hover:text-pink-300",blue:"text-blue-500 focus:ring-blue-400 hover:bg-blue-200 dark:hover:bg-blue-800 dark:hover:text-blue-300",primary:"text-primary-500 focus:ring-primary-400 hover:bg-primary-200 dark:hover:bg-primary-800 dark:hover:text-primary-300",default:"focus:ring-gray-400"},g={xs:"m-0.5 rounded-sm focus:ring-1 p-0.5",sm:"m-0.5 rounded focus:ring-1 p-0.5",md:"m-0.5 rounded-lg focus:ring-2 p-1.5",lg:"m-0.5 rounded-lg focus:ring-2 p-2.5"};let m;const v={xs:"w-3 h-3",sm:"w-3.5 h-3.5",md:"w-5 h-5",lg:"w-5 h-5"};function w(C){U.call(this,i,C)}return i.$$set=C=>{t(14,e=X(X({},e),de(C))),t(6,n=he(e,r)),"color"in C&&t(7,l=C.color),"name"in C&&t(0,h=C.name),"ariaLabel"in C&&t(1,d=C.ariaLabel),"size"in C&&t(2,u=C.size),"href"in C&&t(3,f=C.href),"$$scope"in C&&t(8,s=C.$$scope)},i.$$.update=()=>{t(4,m=ce("focus:outline-none whitespace-normal",g[u],c[l],l==="default"&&(o?"hover:bg-gray-100 dark:hover:bg-gray-600":"hover:bg-gray-100 dark:hover:bg-gray-700"),e.class))},e=de(e),[h,d,u,f,m,v,n,l,s,a,w]}class $s extends Ce{constructor(e){super(),Se(this,e,Bl,zl,ge,{color:7,name:0,ariaLabel:1,size:2,href:3})}}function Hl(i){let e,t,r;return{c(){e=Tt("svg"),t=Tt("path"),this.h()},l(n){e=At(n,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var a=te(e);t=At(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),te(t).forEach(M),a.forEach(M),this.h()},h(){B(t,"fill-rule","evenodd"),B(t,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),B(t,"clip-rule","evenodd"),B(e,"class",r=i[4]),B(e,"fill","currentColor"),B(e,"viewBox","0 0 20 20"),B(e,"xmlns","http://www.w3.org/2000/svg")},m(n,a){D(n,e,a),ie(e,t)},p(n,a){a&16&&r!==(r=n[4])&&B(e,"class",r)},d(n){n&&M(e)}}}function Wl(i){let e,t;const r=[{name:i[0]},i[1],{class:ce("ms-auto",i[2].class)}];let n={$$slots:{default:[Hl,({svgSize:a})=>({4:a}),({svgSize:a})=>a?16:0]},$$scope:{ctx:i}};for(let a=0;a<r.length;a+=1)n=X(n,r[a]);return e=new $s({props:n}),e.$on("click",i[3]),{c(){q(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,s){J(e,a,s),t=!0},p(a,[s]){const o=s&7?De(r,[s&1&&{name:a[0]},s&2&&or(a[1]),s&4&&{class:ce("ms-auto",a[2].class)}]):{};s&48&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){t||(O(e.$$.fragment,a),t=!0)},o(a){L(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}function jl(i,e,t){const r=["name"];let n=he(e,r),{name:a="Close"}=e;function s(o){U.call(this,i,o)}return i.$$set=o=>{t(2,e=X(X({},e),de(o))),t(1,n=he(e,r)),"name"in o&&t(0,a=o.name)},e=de(e),[a,n,e,s]}class eo extends Ce{constructor(e){super(),Se(this,e,jl,Wl,ge,{name:0})}}function Yl(i){let e=i[2],t,r,n=i[2]&&kn(i);return{c(){n&&n.c(),t=pe()},l(a){n&&n.l(a),t=pe()},m(a,s){n&&n.m(a,s),D(a,t,s),r=!0},p(a,s){a[2]?e?ge(e,a[2])?(n.d(1),n=kn(a),e=a[2],n.c(),n.m(t.parentNode,t)):n.p(a,s):(n=kn(a),e=a[2],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=a[2])},i(a){r||(O(n,a),r=!0)},o(a){L(n,a),r=!1},d(a){a&&M(t),n&&n.d(a)}}}function Xl(i){let e,t,r,n;const a=i[12].default,s=Re(a,i,i[11],null);let o=[{type:i[1]},i[4],{class:i[3]}],l={};for(let h=0;h<o.length;h+=1)l=X(l,o[h]);return{c(){e=$("button"),s&&s.c(),this.h()},l(h){e=ee(h,"BUTTON",{type:!0,class:!0});var d=te(e);s&&s.l(d),d.forEach(M),this.h()},h(){Ie(e,l)},m(h,d){D(h,e,d),s&&s.m(e,null),e.autofocus&&e.focus(),t=!0,r||(n=[I(e,"click",i[22]),I(e,"change",i[23]),I(e,"keydown",i[24]),I(e,"keyup",i[25]),I(e,"touchstart",i[26],{passive:!0}),I(e,"touchend",i[27]),I(e,"touchcancel",i[28]),I(e,"mouseenter",i[29]),I(e,"mouseleave",i[30])],r=!0)},p(h,d){s&&s.p&&(!t||d[0]&2048)&&Me(s,a,h,h[11],t?Ne(a,h[11],d,null):Fe(h[11]),null),Ie(e,l=De(o,[(!t||d[0]&2)&&{type:h[1]},d[0]&16&&h[4],(!t||d[0]&8)&&{class:h[3]}]))},i(h){t||(O(s,h),t=!0)},o(h){L(s,h),t=!1},d(h){h&&M(e),s&&s.d(h),r=!1,ht(n)}}}function Kl(i){let e,t,r,n;const a=i[12].default,s=Re(a,i,i[11],null);let o=[{href:i[0]},i[4],{class:i[3]},{role:"button"}],l={};for(let h=0;h<o.length;h+=1)l=X(l,o[h]);return{c(){e=$("a"),s&&s.c(),this.h()},l(h){e=ee(h,"A",{href:!0,class:!0,role:!0});var d=te(e);s&&s.l(d),d.forEach(M),this.h()},h(){Ie(e,l)},m(h,d){D(h,e,d),s&&s.m(e,null),t=!0,r||(n=[I(e,"click",i[13]),I(e,"change",i[14]),I(e,"keydown",i[15]),I(e,"keyup",i[16]),I(e,"touchstart",i[17],{passive:!0}),I(e,"touchend",i[18]),I(e,"touchcancel",i[19]),I(e,"mouseenter",i[20]),I(e,"mouseleave",i[21])],r=!0)},p(h,d){s&&s.p&&(!t||d[0]&2048)&&Me(s,a,h,h[11],t?Ne(a,h[11],d,null):Fe(h[11]),null),Ie(e,l=De(o,[(!t||d[0]&1)&&{href:h[0]},d[0]&16&&h[4],(!t||d[0]&8)&&{class:h[3]},{role:"button"}]))},i(h){t||(O(s,h),t=!0)},o(h){L(s,h),t=!1},d(h){h&&M(e),s&&s.d(h),r=!1,ht(n)}}}function kn(i){let e,t;const r=i[12].default,n=Re(r,i,i[11],null);let a=[i[4],{class:i[3]}],s={};for(let o=0;o<a.length;o+=1)s=X(s,a[o]);return{c(){e=$(i[2]),n&&n.c(),this.h()},l(o){e=ee(o,(i[2]||"null").toUpperCase(),{class:!0});var l=te(e);n&&n.l(l),l.forEach(M),this.h()},h(){gt(i[2])(e,s)},m(o,l){D(o,e,l),n&&n.m(e,null),t=!0},p(o,l){n&&n.p&&(!t||l[0]&2048)&&Me(n,r,o,o[11],t?Ne(r,o[11],l,null):Fe(o[11]),null),gt(o[2])(e,s=De(a,[l[0]&16&&o[4],(!t||l[0]&8)&&{class:o[3]}]))},i(o){t||(O(n,o),t=!0)},o(o){L(n,o),t=!1},d(o){o&&M(e),n&&n.d(o)}}}function ql(i){let e,t,r,n;const a=[Kl,Xl,Yl],s=[];function o(l,h){return l[0]?0:l[2]==="button"?1:2}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),r=pe()},l(l){t.l(l),r=pe()},m(l,h){s[e].m(l,h),D(l,r,h),n=!0},p(l,h){let d=e;e=o(l),e===d?s[e].p(l,h):(je(),L(s[d],1,1,()=>{s[d]=null}),Ye(),t=s[e],t?t.p(l,h):(t=s[e]=a[e](l),t.c()),O(t,1),t.m(r.parentNode,r))},i(l){n||(O(t),n=!0)},o(l){L(t),n=!1},d(l){l&&M(r),s[e].d(l)}}}function Ql(i,e,t){const r=["pill","outline","size","href","type","color","shadow","tag","checked"];let n=he(e,r),{$$slots:a={},$$scope:s}=e;const o=et("group");let{pill:l=!1}=e,{outline:h=!1}=e,{size:d=o?"sm":"md"}=e,{href:u=void 0}=e,{type:f="button"}=e,{color:c=o?h?"dark":"alternative":"primary"}=e,{shadow:g=!1}=e,{tag:m="button"}=e,{checked:v=void 0}=e;const w={alternative:"text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 dark:bg-gray-800 dark:text-gray-400 hover:text-primary-700 focus-within:text-primary-700 dark:focus-within:text-white dark:hover:text-white",blue:"text-white bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700",dark:"text-white bg-gray-800 hover:bg-gray-900 dark:bg-gray-800 dark:hover:bg-gray-700",green:"text-white bg-green-700 hover:bg-green-800 dark:bg-green-600 dark:hover:bg-green-700",light:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600",primary:"text-white bg-primary-700 hover:bg-primary-800 dark:bg-primary-600 dark:hover:bg-primary-700",purple:"text-white bg-purple-700 hover:bg-purple-800 dark:bg-purple-600 dark:hover:bg-purple-700",red:"text-white bg-red-700 hover:bg-red-800 dark:bg-red-600 dark:hover:bg-red-700",yellow:"text-white bg-yellow-400 hover:bg-yellow-500 ",none:""},C={alternative:"text-primary-700 border dark:text-primary-500 bg-gray-100 dark:bg-gray-700 border-gray-300 shadow-gray-300 dark:shadow-gray-800 shadow-inner",blue:"text-blue-900 bg-blue-400 dark:bg-blue-500 shadow-blue-700 dark:shadow-blue-800 shadow-inner",dark:"text-white bg-gray-500 dark:bg-gray-600 shadow-gray-800 dark:shadow-gray-900 shadow-inner",green:"text-green-900 bg-green-400 dark:bg-green-500 shadow-green-700 dark:shadow-green-800 shadow-inner",light:"text-gray-900 bg-gray-100 border border-gray-300 dark:bg-gray-500 dark:text-gray-900 dark:border-gray-700 shadow-gray-300 dark:shadow-gray-700 shadow-inner",primary:"text-primary-900 bg-primary-400 dark:bg-primary-500 shadow-primary-700 dark:shadow-primary-800 shadow-inner",purple:"text-purple-900 bg-purple-400 dark:bg-purple-500 shadow-purple-700 dark:shadow-purple-800 shadow-inner",red:"text-red-900 bg-red-400 dark:bg-red-500 shadow-red-700 dark:shadow-red-800 shadow-inner",yellow:"text-yellow-900 bg-yellow-300 dark:bg-yellow-400 shadow-yellow-500 dark:shadow-yellow-700 shadow-inner",none:""},p={alternative:"focus-within:ring-gray-200 dark:focus-within:ring-gray-700",blue:"focus-within:ring-blue-300 dark:focus-within:ring-blue-800",dark:"focus-within:ring-gray-300 dark:focus-within:ring-gray-700",green:"focus-within:ring-green-300 dark:focus-within:ring-green-800",light:"focus-within:ring-gray-200 dark:focus-within:ring-gray-700",primary:"focus-within:ring-primary-300 dark:focus-within:ring-primary-800",purple:"focus-within:ring-purple-300 dark:focus-within:ring-purple-900",red:"focus-within:ring-red-300 dark:focus-within:ring-red-900",yellow:"focus-within:ring-yellow-300 dark:focus-within:ring-yellow-900",none:""},_={alternative:"shadow-gray-500/50 dark:shadow-gray-800/80",blue:"shadow-blue-500/50 dark:shadow-blue-800/80",dark:"shadow-gray-500/50 dark:shadow-gray-800/80",green:"shadow-green-500/50 dark:shadow-green-800/80",light:"shadow-gray-500/50 dark:shadow-gray-800/80",primary:"shadow-primary-500/50 dark:shadow-primary-800/80",purple:"shadow-purple-500/50 dark:shadow-purple-800/80",red:"shadow-red-500/50 dark:shadow-red-800/80 ",yellow:"shadow-yellow-500/50 dark:shadow-yellow-800/80 ",none:""},b={alternative:"text-gray-900 dark:text-gray-400 hover:text-white border border-gray-800 hover:bg-gray-900 focus-within:bg-gray-900 focus-within:text-white focus-within:ring-gray-300 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600 dark:focus-within:ring-gray-800",blue:"text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-600",dark:"text-gray-900 hover:text-white border border-gray-800 hover:bg-gray-900 focus-within:bg-gray-900 focus-within:text-white dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600",green:"text-green-700 hover:text-white border border-green-700 hover:bg-green-800 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600",light:"text-gray-500 hover:text-gray-900 bg-white border border-gray-200 dark:border-gray-600 dark:hover:text-white dark:text-gray-400 hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600",primary:"text-primary-700 hover:text-white border border-primary-700 hover:bg-primary-700 dark:border-primary-500 dark:text-primary-500 dark:hover:text-white dark:hover:bg-primary-600",purple:"text-purple-700 hover:text-white border border-purple-700 hover:bg-purple-800 dark:border-purple-400 dark:text-purple-400 dark:hover:text-white dark:hover:bg-purple-500",red:"text-red-700 hover:text-white border border-red-700 hover:bg-red-800 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600",yellow:"text-yellow-400 hover:text-white border border-yellow-400 hover:bg-yellow-500 dark:border-yellow-300 dark:text-yellow-300 dark:hover:text-white dark:hover:bg-yellow-400",none:""},y={xs:"px-3 py-2 text-xs",sm:"px-4 py-2 text-sm",md:"px-5 py-2.5 text-sm",lg:"px-5 py-3 text-base",xl:"px-6 py-3.5 text-base"},N=()=>h||c==="alternative"||c==="light";let S;function P(k){U.call(this,i,k)}function A(k){U.call(this,i,k)}function E(k){U.call(this,i,k)}function T(k){U.call(this,i,k)}function G(k){U.call(this,i,k)}function R(k){U.call(this,i,k)}function F(k){U.call(this,i,k)}function V(k){U.call(this,i,k)}function j(k){U.call(this,i,k)}function ne(k){U.call(this,i,k)}function H(k){U.call(this,i,k)}function W(k){U.call(this,i,k)}function K(k){U.call(this,i,k)}function le(k){U.call(this,i,k)}function Y(k){U.call(this,i,k)}function z(k){U.call(this,i,k)}function ye(k){U.call(this,i,k)}function Ee(k){U.call(this,i,k)}return i.$$set=k=>{t(39,e=X(X({},e),de(k))),t(4,n=he(e,r)),"pill"in k&&t(5,l=k.pill),"outline"in k&&t(6,h=k.outline),"size"in k&&t(7,d=k.size),"href"in k&&t(0,u=k.href),"type"in k&&t(1,f=k.type),"color"in k&&t(8,c=k.color),"shadow"in k&&t(9,g=k.shadow),"tag"in k&&t(2,m=k.tag),"checked"in k&&t(10,v=k.checked),"$$scope"in k&&t(11,s=k.$$scope)},i.$$.update=()=>{t(3,S=ce("text-center font-medium",o?"focus-within:ring-2":"focus-within:ring-4",o&&"focus-within:z-10",o||"focus-within:outline-none","inline-flex items-center justify-center "+y[d],h&&v&&"border dark:border-gray-900",h&&v&&C[c],h&&!v&&b[c],!h&&v&&C[c],!h&&!v&&w[c],c==="alternative"&&(o&&!v?"dark:bg-gray-700 dark:text-white dark:border-gray-700 dark:hover:border-gray-600 dark:hover:bg-gray-600":"dark:bg-transparent dark:border-gray-600 dark:hover:border-gray-700"),h&&c==="dark"&&(o?v?"bg-gray-900 border-gray-800 dark:border-white dark:bg-gray-600":"dark:text-white border-gray-800 dark:border-white":"dark:text-gray-400 dark:border-gray-700"),p[c],N()&&o&&"border-s-0 first:border-s",o?l&&"first:rounded-s-full last:rounded-e-full"||"first:rounded-s-lg last:rounded-e-lg":l&&"rounded-full"||"rounded-lg",g&&"shadow-lg",g&&_[c],e.disabled&&"cursor-not-allowed opacity-50",e.class))},e=de(e),[u,f,m,S,n,l,h,d,c,g,v,s,a,P,A,E,T,G,R,F,V,j,ne,H,W,K,le,Y,z,ye,Ee]}class Rt extends Ce{constructor(e){super(),Se(this,e,Ql,ql,ge,{pill:5,outline:6,size:7,href:0,type:1,color:8,shadow:9,tag:2,checked:10},null,[-1,-1])}}const Cr=Math.min,er=Math.max,pi=Math.round,si=Math.floor,zt=i=>({x:i,y:i}),Jl={left:"right",right:"left",bottom:"top",top:"bottom"},Zl={start:"end",end:"start"};function Vn(i,e,t){return er(i,Cr(e,t))}function Kr(i,e){return typeof i=="function"?i(e):i}function rr(i){return i.split("-")[0]}function qr(i){return i.split("-")[1]}function to(i){return i==="x"?"y":"x"}function $n(i){return i==="y"?"height":"width"}function Si(i){return["top","bottom"].includes(rr(i))?"y":"x"}function ea(i){return to(Si(i))}function $l(i,e,t){t===void 0&&(t=!1);const r=qr(i),n=ea(i),a=$n(n);let s=n==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=_i(s)),[s,_i(s)]}function eh(i){const e=_i(i);return[zn(i),e,zn(e)]}function zn(i){return i.replace(/start|end/g,e=>Zl[e])}function th(i,e,t){const r=["left","right"],n=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(i){case"top":case"bottom":return t?e?n:r:e?r:n;case"left":case"right":return e?a:s;default:return[]}}function rh(i,e,t,r){const n=qr(i);let a=th(rr(i),t==="start",r);return n&&(a=a.map(s=>s+"-"+n),e&&(a=a.concat(a.map(zn)))),a}function _i(i){return i.replace(/left|right|bottom|top/g,e=>Jl[e])}function ih(i){return{top:0,right:0,bottom:0,left:0,...i}}function ro(i){return typeof i!="number"?ih(i):{top:i,right:i,bottom:i,left:i}}function vi(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}function Ma(i,e,t){let{reference:r,floating:n}=i;const a=Si(e),s=ea(e),o=$n(s),l=rr(e),h=a==="y",d=r.x+r.width/2-n.width/2,u=r.y+r.height/2-n.height/2,f=r[o]/2-n[o]/2;let c;switch(l){case"top":c={x:d,y:r.y-n.height};break;case"bottom":c={x:d,y:r.y+r.height};break;case"right":c={x:r.x+r.width,y:u};break;case"left":c={x:r.x-n.width,y:u};break;default:c={x:r.x,y:r.y}}switch(qr(e)){case"start":c[s]-=f*(t&&h?-1:1);break;case"end":c[s]+=f*(t&&h?-1:1);break}return c}const nh=async(i,e,t)=>{const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:s}=t,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let h=await s.getElementRects({reference:i,floating:e,strategy:n}),{x:d,y:u}=Ma(h,r,l),f=r,c={},g=0;for(let m=0;m<o.length;m++){const{name:v,fn:w}=o[m],{x:C,y:p,data:_,reset:b}=await w({x:d,y:u,initialPlacement:r,placement:f,strategy:n,middlewareData:c,rects:h,platform:s,elements:{reference:i,floating:e}});if(d=C??d,u=p??u,c={...c,[v]:{...c[v],..._}},b&&g<=50){g++,typeof b=="object"&&(b.placement&&(f=b.placement),b.rects&&(h=b.rects===!0?await s.getElementRects({reference:i,floating:e,strategy:n}):b.rects),{x:d,y:u}=Ma(h,f,l)),m=-1;continue}}return{x:d,y:u,placement:f,strategy:n,middlewareData:c}};async function io(i,e){var t;e===void 0&&(e={});const{x:r,y:n,platform:a,rects:s,elements:o,strategy:l}=i,{boundary:h="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:c=0}=Kr(e,i),g=ro(c),v=o[f?u==="floating"?"reference":"floating":u],w=vi(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(v)))==null||t?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:h,rootBoundary:d,strategy:l})),C=u==="floating"?{...s.floating,x:r,y:n}:s.reference,p=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),_=await(a.isElement==null?void 0:a.isElement(p))?await(a.getScale==null?void 0:a.getScale(p))||{x:1,y:1}:{x:1,y:1},b=vi(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:C,offsetParent:p,strategy:l}):C);return{top:(w.top-b.top+g.top)/_.y,bottom:(b.bottom-w.bottom+g.bottom)/_.y,left:(w.left-b.left+g.left)/_.x,right:(b.right-w.right+g.right)/_.x}}const ah=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:r,placement:n,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:h,padding:d=0}=Kr(i,e)||{};if(h==null)return{};const u=ro(d),f={x:t,y:r},c=ea(n),g=$n(c),m=await s.getDimensions(h),v=c==="y",w=v?"top":"left",C=v?"bottom":"right",p=v?"clientHeight":"clientWidth",_=a.reference[g]+a.reference[c]-f[c]-a.floating[g],b=f[c]-a.reference[c],y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(h));let N=y?y[p]:0;(!N||!await(s.isElement==null?void 0:s.isElement(y)))&&(N=o.floating[p]||a.floating[g]);const S=_/2-b/2,P=N/2-m[g]/2-1,A=Cr(u[w],P),E=Cr(u[C],P),T=A,G=N-m[g]-E,R=N/2-m[g]/2+S,F=Vn(T,R,G),V=!l.arrow&&qr(n)!=null&&R!=F&&a.reference[g]/2-(R<T?A:E)-m[g]/2<0,j=V?R<T?R-T:R-G:0;return{[c]:f[c]+j,data:{[c]:F,centerOffset:R-F-j,...V&&{alignmentOffset:j}},reset:V}}}),sh=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,r;const{placement:n,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:h}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:c="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=Kr(i,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const w=rr(n),C=rr(o)===o,p=await(l.isRTL==null?void 0:l.isRTL(h.floating)),_=f||(C||!m?[_i(o)]:eh(o));!f&&g!=="none"&&_.push(...rh(o,m,g,p));const b=[o,..._],y=await io(e,v),N=[];let S=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&N.push(y[w]),u){const T=$l(n,s,p);N.push(y[T[0]],y[T[1]])}if(S=[...S,{placement:n,overflows:N}],!N.every(T=>T<=0)){var P,A;const T=(((P=a.flip)==null?void 0:P.index)||0)+1,G=b[T];if(G)return{data:{index:T,overflows:S},reset:{placement:G}};let R=(A=S.filter(F=>F.overflows[0]<=0).sort((F,V)=>F.overflows[1]-V.overflows[1])[0])==null?void 0:A.placement;if(!R)switch(c){case"bestFit":{var E;const F=(E=S.map(V=>[V.placement,V.overflows.filter(j=>j>0).reduce((j,ne)=>j+ne,0)]).sort((V,j)=>V[1]-j[1])[0])==null?void 0:E[0];F&&(R=F);break}case"initialPlacement":R=o;break}if(n!==R)return{reset:{placement:R}}}return{}}}};async function oh(i,e){const{placement:t,platform:r,elements:n}=i,a=await(r.isRTL==null?void 0:r.isRTL(n.floating)),s=rr(t),o=qr(t),l=Si(t)==="y",h=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,u=Kr(e,i);let{mainAxis:f,crossAxis:c,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return o&&typeof g=="number"&&(c=o==="end"?g*-1:g),l?{x:c*d,y:f*h}:{x:f*h,y:c*d}}const lh=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,r;const{x:n,y:a,placement:s,middlewareData:o}=e,l=await oh(e,i);return s===((t=o.offset)==null?void 0:t.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:n+l.x,y:a+l.y,data:{...l,placement:s}}}}},hh=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:t,y:r,placement:n}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x:w,y:C}=v;return{x:w,y:C}}},...l}=Kr(i,e),h={x:t,y:r},d=await io(e,l),u=Si(rr(n)),f=to(u);let c=h[f],g=h[u];if(a){const v=f==="y"?"top":"left",w=f==="y"?"bottom":"right",C=c+d[v],p=c-d[w];c=Vn(C,c,p)}if(s){const v=u==="y"?"top":"left",w=u==="y"?"bottom":"right",C=g+d[v],p=g-d[w];g=Vn(C,g,p)}const m=o.fn({...e,[f]:c,[u]:g});return{...m,data:{x:m.x-t,y:m.y-r}}}}};function Bt(i){return no(i)?(i.nodeName||"").toLowerCase():"#document"}function rt(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function Nt(i){var e;return(e=(no(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function no(i){return i instanceof Node||i instanceof rt(i).Node}function Mt(i){return i instanceof Element||i instanceof rt(i).Element}function mt(i){return i instanceof HTMLElement||i instanceof rt(i).HTMLElement}function Fa(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof rt(i).ShadowRoot}function Qr(i){const{overflow:e,overflowX:t,overflowY:r,display:n}=lt(i);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(n)}function dh(i){return["table","td","th"].includes(Bt(i))}function ta(i){const e=ra(),t=lt(i);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function ch(i){let e=Sr(i);for(;mt(e)&&!Pi(e);){if(ta(e))return e;e=Sr(e)}return null}function ra(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pi(i){return["html","body","#document"].includes(Bt(i))}function lt(i){return rt(i).getComputedStyle(i)}function Ei(i){return Mt(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function Sr(i){if(Bt(i)==="html")return i;const e=i.assignedSlot||i.parentNode||Fa(i)&&i.host||Nt(i);return Fa(e)?e.host:e}function ao(i){const e=Sr(i);return Pi(e)?i.ownerDocument?i.ownerDocument.body:i.body:mt(e)&&Qr(e)?e:ao(e)}function Hr(i,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const n=ao(i),a=n===((r=i.ownerDocument)==null?void 0:r.body),s=rt(n);return a?e.concat(s,s.visualViewport||[],Qr(n)?n:[],s.frameElement&&t?Hr(s.frameElement):[]):e.concat(n,Hr(n,[],t))}function so(i){const e=lt(i);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const n=mt(i),a=n?i.offsetWidth:t,s=n?i.offsetHeight:r,o=pi(t)!==a||pi(r)!==s;return o&&(t=a,r=s),{width:t,height:r,$:o}}function ia(i){return Mt(i)?i:i.contextElement}function wr(i){const e=ia(i);if(!mt(e))return zt(1);const t=e.getBoundingClientRect(),{width:r,height:n,$:a}=so(e);let s=(a?pi(t.width):t.width)/r,o=(a?pi(t.height):t.height)/n;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const uh=zt(0);function oo(i){const e=rt(i);return!ra()||!e.visualViewport?uh:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fh(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==rt(i)?!1:e}function ir(i,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const n=i.getBoundingClientRect(),a=ia(i);let s=zt(1);e&&(r?Mt(r)&&(s=wr(r)):s=wr(i));const o=fh(a,t,r)?oo(a):zt(0);let l=(n.left+o.x)/s.x,h=(n.top+o.y)/s.y,d=n.width/s.x,u=n.height/s.y;if(a){const f=rt(a),c=r&&Mt(r)?rt(r):r;let g=f.frameElement;for(;g&&r&&c!==f;){const m=wr(g),v=g.getBoundingClientRect(),w=lt(g),C=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*m.x,p=v.top+(g.clientTop+parseFloat(w.paddingTop))*m.y;l*=m.x,h*=m.y,d*=m.x,u*=m.y,l+=C,h+=p,g=rt(g).frameElement}}return vi({width:d,height:u,x:l,y:h})}function gh(i){let{rect:e,offsetParent:t,strategy:r}=i;const n=mt(t),a=Nt(t);if(t===a)return e;let s={scrollLeft:0,scrollTop:0},o=zt(1);const l=zt(0);if((n||!n&&r!=="fixed")&&((Bt(t)!=="body"||Qr(a))&&(s=Ei(t)),mt(t))){const h=ir(t);o=wr(t),l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}return{width:e.width*o.x,height:e.height*o.y,x:e.x*o.x-s.scrollLeft*o.x+l.x,y:e.y*o.y-s.scrollTop*o.y+l.y}}function mh(i){return Array.from(i.getClientRects())}function lo(i){return ir(Nt(i)).left+Ei(i).scrollLeft}function ph(i){const e=Nt(i),t=Ei(i),r=i.ownerDocument.body,n=er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+lo(i);const o=-t.scrollTop;return lt(r).direction==="rtl"&&(s+=er(e.clientWidth,r.clientWidth)-n),{width:n,height:a,x:s,y:o}}function _h(i,e){const t=rt(i),r=Nt(i),n=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(n){a=n.width,s=n.height;const h=ra();(!h||h&&e==="fixed")&&(o=n.offsetLeft,l=n.offsetTop)}return{width:a,height:s,x:o,y:l}}function vh(i,e){const t=ir(i,!0,e==="fixed"),r=t.top+i.clientTop,n=t.left+i.clientLeft,a=mt(i)?wr(i):zt(1),s=i.clientWidth*a.x,o=i.clientHeight*a.y,l=n*a.x,h=r*a.y;return{width:s,height:o,x:l,y:h}}function Na(i,e,t){let r;if(e==="viewport")r=_h(i,t);else if(e==="document")r=ph(Nt(i));else if(Mt(e))r=vh(e,t);else{const n=oo(i);r={...e,x:e.x-n.x,y:e.y-n.y}}return vi(r)}function ho(i,e){const t=Sr(i);return t===e||!Mt(t)||Pi(t)?!1:lt(t).position==="fixed"||ho(t,e)}function bh(i,e){const t=e.get(i);if(t)return t;let r=Hr(i,[],!1).filter(o=>Mt(o)&&Bt(o)!=="body"),n=null;const a=lt(i).position==="fixed";let s=a?Sr(i):i;for(;Mt(s)&&!Pi(s);){const o=lt(s),l=ta(s);!l&&o.position==="fixed"&&(n=null),(a?!l&&!n:!l&&o.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||Qr(s)&&!l&&ho(i,s))?r=r.filter(d=>d!==s):n=o,s=Sr(s)}return e.set(i,r),r}function yh(i){let{element:e,boundary:t,rootBoundary:r,strategy:n}=i;const s=[...t==="clippingAncestors"?bh(e,this._c):[].concat(t),r],o=s[0],l=s.reduce((h,d)=>{const u=Na(e,d,n);return h.top=er(u.top,h.top),h.right=Cr(u.right,h.right),h.bottom=Cr(u.bottom,h.bottom),h.left=er(u.left,h.left),h},Na(e,o,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function wh(i){return so(i)}function kh(i,e,t){const r=mt(e),n=Nt(e),a=t==="fixed",s=ir(i,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=zt(0);if(r||!r&&!a)if((Bt(e)!=="body"||Qr(n))&&(o=Ei(e)),r){const h=ir(e,!0,a,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else n&&(l.x=lo(n));return{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function Oa(i,e){return!mt(i)||lt(i).position==="fixed"?null:e?e(i):i.offsetParent}function co(i,e){const t=rt(i);if(!mt(i))return t;let r=Oa(i,e);for(;r&&dh(r)&&lt(r).position==="static";)r=Oa(r,e);return r&&(Bt(r)==="html"||Bt(r)==="body"&&lt(r).position==="static"&&!ta(r))?t:r||ch(i)||t}const Ch=async function(i){let{reference:e,floating:t,strategy:r}=i;const n=this.getOffsetParent||co,a=this.getDimensions;return{reference:kh(e,await n(t),r),floating:{x:0,y:0,...await a(t)}}};function Sh(i){return lt(i).direction==="rtl"}const Ph={convertOffsetParentRelativeRectToViewportRelativeRect:gh,getDocumentElement:Nt,getClippingRect:yh,getOffsetParent:co,getElementRects:Ch,getClientRects:mh,getDimensions:wh,getScale:wr,isElement:Mt,isRTL:Sh};function Eh(i,e){let t=null,r;const n=Nt(i);function a(){clearTimeout(r),t&&t.disconnect(),t=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:h,top:d,width:u,height:f}=i.getBoundingClientRect();if(o||e(),!u||!f)return;const c=si(d),g=si(n.clientWidth-(h+u)),m=si(n.clientHeight-(d+f)),v=si(h),C={rootMargin:-c+"px "+-g+"px "+-m+"px "+-v+"px",threshold:er(0,Cr(1,l))||1};let p=!0;function _(b){const y=b[0].intersectionRatio;if(y!==l){if(!p)return s();y?s(!1,y):r=setTimeout(()=>{s(!1,1e-7)},100)}p=!1}try{t=new IntersectionObserver(_,{...C,root:n.ownerDocument})}catch{t=new IntersectionObserver(_,C)}t.observe(i)}return s(!0),a}function La(i,e,t,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,h=ia(i),d=n||a?[...h?Hr(h):[],...Hr(e)]:[];d.forEach(w=>{n&&w.addEventListener("scroll",t,{passive:!0}),a&&w.addEventListener("resize",t)});const u=h&&o?Eh(h,t):null;let f=-1,c=null;s&&(c=new ResizeObserver(w=>{let[C]=w;C&&C.target===h&&c&&(c.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{c&&c.observe(e)})),t()}),h&&!l&&c.observe(h),c.observe(e));let g,m=l?ir(i):null;l&&v();function v(){const w=ir(i);m&&(w.x!==m.x||w.y!==m.y||w.width!==m.width||w.height!==m.height)&&t(),m=w,g=requestAnimationFrame(v)}return t(),()=>{d.forEach(w=>{n&&w.removeEventListener("scroll",t),a&&w.removeEventListener("resize",t)}),u&&u(),c&&c.disconnect(),c=null,l&&cancelAnimationFrame(g)}}const Th=(i,e,t)=>{const r=new Map,n={platform:Ph,...t},a={...n.platform,_c:r};return nh(i,e,{...n,platform:a})};function Ga(i){let e;return{c(){e=$("div")},l(t){e=ee(t,"DIV",{}),te(e).forEach(M)},m(t,r){D(t,e,r),i[23](e)},p:it,d(t){t&&M(e),i[23](null)}}}function Da(i){let e,t;const r=[{use:i[9]},{options:i[3]},{role:"tooltip"},{tabindex:i[1]?-1:void 0},i[11]];let n={$$slots:{default:[Ah]},$$scope:{ctx:i}};for(let a=0;a<r.length;a+=1)n=X(n,r[a]);return e=new Mr({props:n}),e.$on("focusin",function(){yr(Ut(i[1],i[7]))&&Ut(i[1],i[7]).apply(this,arguments)}),e.$on("focusout",function(){yr(Ut(i[1],i[8]))&&Ut(i[1],i[8]).apply(this,arguments)}),e.$on("mouseenter",function(){yr(Ut(i[1]&&!i[4],i[7]))&&Ut(i[1]&&!i[4],i[7]).apply(this,arguments)}),e.$on("mouseleave",function(){yr(Ut(i[1]&&!i[4],i[8]))&&Ut(i[1]&&!i[4],i[8]).apply(this,arguments)}),{c(){q(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,s){J(e,a,s),t=!0},p(a,s){i=a;const o=s[0]&2570?De(r,[s[0]&512&&{use:i[9]},s[0]&8&&{options:i[3]},r[2],s[0]&2&&{tabindex:i[1]?-1:void 0},s[0]&2048&&or(i[11])]):{};s[0]&16777284&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(a){t||(O(e.$$.fragment,a),t=!0)},o(a){L(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}function xa(i){let e,t,r;return{c(){e=$("div"),this.h()},l(n){e=ee(n,"DIV",{class:!0}),te(e).forEach(M),this.h()},h(){B(e,"class",i[6])},m(n,a){D(n,e,a),t||(r=Br(i[10].call(null,e)),t=!0)},p(n,a){a[0]&64&&B(e,"class",n[6])},d(n){n&&M(e),t=!1,r()}}}function Ah(i){let e,t,r;const n=i[22].default,a=Re(n,i,i[24],null);let s=i[2]&&xa(i);return{c(){a&&a.c(),e=ae(),s&&s.c(),t=pe()},l(o){a&&a.l(o),e=se(o),s&&s.l(o),t=pe()},m(o,l){a&&a.m(o,l),D(o,e,l),s&&s.m(o,l),D(o,t,l),r=!0},p(o,l){a&&a.p&&(!r||l[0]&16777216)&&Me(a,n,o,o[24],r?Ne(n,o[24],l,null):Fe(o[24]),null),o[2]?s?s.p(o,l):(s=xa(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i(o){r||(O(a,o),r=!0)},o(o){L(a,o),r=!1},d(o){o&&(M(e),M(t)),a&&a.d(o),s&&s.d(o)}}}function Rh(i){let e,t,r,n=!i[3]&&Ga(i),a=i[0]&&i[3]&&Da(i);return{c(){n&&n.c(),e=ae(),a&&a.c(),t=pe()},l(s){n&&n.l(s),e=se(s),a&&a.l(s),t=pe()},m(s,o){n&&n.m(s,o),D(s,e,o),a&&a.m(s,o),D(s,t,o),r=!0},p(s,o){s[3]?n&&(n.d(1),n=null):n?n.p(s,o):(n=Ga(s),n.c(),n.m(e.parentNode,e)),s[0]&&s[3]?a?(a.p(s,o),o[0]&9&&O(a,1)):(a=Da(s),a.c(),O(a,1),a.m(t.parentNode,t)):a&&(je(),L(a,1,1,()=>{a=null}),Ye())},i(s){r||(O(a),r=!0)},o(s){L(a),r=!1},d(s){s&&(M(e),M(t)),n&&n.d(s),a&&a.d(s)}}}function Ut(i,e){return i?e:()=>{}}function Mh(i,e,t){let r;const n=["activeContent","arrow","offset","placement","trigger","triggeredBy","reference","strategy","open","yOnly","middlewares"];let a=he(e,n),{$$slots:s={},$$scope:o}=e,{activeContent:l=!1}=e,{arrow:h=!0}=e,{offset:d=8}=e,{placement:u="top"}=e,{trigger:f="hover"}=e,{triggeredBy:c=void 0}=e,{reference:g=void 0}=e,{strategy:m="absolute"}=e,{open:v=!1}=e,{yOnly:w=!1}=e,{middlewares:C=[sh(),hh()]}=e;const p=ar();let _,b,y,N,S,P=[],A=!1;const E=()=>(A=!0,setTimeout(()=>A=!1,250)),T=z=>{b===void 0&&console.error("trigger undefined"),!g&&P.includes(z.target)&&b!==z.target&&(t(3,b=z.target),E()),_&&z.type==="focusin"&&!v&&E(),t(0,v=_&&z.type==="click"&&!A?!v:!0)},G=z=>z.matches(":hover"),R=z=>z.contains(document.activeElement),F=z=>z!=null?`${z}px`:"",V=z=>{l?setTimeout(()=>{const ye=[b,y,...P].filter(Boolean);z.type==="mouseleave"&&ye.some(G)||z.type==="focusout"&&ye.some(R)||t(0,v=!1)},100):t(0,v=!1)};let j;const ne={left:"right",right:"left",bottom:"top",top:"bottom"};function H(){Th(b,y,{placement:u,strategy:m,middleware:r}).then(({x:z,y:ye,middlewareData:Ee,placement:k,strategy:x})=>{y.style.position=x,y.style.left=w?"0":F(z),y.style.top=F(ye),Ee.arrow&&N instanceof HTMLDivElement&&(t(20,N.style.left=F(Ee.arrow.x),N),t(20,N.style.top=F(Ee.arrow.y),N),t(21,j=ne[k.split("-")[0]]),t(20,N.style[j]=F(-N.offsetWidth/2-(e.border?1:0)),N))})}function W(z,ye){y=z;let Ee=La(ye,y,H);return{update(k){Ee(),Ee=La(k,y,H)},destroy(){Ee()}}}Wt(()=>{const z=[["focusin",T,!0],["focusout",V,!0],["click",T,_],["mouseenter",T,!_],["mouseleave",V,!_]];return c?P=[...document.querySelectorAll(c)]:P=S.previousElementSibling?[S.previousElementSibling]:[],P.length||console.error("No triggers found."),P.forEach(ye=>{ye.tabIndex<0&&(ye.tabIndex=0);for(const[Ee,k,x]of z)x&&ye.addEventListener(Ee,k)}),g?(t(3,b=document.querySelector(g)??document.body),b===document.body?console.error(`Popup reference not found: '${g}'`):(b.addEventListener("focusout",V),_||b.addEventListener("mouseleave",V))):t(3,b=P[0]),()=>{P.forEach(ye=>{if(ye)for(const[Ee,k]of z)ye.removeEventListener(Ee,k)}),b&&(b.removeEventListener("focusout",V),b.removeEventListener("mouseleave",V))}});let K;function le(z){return t(20,N=z),{destroy(){t(20,N=null)}}}function Y(z){We[z?"unshift":"push"](()=>{S=z,t(5,S)})}return i.$$set=z=>{t(36,e=X(X({},e),de(z))),t(11,a=he(e,n)),"activeContent"in z&&t(1,l=z.activeContent),"arrow"in z&&t(2,h=z.arrow),"offset"in z&&t(12,d=z.offset),"placement"in z&&t(13,u=z.placement),"trigger"in z&&t(14,f=z.trigger),"triggeredBy"in z&&t(15,c=z.triggeredBy),"reference"in z&&t(16,g=z.reference),"strategy"in z&&t(17,m=z.strategy),"open"in z&&t(0,v=z.open),"yOnly"in z&&t(18,w=z.yOnly),"middlewares"in z&&t(19,C=z.middlewares),"$$scope"in z&&t(24,o=z.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&16384&&t(4,_=f==="click"),i.$$.dirty[0]&1&&p("show",v),i.$$.dirty[0]&8200&&u&&(t(3,b),t(13,u)),i.$$.dirty[0]&1576960&&(r=[...C,lh(+d),N&&ah({element:N,padding:10})]),t(6,K=qs("absolute pointer-events-none block w-[10px] h-[10px] rotate-45 bg-inherit border-inherit",e.border&&j==="bottom"&&"border-b border-e",e.border&&j==="top"&&"border-t border-s ",e.border&&j==="right"&&"border-t border-e ",e.border&&j==="left"&&"border-b border-s "))},e=de(e),[v,l,h,b,_,S,K,T,V,W,le,a,d,u,f,c,g,m,w,C,N,j,s,Y,o]}class Fh extends Ce{constructor(e){super(),Se(this,e,Mh,Rh,ge,{activeContent:1,arrow:2,offset:12,placement:13,trigger:14,triggeredBy:15,reference:16,strategy:17,open:0,yOnly:18,middlewares:19},null,[-1,-1])}}const Nh=i=>({}),Ia=i=>({}),Oh=i=>({}),Ua=i=>({});function Va(i){let e,t;const r=i[12].header,n=Re(r,i,i[15],Ua);return{c(){e=$("div"),n&&n.c(),this.h()},l(a){e=ee(a,"DIV",{class:!0});var s=te(e);n&&n.l(s),s.forEach(M),this.h()},h(){B(e,"class",i[2])},m(a,s){D(a,e,s),n&&n.m(e,null),t=!0},p(a,s){n&&n.p&&(!t||s&32768)&&Me(n,r,a,a[15],t?Ne(r,a[15],s,Oh):Fe(a[15]),Ua)},i(a){t||(O(n,a),t=!0)},o(a){L(n,a),t=!1},d(a){a&&M(e),n&&n.d(a)}}}function za(i){let e,t;const r=i[12].footer,n=Re(r,i,i[15],Ia);return{c(){e=$("div"),n&&n.c(),this.h()},l(a){e=ee(a,"DIV",{class:!0});var s=te(e);n&&n.l(s),s.forEach(M),this.h()},h(){B(e,"class",i[4])},m(a,s){D(a,e,s),n&&n.m(e,null),t=!0},p(a,s){n&&n.p&&(!t||s&32768)&&Me(n,r,a,a[15],t?Ne(r,a[15],s,Nh):Fe(a[15]),Ia)},i(a){t||(O(n,a),t=!0)},o(a){L(n,a),t=!1},d(a){a&&M(e),n&&n.d(a)}}}function Lh(i){let e,t,r,n,a,s=i[6].header&&Va(i);const o=i[12].default,l=Re(o,i,i[15],null);let h=i[6].footer&&za(i);return{c(){s&&s.c(),e=ae(),t=$("ul"),l&&l.c(),r=ae(),h&&h.c(),n=pe(),this.h()},l(d){s&&s.l(d),e=se(d),t=ee(d,"UL",{class:!0});var u=te(t);l&&l.l(u),u.forEach(M),r=se(d),h&&h.l(d),n=pe(),this.h()},h(){B(t,"class",i[3])},m(d,u){s&&s.m(d,u),D(d,e,u),D(d,t,u),l&&l.m(t,null),D(d,r,u),h&&h.m(d,u),D(d,n,u),a=!0},p(d,u){d[6].header?s?(s.p(d,u),u&64&&O(s,1)):(s=Va(d),s.c(),O(s,1),s.m(e.parentNode,e)):s&&(je(),L(s,1,1,()=>{s=null}),Ye()),l&&l.p&&(!a||u&32768)&&Me(l,o,d,d[15],a?Ne(o,d[15],u,null):Fe(d[15]),null),d[6].footer?h?(h.p(d,u),u&64&&O(h,1)):(h=za(d),h.c(),O(h,1),h.m(n.parentNode,n)):h&&(je(),L(h,1,1,()=>{h=null}),Ye())},i(d){a||(O(s),O(l,d),O(h),a=!0)},o(d){L(s),L(l,d),L(h),a=!1},d(d){d&&(M(e),M(t),M(r),M(n)),s&&s.d(d),l&&l.d(d),h&&h.d(d)}}}function Gh(i){let e,t,r;const n=[{activeContent:!0},i[5],{class:i[1]}];function a(o){i[13](o)}let s={$$slots:{default:[Lh]},$$scope:{ctx:i}};for(let o=0;o<n.length;o+=1)s=X(s,n[o]);return i[0]!==void 0&&(s.open=i[0]),e=new Fh({props:s}),We.push(()=>ot(e,"open",a)),e.$on("show",i[14]),{c(){q(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,l){J(e,o,l),r=!0},p(o,[l]){const h=l&34?De(n,[n[0],l&32&&or(o[5]),l&2&&{class:o[1]}]):{};l&32832&&(h.$$scope={dirty:l,ctx:o}),!t&&l&1&&(t=!0,h.open=o[0],st(()=>t=!1)),e.$set(h)},i(o){r||(O(e.$$.fragment,o),r=!0)},o(o){L(e.$$.fragment,o),r=!1},d(o){Z(e,o)}}}function Dh(i,e,t){const r=["activeUrl","open","containerClass","headerClass","footerClass","activeClass"];let n=he(e,r),{$$slots:a={},$$scope:s}=e;const o=Jn(a),l=sr("");let{activeUrl:h=""}=e,{open:d=!1}=e,{containerClass:u="divide-y z-50"}=e,{headerClass:f="py-1 overflow-hidden rounded-t-lg"}=e,{footerClass:c="py-1 overflow-hidden rounded-b-lg"}=e,{activeClass:g="text-primary-700 dark:text-primary-700 hover:text-primary-900 dark:hover:text-primary-900"}=e,m=ce(g,e.classActive);Et("DropdownType",{activeClass:m}),Et("activeUrl",l);let v=ce(u,e.classContainer),w=ce(f,e.classHeader),C=ce("py-1",e.class),p=ce(c,e.classFooter);function _(y){d=y,t(0,d)}function b(y){U.call(this,i,y)}return i.$$set=y=>{t(18,e=X(X({},e),de(y))),t(5,n=he(e,r)),"activeUrl"in y&&t(7,h=y.activeUrl),"open"in y&&t(0,d=y.open),"containerClass"in y&&t(8,u=y.containerClass),"headerClass"in y&&t(9,f=y.headerClass),"footerClass"in y&&t(10,c=y.footerClass),"activeClass"in y&&t(11,g=y.activeClass),"$$scope"in y&&t(15,s=y.$$scope)},i.$$.update=()=>{i.$$.dirty&128&&l.set(h),t(5,n.arrow=n.arrow??!1,n),t(5,n.trigger=n.trigger??"click",n),t(5,n.placement=n.placement??"bottom",n),t(5,n.color=n.color??"dropdown",n),t(5,n.shadow=n.shadow??!0,n),t(5,n.rounded=n.rounded??!0,n)},e=de(e),[d,v,w,C,p,n,o,h,u,f,c,g,a,_,b,s]}class xh extends Ce{constructor(e){super(),Se(this,e,Dh,Gh,ge,{activeUrl:7,open:0,containerClass:8,headerClass:9,footerClass:10,activeClass:11})}}function Ih(i){let e,t,r=[i[1],{class:t=ce(i[0],i[2].class)}],n={};for(let a=0;a<r.length;a+=1)n=X(n,r[a]);return{c(){e=$("div"),this.h()},l(a){e=ee(a,"DIV",{class:!0}),te(e).forEach(M),this.h()},h(){Ie(e,n)},m(a,s){D(a,e,s)},p(a,[s]){Ie(e,n=De(r,[s&2&&a[1],s&5&&t!==(t=ce(a[0],a[2].class))&&{class:t}]))},i:it,o:it,d(a){a&&M(e)}}}function Uh(i,e,t){const r=["divClass"];let n=he(e,r),{divClass:a="my-1 h-px bg-gray-100 dark:bg-gray-600"}=e;return i.$$set=s=>{t(2,e=X(X({},e),de(s))),t(1,n=he(e,r)),"divClass"in s&&t(0,a=s.divClass)},e=de(e),[a,n,e]}class Vh extends Ce{constructor(e){super(),Se(this,e,Uh,Ih,ge,{divClass:0})}}function zh(i){let e;const t=i[5].default,r=Re(t,i,i[4],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&16)&&Me(r,t,n,n[4],e?Ne(t,n[4],a,null):Fe(n[4]),null)},i(n){e||(O(r,n),e=!0)},o(n){L(r,n),e=!1},d(n){r&&r.d(n)}}}function Bh(i){let e=i[0],t,r,n=i[0]&&Cn(i);return{c(){n&&n.c(),t=pe()},l(a){n&&n.l(a),t=pe()},m(a,s){n&&n.m(a,s),D(a,t,s),r=!0},p(a,s){a[0]?e?ge(e,a[0])?(n.d(1),n=Cn(a),e=a[0],n.c(),n.m(t.parentNode,t)):n.p(a,s):(n=Cn(a),e=a[0],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=a[0])},i(a){r||(O(n,a),r=!0)},o(a){L(n,a),r=!1},d(a){a&&M(t),n&&n.d(a)}}}function Cn(i){let e,t,r,n;const a=i[5].default,s=Re(a,i,i[4],null);let o=[i[3]],l={};for(let h=0;h<o.length;h+=1)l=X(l,o[h]);return{c(){e=$(i[0]),s&&s.c(),this.h()},l(h){e=ee(h,(i[0]||"null").toUpperCase(),{});var d=te(e);s&&s.l(d),d.forEach(M),this.h()},h(){gt(i[0])(e,l)},m(h,d){D(h,e,d),s&&s.m(e,null),t=!0,r||(n=Br(i[2].call(null,e)),r=!0)},p(h,d){s&&s.p&&(!t||d&16)&&Me(s,a,h,h[4],t?Ne(a,h[4],d,null):Fe(h[4]),null),gt(h[0])(e,l=De(o,[d&8&&h[3]]))},i(h){t||(O(s,h),t=!0)},o(h){L(s,h),t=!1},d(h){h&&M(e),s&&s.d(h),r=!1,n()}}}function Hh(i){let e,t,r,n;const a=[Bh,zh],s=[];function o(l,h){return l[1]?0:1}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),r=pe()},l(l){t.l(l),r=pe()},m(l,h){s[e].m(l,h),D(l,r,h),n=!0},p(l,[h]){let d=e;e=o(l),e===d?s[e].p(l,h):(je(),L(s[d],1,1,()=>{s[d]=null}),Ye(),t=s[e],t?t.p(l,h):(t=s[e]=a[e](l),t.c()),O(t,1),t.m(r.parentNode,r))},i(l){n||(O(t),n=!0)},o(l){L(t),n=!1},d(l){l&&M(r),s[e].d(l)}}}function Wh(i,e,t){const r=["tag","show","use"];let n=he(e,r),{$$slots:a={},$$scope:s}=e,{tag:o="div"}=e,{show:l}=e,{use:h=()=>{}}=e;return i.$$set=d=>{e=X(X({},e),de(d)),t(3,n=he(e,r)),"tag"in d&&t(0,o=d.tag),"show"in d&&t(1,l=d.show),"use"in d&&t(2,h=d.use),"$$scope"in d&&t(4,s=d.$$scope)},[o,l,h,n,s,a]}class uo extends Ce{constructor(e){super(),Se(this,e,Wh,Hh,ge,{tag:0,show:1,use:2})}}function Sn(i){let e,t,r,n,a,s;const o=i[9].default,l=Re(o,i,i[18],null);let h=[{href:i[0]},{type:t=i[0]?void 0:"button"},{role:r=i[0]?"link":"button"},i[4],{class:i[2]}],d={};for(let u=0;u<h.length;u+=1)d=X(d,h[u]);return{c(){e=$(i[0]?"a":"button"),l&&l.c(),this.h()},l(u){e=ee(u,((i[0]?"a":"button")||"null").toUpperCase(),{href:!0,type:!0,role:!0,class:!0});var f=te(e);l&&l.l(f),f.forEach(M),this.h()},h(){gt(i[0]?"a":"button")(e,d)},m(u,f){D(u,e,f),l&&l.m(e,null),n=!0,a||(s=[I(e,"click",i[10]),I(e,"change",i[11]),I(e,"keydown",i[12]),I(e,"keyup",i[13]),I(e,"focus",i[14]),I(e,"blur",i[15]),I(e,"mouseenter",i[16]),I(e,"mouseleave",i[17])],a=!0)},p(u,f){l&&l.p&&(!n||f&262144)&&Me(l,o,u,u[18],n?Ne(o,u[18],f,null):Fe(u[18]),null),gt(u[0]?"a":"button")(e,d=De(h,[(!n||f&1)&&{href:u[0]},(!n||f&1&&t!==(t=u[0]?void 0:"button"))&&{type:t},(!n||f&1&&r!==(r=u[0]?"link":"button"))&&{role:r},f&16&&u[4],(!n||f&4)&&{class:u[2]}]))},i(u){n||(O(l,u),n=!0)},o(u){L(l,u),n=!1},d(u){u&&M(e),l&&l.d(u),a=!1,ht(s)}}}function jh(i){let e=i[0]?"a":"button",t,r,n=(i[0]?"a":"button")&&Sn(i);return{c(){n&&n.c(),t=pe()},l(a){n&&n.l(a),t=pe()},m(a,s){n&&n.m(a,s),D(a,t,s),r=!0},p(a,s){a[0],e?ge(e,a[0]?"a":"button")?(n.d(1),n=Sn(a),e=a[0]?"a":"button",n.c(),n.m(t.parentNode,t)):n.p(a,s):(n=Sn(a),e=a[0]?"a":"button",n.c(),n.m(t.parentNode,t))},i(a){r||(O(n,a),r=!0)},o(a){L(n,a),r=!1},d(a){a&&M(t),n&&n.d(a)}}}function Yh(i){let e,t;return e=new uo({props:{tag:"li",show:i[1],use:i[3],$$slots:{default:[jh]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,[n]){const a={};n&2&&(a.show=r[1]),n&262165&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Xh(i,e,t){let r,n;const a=["defaultClass","href","activeClass"];let s=he(e,a),{$$slots:o={},$$scope:l}=e,{defaultClass:h="font-medium py-2 px-4 text-sm hover:bg-gray-100 dark:hover:bg-gray-600"}=e,{href:d=void 0}=e,{activeClass:u=void 0}=e;const f=et("DropdownType")??{},c=et("activeUrl");let g="";c.subscribe(P=>{t(7,g=P)});let m=!0;function v(P){t(1,m=P.parentElement?.tagName==="UL")}function w(P){U.call(this,i,P)}function C(P){U.call(this,i,P)}function p(P){U.call(this,i,P)}function _(P){U.call(this,i,P)}function b(P){U.call(this,i,P)}function y(P){U.call(this,i,P)}function N(P){U.call(this,i,P)}function S(P){U.call(this,i,P)}return i.$$set=P=>{t(21,e=X(X({},e),de(P))),t(4,s=he(e,a)),"defaultClass"in P&&t(5,h=P.defaultClass),"href"in P&&t(0,d=P.href),"activeClass"in P&&t(6,u=P.activeClass),"$$scope"in P&&t(18,l=P.$$scope)},i.$$.update=()=>{i.$$.dirty&129&&t(8,r=g?d===g:!1),t(2,n=ce(h,d?"block":"w-full text-left",r&&(u??f.activeClass),e.class))},e=de(e),[d,m,n,v,s,h,u,g,r,o,w,C,p,_,b,y,N,S,l]}class Pn extends Ce{constructor(e){super(),Se(this,e,Xh,Yh,ge,{defaultClass:5,href:0,activeClass:6})}}function Kh(i){let e;const t=i[7].default,r=Re(t,i,i[6],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&64)&&Me(r,t,n,n[6],e?Ne(t,n[6],a,null):Fe(n[6]),null)},i(n){e||(O(r,n),e=!0)},o(n){L(r,n),e=!1},d(n){r&&r.d(n)}}}function qh(i){let e,t;const r=i[7].default,n=Re(r,i,i[6],null);let a=[i[3],{class:i[2]}],s={};for(let o=0;o<a.length;o+=1)s=X(s,a[o]);return{c(){e=$("label"),n&&n.c(),this.h()},l(o){e=ee(o,"LABEL",{class:!0});var l=te(e);n&&n.l(l),l.forEach(M),this.h()},h(){Ie(e,s)},m(o,l){D(o,e,l),n&&n.m(e,null),i[8](e),t=!0},p(o,l){n&&n.p&&(!t||l&64)&&Me(n,r,o,o[6],t?Ne(r,o[6],l,null):Fe(o[6]),null),Ie(e,s=De(a,[l&8&&o[3],(!t||l&4)&&{class:o[2]}]))},i(o){t||(O(n,o),t=!0)},o(o){L(n,o),t=!1},d(o){o&&M(e),n&&n.d(o),i[8](null)}}}function Qh(i){let e,t,r,n;const a=[qh,Kh],s=[];function o(l,h){return l[0]?0:1}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),r=pe()},l(l){t.l(l),r=pe()},m(l,h){s[e].m(l,h),D(l,r,h),n=!0},p(l,[h]){let d=e;e=o(l),e===d?s[e].p(l,h):(je(),L(s[d],1,1,()=>{s[d]=null}),Ye(),t=s[e],t?t.p(l,h):(t=s[e]=a[e](l),t.c()),O(t,1),t.m(r.parentNode,r))},i(l){n||(O(t),n=!0)},o(l){L(t),n=!1},d(l){l&&M(r),s[e].d(l)}}}function Jh(i,e,t){let r;const n=["color","defaultClass","show"];let a=he(e,n),{$$slots:s={},$$scope:o}=e,{color:l="gray"}=e,{defaultClass:h="text-sm rtl:text-right font-medium block"}=e,{show:d=!0}=e,u;const f={gray:"text-gray-900 dark:text-gray-300",green:"text-green-700 dark:text-green-500",red:"text-red-700 dark:text-red-500",disabled:"text-gray-400 dark:text-gray-500"};function c(g){We[g?"unshift":"push"](()=>{u=g,t(1,u)})}return i.$$set=g=>{t(10,e=X(X({},e),de(g))),t(3,a=he(e,n)),"color"in g&&t(4,l=g.color),"defaultClass"in g&&t(5,h=g.defaultClass),"show"in g&&t(0,d=g.show),"$$scope"in g&&t(6,o=g.$$scope)},i.$$.update=()=>{if(i.$$.dirty&18){const g=u?.control;t(4,l=g?.disabled?"disabled":l)}t(2,r=ce(h,f[l],e.class))},e=de(e),[d,u,r,a,l,h,o,s,c]}let Ct=class extends Ce{constructor(e){super(),Se(this,e,Jh,Qh,ge,{color:4,defaultClass:5,show:0})}};function Zh(i){let e,t,r,n,a,s,o,l;const h=i[8].default,d=Re(h,i,i[7],null);let u=[i[6],{type:"file"},{class:"hidden"}],f={};for(let c=0;c<u.length;c+=1)f=X(f,u[c]);return{c(){e=$("button"),t=$("label"),d&&d.c(),r=ae(),n=$("input"),this.h()},l(c){e=ee(c,"BUTTON",{class:!0,type:!0});var g=te(e);t=ee(g,"LABEL",{class:!0,tabindex:!0});var m=te(t);d&&d.l(m),r=se(m),n=ee(m,"INPUT",{type:!0,class:!0}),m.forEach(M),g.forEach(M),this.h()},h(){Ie(n,f),B(t,"class","flex flex-col items-center"),B(t,"tabindex","0"),B(e,"class",a=ce(i[2],i[5].class)),B(e,"type","button")},m(c,g){D(c,e,g),ie(e,t),d&&d.m(t,null),ie(t,r),ie(t,n),n.autofocus&&n.focus(),i[21](n),s=!0,o||(l=[I(n,"change",i[20]),I(n,"change",i[18]),I(n,"click",i[19]),I(e,"keydown",i[4]),I(e,"focus",i[9]),I(e,"blur",i[10]),I(e,"mouseenter",i[11]),I(e,"mouseleave",i[12]),I(e,"mouseover",i[13]),I(e,"dragenter",i[14]),I(e,"dragleave",i[15]),I(e,"dragover",i[16]),I(e,"drop",i[17])],o=!0)},p(c,[g]){d&&d.p&&(!s||g&128)&&Me(d,h,c,c[7],s?Ne(h,c[7],g,null):Fe(c[7]),null),Ie(n,f=De(u,[g&64&&c[6],{type:"file"},{class:"hidden"}])),(!s||g&36&&a!==(a=ce(c[2],c[5].class)))&&B(e,"class",a)},i(c){s||(O(d,c),s=!0)},o(c){L(d,c),s=!1},d(c){c&&M(e),d&&d.d(c),i[21](null),o=!1,ht(l)}}}function $h(i,e,t){const r=["value","files","defaultClass"];let n=he(e,r),{$$slots:a={},$$scope:s}=e,{value:o=""}=e,{files:l=void 0}=e,{defaultClass:h="flex flex-col justify-center items-center w-full h-64 bg-gray-50 rounded-lg border-2 border-gray-300 border-dashed cursor-pointer dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"}=e,d;function u(P){[" ","Enter"].includes(P.key)&&(P.preventDefault(),d.click())}function f(P){U.call(this,i,P)}function c(P){U.call(this,i,P)}function g(P){U.call(this,i,P)}function m(P){U.call(this,i,P)}function v(P){U.call(this,i,P)}function w(P){U.call(this,i,P)}function C(P){U.call(this,i,P)}function p(P){U.call(this,i,P)}function _(P){U.call(this,i,P)}function b(P){U.call(this,i,P)}function y(P){U.call(this,i,P)}function N(){o=this.value,l=this.files,t(0,o),t(1,l)}function S(P){We[P?"unshift":"push"](()=>{d=P,t(3,d)})}return i.$$set=P=>{t(5,e=X(X({},e),de(P))),t(6,n=he(e,r)),"value"in P&&t(0,o=P.value),"files"in P&&t(1,l=P.files),"defaultClass"in P&&t(2,h=P.defaultClass),"$$scope"in P&&t(7,s=P.$$scope)},e=de(e),[o,l,h,d,u,e,n,s,a,f,c,g,m,v,w,C,p,_,b,y,N,S]}class ed extends Ce{constructor(e){super(),Se(this,e,$h,Zh,ge,{value:0,files:1,defaultClass:2})}}const td=i=>({}),Ba=i=>({}),rd=i=>({props:i[0]&72}),Ha=i=>({props:{...i[6],class:i[3]}}),id=i=>({}),Wa=i=>({});function ja(i){let e,t,r;const n=i[11].left,a=Re(n,i,i[26],Wa);return{c(){e=$("div"),a&&a.c(),this.h()},l(s){e=ee(s,"DIV",{class:!0});var o=te(e);a&&a.l(o),o.forEach(M),this.h()},h(){B(e,"class",t=ce(i[2],i[4].classLeft)+" start-0 ps-2.5 pointer-events-none")},m(s,o){D(s,e,o),a&&a.m(e,null),r=!0},p(s,o){a&&a.p&&(!r||o[0]&67108864)&&Me(a,n,s,s[26],r?Ne(n,s[26],o,id):Fe(s[26]),Wa),(!r||o[0]&20&&t!==(t=ce(s[2],s[4].classLeft)+" start-0 ps-2.5 pointer-events-none"))&&B(e,"class",t)},i(s){r||(O(a,s),r=!0)},o(s){L(a,s),r=!1},d(s){s&&M(e),a&&a.d(s)}}}function nd(i){let e,t,r,n=[i[6],{type:i[1]},{class:i[3]}],a={};for(let s=0;s<n.length;s+=1)a=X(a,n[s]);return{c(){e=$("input"),this.h()},l(s){e=ee(s,"INPUT",{class:!0}),this.h()},h(){Ie(e,a)},m(s,o){D(s,e,o),e.autofocus&&e.focus(),mi(e,i[0]),t||(r=[I(e,"input",i[25]),I(e,"blur",i[12]),I(e,"change",i[13]),I(e,"click",i[14]),I(e,"contextmenu",i[15]),I(e,"focus",i[16]),I(e,"keydown",i[17]),I(e,"keypress",i[18]),I(e,"keyup",i[19]),I(e,"mouseover",i[20]),I(e,"mouseenter",i[21]),I(e,"mouseleave",i[22]),I(e,"paste",i[23]),I(e,"input",i[24])],t=!0)},p(s,o){Ie(e,a=De(n,[o[0]&64&&s[6],o[0]&2&&{type:s[1]},o[0]&8&&{class:s[3]}])),o[0]&1&&e.value!==s[0]&&mi(e,s[0])},d(s){s&&M(e),t=!1,ht(r)}}}function Ya(i){let e,t,r;const n=i[11].right,a=Re(n,i,i[26],Ba);return{c(){e=$("div"),a&&a.c(),this.h()},l(s){e=ee(s,"DIV",{class:!0});var o=te(e);a&&a.l(o),o.forEach(M),this.h()},h(){B(e,"class",t=ce(i[2],i[4].classRight)+" end-0 pe-2.5")},m(s,o){D(s,e,o),a&&a.m(e,null),r=!0},p(s,o){a&&a.p&&(!r||o[0]&67108864)&&Me(a,n,s,s[26],r?Ne(n,s[26],o,td):Fe(s[26]),Ba),(!r||o[0]&20&&t!==(t=ce(s[2],s[4].classRight)+" end-0 pe-2.5"))&&B(e,"class",t)},i(s){r||(O(a,s),r=!0)},o(s){L(a,s),r=!1},d(s){s&&M(e),a&&a.d(s)}}}function ad(i){let e,t,r,n,a=i[5].left&&ja(i);const s=i[11].default,o=Re(s,i,i[26],Ha),l=o||nd(i);let h=i[5].right&&Ya(i);return{c(){a&&a.c(),e=ae(),l&&l.c(),t=ae(),h&&h.c(),r=pe()},l(d){a&&a.l(d),e=se(d),l&&l.l(d),t=se(d),h&&h.l(d),r=pe()},m(d,u){a&&a.m(d,u),D(d,e,u),l&&l.m(d,u),D(d,t,u),h&&h.m(d,u),D(d,r,u),n=!0},p(d,u){d[5].left?a?(a.p(d,u),u[0]&32&&O(a,1)):(a=ja(d),a.c(),O(a,1),a.m(e.parentNode,e)):a&&(je(),L(a,1,1,()=>{a=null}),Ye()),o?o.p&&(!n||u[0]&67108936)&&Me(o,s,d,d[26],n?Ne(s,d[26],u,rd):Fe(d[26]),Ha):l&&l.p&&(!n||u[0]&75)&&l.p(d,n?u:[-1,-1]),d[5].right?h?(h.p(d,u),u[0]&32&&O(h,1)):(h=Ya(d),h.c(),O(h,1),h.m(r.parentNode,r)):h&&(je(),L(h,1,1,()=>{h=null}),Ye())},i(d){n||(O(a),O(l,d),O(h),n=!0)},o(d){L(a),L(l,d),L(h),n=!1},d(d){d&&(M(e),M(t),M(r)),a&&a.d(d),l&&l.d(d),h&&h.d(d)}}}function sd(i){let e,t;return e=new uo({props:{class:"relative w-full",show:i[5].left||i[5].right,$$slots:{default:[ad]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n[0]&32&&(a.show=r[5].left||r[5].right),n[0]&67108991&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function od(i){return i&&i==="xs"?"sm":i==="xl"?"lg":i}function ld(i,e,t){let r;const n=["type","value","size","defaultClass","color","floatClass"];let a=he(e,n),{$$slots:s={},$$scope:o}=e;const l=Jn(s);let{type:h="text"}=e,{value:d=void 0}=e,{size:u=void 0}=e,{defaultClass:f="block w-full disabled:cursor-not-allowed disabled:opacity-50 rtl:text-right"}=e,{color:c="base"}=e,{floatClass:g="flex absolute inset-y-0 items-center text-gray-500 dark:text-gray-400"}=e;const m={base:"border-gray-300 dark:border-gray-600",tinted:"border-gray-300 dark:border-gray-500",green:"border-green-500 dark:border-green-400",red:"border-red-500 dark:border-red-400"},v={base:"focus:border-primary-500 focus:ring-primary-500 dark:focus:border-primary-500 dark:focus:ring-primary-500",green:"focus:ring-green-500 focus:border-green-500 dark:focus:border-green-500 dark:focus:ring-green-500",red:"focus:ring-red-500 focus:border-red-500 dark:focus:ring-red-500 dark:focus:border-red-500"},w={base:"bg-gray-50 text-gray-900 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400",tinted:"bg-gray-50 text-gray-900 dark:bg-gray-600 dark:text-white dark:placeholder-gray-400",green:"bg-green-50 text-green-900 placeholder-green-700 dark:text-green-400 dark:placeholder-green-500 dark:bg-gray-700",red:"bg-red-50 text-red-900 placeholder-red-700 dark:text-red-500 dark:placeholder-red-500 dark:bg-gray-700"};let C=et("background"),p=et("group");const _={sm:"sm:text-xs",md:"text-sm",lg:"sm:text-base"},b={sm:"ps-9",md:"ps-10",lg:"ps-11"},y={sm:"pe-9",md:"pe-10",lg:"pe-11"},N={sm:"p-2",md:"p-2.5",lg:"p-3"};let S;function P(Y){U.call(this,i,Y)}function A(Y){U.call(this,i,Y)}function E(Y){U.call(this,i,Y)}function T(Y){U.call(this,i,Y)}function G(Y){U.call(this,i,Y)}function R(Y){U.call(this,i,Y)}function F(Y){U.call(this,i,Y)}function V(Y){U.call(this,i,Y)}function j(Y){U.call(this,i,Y)}function ne(Y){U.call(this,i,Y)}function H(Y){U.call(this,i,Y)}function W(Y){U.call(this,i,Y)}function K(Y){U.call(this,i,Y)}function le(){d=this.value,t(0,d)}return i.$$set=Y=>{t(4,e=X(X({},e),de(Y))),t(6,a=he(e,n)),"type"in Y&&t(1,h=Y.type),"value"in Y&&t(0,d=Y.value),"size"in Y&&t(7,u=Y.size),"defaultClass"in Y&&t(8,f=Y.defaultClass),"color"in Y&&t(9,c=Y.color),"floatClass"in Y&&t(2,g=Y.floatClass),"$$scope"in Y&&t(26,o=Y.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&128&&t(10,r=u||od(p?.size)||"md");{const Y=c==="base"&&C?"tinted":c;t(3,S=ce([f,N[r],l.left&&b[r]||l.right&&y[r],v[c],w[Y],m[Y],_[r],p||"rounded-lg",p&&"first:rounded-s-lg last:rounded-e-lg",p&&"border-s-0 first:border-s last:border-e",e.class]))}},e=de(e),[d,h,g,S,e,l,a,u,f,c,r,s,P,A,E,T,G,R,F,V,j,ne,H,W,K,le,o]}class hd extends Ce{constructor(e){super(),Se(this,e,ld,sd,ge,{type:1,value:0,size:7,defaultClass:8,color:9,floatClass:2},null,[-1,-1])}}function dd(i){let e,t,r,n=[i[16],{type:"number"}],a={};for(let s=0;s<n.length;s+=1)a=X(a,n[s]);return{c(){e=$("input"),this.h()},l(s){e=ee(s,"INPUT",{type:!0}),this.h()},h(){Ie(e,a)},m(s,o){D(s,e,o),e.autofocus&&e.focus(),mi(e,i[0]),t||(r=[I(e,"input",i[15]),I(e,"blur",i[2]),I(e,"change",i[3]),I(e,"click",i[4]),I(e,"contextmenu",i[5]),I(e,"focus",i[6]),I(e,"keydown",i[7]),I(e,"keypress",i[8]),I(e,"keyup",i[9]),I(e,"mouseover",i[10]),I(e,"mouseenter",i[11]),I(e,"mouseleave",i[12]),I(e,"paste",i[13]),I(e,"input",i[14])],t=!0)},p(s,o){Ie(e,a=De(n,[o&65536&&s[16],{type:"number"}])),o&1&&Ys(e.value)!==s[0]&&mi(e,s[0])},d(s){s&&M(e),t=!1,ht(r)}}}function cd(i){let e,t;const r=[i[1]];let n={$$slots:{default:[dd,({props:a})=>({16:a}),({props:a})=>a?65536:0]},$$scope:{ctx:i}};for(let a=0;a<r.length;a+=1)n=X(n,r[a]);return e=new hd({props:n}),{c(){q(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,s){J(e,a,s),t=!0},p(a,[s]){const o=s&2?De(r,[or(a[1])]):{};s&196609&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){t||(O(e.$$.fragment,a),t=!0)},o(a){L(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}function ud(i,e,t){const r=["value"];let n=he(e,r),{value:a=0}=e;function s(_){U.call(this,i,_)}function o(_){U.call(this,i,_)}function l(_){U.call(this,i,_)}function h(_){U.call(this,i,_)}function d(_){U.call(this,i,_)}function u(_){U.call(this,i,_)}function f(_){U.call(this,i,_)}function c(_){U.call(this,i,_)}function g(_){U.call(this,i,_)}function m(_){U.call(this,i,_)}function v(_){U.call(this,i,_)}function w(_){U.call(this,i,_)}function C(_){U.call(this,i,_)}function p(){a=Ys(this.value),t(0,a)}return i.$$set=_=>{e=X(X({},e),de(_)),t(1,n=he(e,r)),"value"in _&&t(0,a=_.value)},[a,n,s,o,l,h,d,u,f,c,g,m,v,w,C,p]}class St extends Ce{constructor(e){super(),Se(this,e,ud,cd,ge,{value:0})}}const fd=`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`;function gd(i){function e(t){if(!(t.key==="Tab"||t.keyCode===9))return;const n=Array.from(i.querySelectorAll(fd));let a=n.indexOf(document.activeElement??i);a===-1&&t.shiftKey&&(a=0),a+=n.length+(t.shiftKey?-1:1),a%=n.length,n[a].focus(),t.preventDefault()}return document.addEventListener("keydown",e,!0),{destroy(){document.removeEventListener("keydown",e,!0)}}}const md=i=>({}),Xa=i=>({}),pd=i=>({}),Ka=i=>({});function qa(i){let e,t,r,n,a,s,o,l,h,d;const u=[{rounded:!0},{shadow:!0},i[15],{class:i[5]}];let f={$$slots:{default:[yd]},$$scope:{ctx:i}};for(let c=0;c<u.length;c+=1)f=X(f,u[c]);return a=new Mr({props:f}),{c(){e=$("div"),t=ae(),r=$("div"),n=$("div"),q(a.$$.fragment),this.h()},l(c){e=ee(c,"DIV",{class:!0}),te(e).forEach(M),t=se(c),r=ee(c,"DIV",{class:!0,tabindex:!0,"aria-modal":!0,role:!0});var g=te(r);n=ee(g,"DIV",{class:!0});var m=te(n);Q(a.$$.fragment,m),m.forEach(M),g.forEach(M),this.h()},h(){B(e,"class",i[12]),B(n,"class",s="flex relative "+i[8][i[2]]+" w-full max-h-full"),B(r,"class",o=ce(i[4],i[14].classDialog,...i[7]())),B(r,"tabindex","-1"),B(r,"aria-modal","true"),B(r,"role","dialog")},m(c,g){D(c,e,g),D(c,t,g),D(c,r,g),ie(r,n),J(a,n,null),l=!0,h||(d=[I(r,"keydown",i[13]),I(r,"wheel",Jo(i[23]),{passive:!1}),Br(i[6].call(null,r)),Br(gd.call(null,r)),I(r,"click",i[9]),I(r,"mousedown",i[10])],h=!0)},p(c,g){const m=g&32800?De(u,[u[0],u[1],g&32768&&or(c[15]),g&32&&{class:c[5]}]):{};g&33669130&&(m.$$scope={dirty:g,ctx:c}),a.$set(m),(!l||g&4&&s!==(s="flex relative "+c[8][c[2]]+" w-full max-h-full"))&&B(n,"class",s),(!l||g&16400&&o!==(o=ce(c[4],c[14].classDialog,...c[7]())))&&B(r,"class",o)},i(c){l||(O(a.$$.fragment,c),l=!0)},o(c){L(a.$$.fragment,c),l=!1},d(c){c&&(M(e),M(t),M(r)),Z(a),h=!1,ht(d)}}}function Qa(i){let e,t;return e=new Mr({props:{color:i[15].color,class:"flex justify-between items-center p-4 rounded-t-lg",$$slots:{default:[vd]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n&32768&&(a.color=r[15].color),n&33587210&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function _d(i){let e,t,r;return{c(){e=$("h3"),t=we(i[1]),this.h()},l(n){e=ee(n,"H3",{class:!0});var a=te(e);t=ke(a,i[1]),a.forEach(M),this.h()},h(){B(e,"class",r="text-xl font-semibold "+(i[15].color?"":"text-gray-900 dark:text-white")+" p-0")},m(n,a){D(n,e,a),ie(e,t)},p(n,a){a&2&&tr(t,n[1]),a&32768&&r!==(r="text-xl font-semibold "+(n[15].color?"":"text-gray-900 dark:text-white")+" p-0")&&B(e,"class",r)},d(n){n&&M(e)}}}function Ja(i){let e,t;return e=new eo({props:{name:"Close modal",color:i[15].color}}),e.$on("click",i[11]),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n&32768&&(a.color=r[15].color),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function vd(i){let e,t,r;const n=i[22].header,a=Re(n,i,i[25],Ka),s=a||_d(i);let o=i[3]&&Ja(i);return{c(){s&&s.c(),e=ae(),o&&o.c(),t=pe()},l(l){s&&s.l(l),e=se(l),o&&o.l(l),t=pe()},m(l,h){s&&s.m(l,h),D(l,e,h),o&&o.m(l,h),D(l,t,h),r=!0},p(l,h){a?a.p&&(!r||h&33554432)&&Me(a,n,l,l[25],r?Ne(n,l[25],h,pd):Fe(l[25]),Ka):s&&s.p&&(!r||h&32770)&&s.p(l,r?h:-1),l[3]?o?(o.p(l,h),h&8&&O(o,1)):(o=Ja(l),o.c(),O(o,1),o.m(t.parentNode,t)):o&&(je(),L(o,1,1,()=>{o=null}),Ye())},i(l){r||(O(s,l),O(o),r=!0)},o(l){L(s,l),L(o),r=!1},d(l){l&&(M(e),M(t)),s&&s.d(l),o&&o.d(l)}}}function Za(i){let e,t;return e=new eo({props:{name:"Close modal",class:"absolute top-3 end-2.5",color:i[15].color}}),e.$on("click",i[11]),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n&32768&&(a.color=r[15].color),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function $a(i){let e,t;return e=new Mr({props:{color:i[15].color,class:"flex items-center p-6 space-x-2 rtl:space-x-reverse rounded-b-lg",$$slots:{default:[bd]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n&32768&&(a.color=r[15].color),n&33554432&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function bd(i){let e;const t=i[22].footer,r=Re(t,i,i[25],Xa);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&33554432)&&Me(r,t,n,n[25],e?Ne(t,n[25],a,md):Fe(n[25]),Xa)},i(n){e||(O(r,n),e=!0)},o(n){L(r,n),e=!1},d(n){r&&r.d(n)}}}function yd(i){let e,t,r,n,a,s,o,l,h,d=(i[16].header||i[1])&&Qa(i),u=i[3]&&!i[16].header&&!i[1]&&Za(i);const f=i[22].default,c=Re(f,i,i[25],null);let g=i[16].footer&&$a(i);return{c(){d&&d.c(),e=ae(),t=$("div"),u&&u.c(),r=ae(),c&&c.c(),a=ae(),g&&g.c(),s=pe(),this.h()},l(m){d&&d.l(m),e=se(m),t=ee(m,"DIV",{class:!0,role:!0});var v=te(t);u&&u.l(v),r=se(v),c&&c.l(v),v.forEach(M),a=se(m),g&&g.l(m),s=pe(),this.h()},h(){B(t,"class",n=ce("p-6 space-y-6 flex-1 overflow-y-auto overscroll-contain",i[14].bodyClass)),B(t,"role","document")},m(m,v){d&&d.m(m,v),D(m,e,v),D(m,t,v),u&&u.m(t,null),ie(t,r),c&&c.m(t,null),D(m,a,v),g&&g.m(m,v),D(m,s,v),o=!0,l||(h=[I(t,"keydown",ya(i[13])),I(t,"wheel",ya(i[24]),{passive:!0})],l=!0)},p(m,v){m[16].header||m[1]?d?(d.p(m,v),v&65538&&O(d,1)):(d=Qa(m),d.c(),O(d,1),d.m(e.parentNode,e)):d&&(je(),L(d,1,1,()=>{d=null}),Ye()),m[3]&&!m[16].header&&!m[1]?u?(u.p(m,v),v&65546&&O(u,1)):(u=Za(m),u.c(),O(u,1),u.m(t,r)):u&&(je(),L(u,1,1,()=>{u=null}),Ye()),c&&c.p&&(!o||v&33554432)&&Me(c,f,m,m[25],o?Ne(f,m[25],v,null):Fe(m[25]),null),(!o||v&16384&&n!==(n=ce("p-6 space-y-6 flex-1 overflow-y-auto overscroll-contain",m[14].bodyClass)))&&B(t,"class",n),m[16].footer?g?(g.p(m,v),v&65536&&O(g,1)):(g=$a(m),g.c(),O(g,1),g.m(s.parentNode,s)):g&&(je(),L(g,1,1,()=>{g=null}),Ye())},i(m){o||(O(d),O(u),O(c,m),O(g),o=!0)},o(m){L(d),L(u),L(c,m),L(g),o=!1},d(m){m&&(M(e),M(t),M(a),M(s)),d&&d.d(m),u&&u.d(),c&&c.d(m),g&&g.d(m),l=!1,ht(h)}}}function wd(i){let e,t,r=i[0]&&qa(i);return{c(){r&&r.c(),e=pe()},l(n){r&&r.l(n),e=pe()},m(n,a){r&&r.m(n,a),D(n,e,a),t=!0},p(n,[a]){n[0]?r?(r.p(n,a),a&1&&O(r,1)):(r=qa(n),r.c(),O(r,1),r.m(e.parentNode,e)):r&&(je(),L(r,1,1,()=>{r=null}),Ye())},i(n){t||(O(r),t=!0)},o(n){L(r),t=!1},d(n){n&&M(e),r&&r.d(n)}}}function kd(i,e,t){const r=["open","title","size","placement","autoclose","dismissable","backdropClass","defaultClass","outsideclose","dialogClass"];let n=he(e,r),{$$slots:a={},$$scope:s}=e;const o=Jn(a);let{open:l=!1}=e,{title:h=""}=e,{size:d="md"}=e,{placement:u="center"}=e,{autoclose:f=!1}=e,{dismissable:c=!0}=e,{backdropClass:g="fixed inset-0 z-40 bg-gray-900 bg-opacity-50 dark:bg-opacity-80"}=e,{defaultClass:m="relative flex flex-col mx-auto"}=e,{outsideclose:v=!1}=e,{dialogClass:w="fixed top-0 start-0 end-0 h-modal md:inset-0 md:h-full z-50 w-full p-4 flex"}=e;const C=ar();function p(F){const V=document.createTreeWalker(F,NodeFilter.SHOW_ELEMENT);let j;for(;j=V.nextNode();)if(j instanceof HTMLElement){const ne=j,[H,W]=A(ne);(H||W)&&(ne.tabIndex=0)}F.focus()}const _=()=>{switch(u){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},b={xs:"max-w-md",sm:"max-w-lg",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-7xl"},y=F=>{const V=F.target;f&&V?.tagName==="BUTTON"&&S(F)},N=F=>{const V=F.target;v&&V===F.currentTarget&&S(F)},S=F=>{F.preventDefault(),t(0,l=!1)};let P;const A=F=>[F.scrollWidth>F.clientWidth&&["scroll","auto"].indexOf(getComputedStyle(F).overflowX)>=0,F.scrollHeight>F.clientHeight&&["scroll","auto"].indexOf(getComputedStyle(F).overflowY)>=0];let E=ce(g,e.classBackdrop);function T(F){if(F.key==="Escape"&&c)return S(F)}function G(F){U.call(this,i,F)}function R(F){U.call(this,i,F)}return i.$$set=F=>{t(14,e=X(X({},e),de(F))),t(15,n=he(e,r)),"open"in F&&t(0,l=F.open),"title"in F&&t(1,h=F.title),"size"in F&&t(2,d=F.size),"placement"in F&&t(17,u=F.placement),"autoclose"in F&&t(18,f=F.autoclose),"dismissable"in F&&t(3,c=F.dismissable),"backdropClass"in F&&t(19,g=F.backdropClass),"defaultClass"in F&&t(20,m=F.defaultClass),"outsideclose"in F&&t(21,v=F.outsideclose),"dialogClass"in F&&t(4,w=F.dialogClass),"$$scope"in F&&t(25,s=F.$$scope)},i.$$.update=()=>{i.$$.dirty&1&&C(l?"open":"close"),t(5,P=ce(m,"w-full divide-y",e.class))},e=de(e),[l,h,d,c,w,P,p,_,b,y,N,S,E,T,e,n,o,u,f,g,m,v,a,G,R,s]}class Ti extends Ce{constructor(e){super(),Se(this,e,kd,wd,ge,{open:0,title:1,size:2,placement:17,autoclose:18,dismissable:3,backdropClass:19,defaultClass:20,outsideclose:21,dialogClass:4})}}function Cd(i){let e,t,r;const n=i[3].default,a=Re(n,i,i[2],null);return{c(){e=$("div"),a&&a.c(),this.h()},l(s){e=ee(s,"DIV",{class:!0});var o=te(e);a&&a.l(o),o.forEach(M),this.h()},h(){B(e,"class",t=ce("mx-auto flex flex-wrap justify-between items-center ",i[0]?"w-full":"container",i[1].class))},m(s,o){D(s,e,o),a&&a.m(e,null),r=!0},p(s,[o]){a&&a.p&&(!r||o&4)&&Me(a,n,s,s[2],r?Ne(n,s[2],o,null):Fe(s[2]),null),(!r||o&3&&t!==(t=ce("mx-auto flex flex-wrap justify-between items-center ",s[0]?"w-full":"container",s[1].class)))&&B(e,"class",t)},i(s){r||(O(a,s),r=!0)},o(s){L(a,s),r=!1},d(s){s&&M(e),a&&a.d(s)}}}function Sd(i,e,t){let{$$slots:r={},$$scope:n}=e,{fluid:a=!1}=e;return i.$$set=s=>{t(1,e=X(X({},e),de(s))),"fluid"in s&&t(0,a=s.fluid),"$$scope"in s&&t(2,n=s.$$scope)},e=de(e),[a,e,n,r]}class fo extends Ce{constructor(e){super(),Se(this,e,Sd,Cd,ge,{fluid:0})}}const Pd=i=>({hidden:i&2}),es=i=>({hidden:i[1],toggle:i[3],NavContainer:fo});function Ed(i){let e;const t=i[6].default,r=Re(t,i,i[7],es);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&130)&&Me(r,t,n,n[7],e?Ne(t,n[7],a,Pd):Fe(n[7]),es)},i(n){e||(O(r,n),e=!0)},o(n){L(r,n),e=!1},d(n){r&&r.d(n)}}}function Td(i){let e,t;return e=new fo({props:{fluid:i[0],$$slots:{default:[Ed]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n&1&&(a.fluid=r[0]),n&130&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Ad(i){let e,t;const r=[{tag:"nav"},i[4],{class:ce("px-2 sm:px-4 py-2.5 w-full",i[5].class)}];let n={$$slots:{default:[Td]},$$scope:{ctx:i}};for(let a=0;a<r.length;a+=1)n=X(n,r[a]);return e=new Mr({props:n}),{c(){q(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,s){J(e,a,s),t=!0},p(a,[s]){const o=s&48?De(r,[r[0],s&16&&or(a[4]),s&32&&{class:ce("px-2 sm:px-4 py-2.5 w-full",a[5].class)}]):{};s&131&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){t||(O(e.$$.fragment,a),t=!0)},o(a){L(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}function Rd(i,e,t){const r=["fluid"];let n=he(e,r),a,{$$slots:s={},$$scope:o}=e,{fluid:l=!1}=e,h=sr(!0);Ar(i,h,u=>t(1,a=u)),Et("navHidden",h);let d=()=>h.update(u=>!u);return i.$$set=u=>{t(5,e=X(X({},e),de(u))),t(4,n=he(e,r)),"fluid"in u&&t(0,l=u.fluid),"$$scope"in u&&t(7,o=u.$$scope)},i.$$.update=()=>{t(4,n.color=n.color??"navbar",n)},e=de(e),[l,a,h,d,n,e,s,o]}class Md extends Ce{constructor(e){super(),Se(this,e,Rd,Ad,ge,{fluid:0})}}function Fd(i){let e,t,r;const n=i[4].default,a=Re(n,i,i[3],null);let s=[{href:i[0]},i[1],{class:t=ce("flex items-center",i[2].class)}],o={};for(let l=0;l<s.length;l+=1)o=X(o,s[l]);return{c(){e=$("a"),a&&a.c(),this.h()},l(l){e=ee(l,"A",{href:!0,class:!0});var h=te(e);a&&a.l(h),h.forEach(M),this.h()},h(){Ie(e,o)},m(l,h){D(l,e,h),a&&a.m(e,null),r=!0},p(l,[h]){a&&a.p&&(!r||h&8)&&Me(a,n,l,l[3],r?Ne(n,l[3],h,null):Fe(l[3]),null),Ie(e,o=De(s,[(!r||h&1)&&{href:l[0]},h&2&&l[1],(!r||h&4&&t!==(t=ce("flex items-center",l[2].class)))&&{class:t}]))},i(l){r||(O(a,l),r=!0)},o(l){L(a,l),r=!1},d(l){l&&M(e),a&&a.d(l)}}}function Nd(i,e,t){const r=["href"];let n=he(e,r),{$$slots:a={},$$scope:s}=e,{href:o=""}=e;return i.$$set=l=>{t(2,e=X(X({},e),de(l))),t(1,n=he(e,r)),"href"in l&&t(0,o=l.href),"$$scope"in l&&t(3,s=l.$$scope)},e=de(e),[o,n,e,s,a]}class Od extends Ce{constructor(e){super(),Se(this,e,Nd,Fd,ge,{href:0})}}function Ld(i){let e,t,r,n,a,s=[{xmlns:"http://www.w3.org/2000/svg"},{role:"button"},{tabindex:"0"},{width:i[0]},{height:i[0]},{class:r=i[4].class},i[5],{"aria-label":i[1]},{fill:"none"},{viewBox:i[2]},{"stroke-width":"2"}],o={};for(let l=0;l<s.length;l+=1)o=X(o,s[l]);return{c(){e=Tt("svg"),t=new Zo(!0),this.h()},l(l){e=At(l,"svg",{xmlns:!0,role:!0,tabindex:!0,width:!0,height:!0,class:!0,"aria-label":!0,fill:!0,viewBox:!0,"stroke-width":!0});var h=te(e);t=$o(h,!0),h.forEach(M),this.h()},h(){t.a=null,kr(e,o)},m(l,h){D(l,e,h),t.m(i[3],e),n||(a=I(e,"click",i[8]),n=!0)},p(l,[h]){h&8&&t.p(l[3]),kr(e,o=De(s,[{xmlns:"http://www.w3.org/2000/svg"},{role:"button"},{tabindex:"0"},h&1&&{width:l[0]},h&1&&{height:l[0]},h&16&&r!==(r=l[4].class)&&{class:r},h&32&&l[5],h&2&&{"aria-label":l[1]},{fill:"none"},h&4&&{viewBox:l[2]},{"stroke-width":"2"}]))},i:it,o:it,d(l){l&&M(e),n=!1,a()}}}function Gd(i,e,t){const r=["size","color","variation","ariaLabel"];let n=he(e,r),{size:a="24"}=e,{color:s="currentColor"}=e,{variation:o="outline"}=e,{ariaLabel:l="bars 3"}=e,h,d,u=`<path stroke="${s}" stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path> `,f=`<path fill="${s}" clip-rule="evenodd" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"></path> `;function c(g){U.call(this,i,g)}return i.$$set=g=>{t(4,e=X(X({},e),de(g))),t(5,n=he(e,r)),"size"in g&&t(0,a=g.size),"color"in g&&t(6,s=g.color),"variation"in g&&t(7,o=g.variation),"ariaLabel"in g&&t(1,l=g.ariaLabel)},i.$$.update=()=>{if(i.$$.dirty&128)switch(o){case"outline":t(3,d=u),t(2,h="0 0 24 24");break;case"solid":t(3,d=f),t(2,h="0 0 24 24");break;default:t(3,d=u),t(2,h="0 0 24 24")}},e=de(e),[a,l,h,d,e,n,s,o,c]}class Dd extends Ce{constructor(e){super(),Se(this,e,Gd,Ld,ge,{size:0,color:6,variation:7,ariaLabel:1})}}function xd(i){let e,t;return e=new Dd({props:{class:ce(i[0],i[4].classMenu)}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n&17&&(a.class=ce(r[0],r[4].classMenu)),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Id(i){let e,t;const r=[{name:"Open main menu"},i[3],{class:ce(ts,i[4].class)}];let n={$$slots:{default:[xd]},$$scope:{ctx:i}};for(let a=0;a<r.length;a+=1)n=X(n,r[a]);return e=new $s({props:n}),e.$on("click",function(){yr(i[1]||i[2])&&(i[1]||i[2]).apply(this,arguments)}),{c(){q(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,s){J(e,a,s),t=!0},p(a,[s]){i=a;const o=s&24?De(r,[r[0],s&8&&or(i[3]),s&16&&{class:ce(ts,i[4].class)}]):{};s&81&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(a){t||(O(e.$$.fragment,a),t=!0)},o(a){L(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}let ts="ms-3 md:hidden";function Ud(i,e,t){const r=["menuClass","onClick"];let n=he(e,r),{menuClass:a="h-6 w-6 shrink-0"}=e,{onClick:s=void 0}=e,o=et("navHidden")??sr(!0);const l=h=>o.update(d=>!d);return i.$$set=h=>{t(4,e=X(X({},e),de(h))),t(3,n=he(e,r)),"menuClass"in h&&t(0,a=h.menuClass),"onClick"in h&&t(1,s=h.onClick)},e=de(e),[a,s,l,n,e]}class Vd extends Ce{constructor(e){super(),Se(this,e,Ud,Id,ge,{menuClass:0,onClick:1})}}function En(i){let e,t,r,n,a;const s=i[8].default,o=Re(s,i,i[7],null);let l=[{role:t=i[0]?void 0:"link"},{href:i[0]},i[2],{class:i[1]}],h={};for(let d=0;d<l.length;d+=1)h=X(h,l[d]);return{c(){e=$(i[0]?"a":"div"),o&&o.c(),this.h()},l(d){e=ee(d,((i[0]?"a":"div")||"null").toUpperCase(),{role:!0,href:!0,class:!0});var u=te(e);o&&o.l(u),u.forEach(M),this.h()},h(){gt(i[0]?"a":"div")(e,h)},m(d,u){D(d,e,u),o&&o.m(e,null),r=!0,n||(a=[I(e,"blur",i[9]),I(e,"change",i[10]),I(e,"click",i[11]),I(e,"focus",i[12]),I(e,"keydown",i[13]),I(e,"keypress",i[14]),I(e,"keyup",i[15]),I(e,"mouseenter",i[16]),I(e,"mouseleave",i[17]),I(e,"mouseover",i[18])],n=!0)},p(d,u){o&&o.p&&(!r||u&128)&&Me(o,s,d,d[7],r?Ne(s,d[7],u,null):Fe(d[7]),null),gt(d[0]?"a":"div")(e,h=De(l,[(!r||u&1&&t!==(t=d[0]?void 0:"link"))&&{role:t},(!r||u&1)&&{href:d[0]},u&4&&d[2],(!r||u&2)&&{class:d[1]}]))},i(d){r||(O(o,d),r=!0)},o(d){L(o,d),r=!1},d(d){d&&M(e),o&&o.d(d),n=!1,ht(a)}}}function zd(i){let e,t=i[0]?"a":"div",r,n=(i[0]?"a":"div")&&En(i);return{c(){e=$("li"),n&&n.c()},l(a){e=ee(a,"LI",{});var s=te(e);n&&n.l(s),s.forEach(M)},m(a,s){D(a,e,s),n&&n.m(e,null),r=!0},p(a,[s]){a[0],t?ge(t,a[0]?"a":"div")?(n.d(1),n=En(a),t=a[0]?"a":"div",n.c(),n.m(e,null)):n.p(a,s):(n=En(a),t=a[0]?"a":"div",n.c(),n.m(e,null))},i(a){r||(O(n,a),r=!0)},o(a){L(n,a),r=!1},d(a){a&&M(e),n&&n.d(a)}}}function Bd(i,e,t){let r,n;const a=["href","activeClass","nonActiveClass"];let s=he(e,a),{$$slots:o={},$$scope:l}=e,{href:h=""}=e,{activeClass:d=void 0}=e,{nonActiveClass:u=void 0}=e;const f=et("navbarContext")??{},c=et("activeUrl");let g="";c.subscribe(P=>{t(5,g=P)});function m(P){U.call(this,i,P)}function v(P){U.call(this,i,P)}function w(P){U.call(this,i,P)}function C(P){U.call(this,i,P)}function p(P){U.call(this,i,P)}function _(P){U.call(this,i,P)}function b(P){U.call(this,i,P)}function y(P){U.call(this,i,P)}function N(P){U.call(this,i,P)}function S(P){U.call(this,i,P)}return i.$$set=P=>{t(21,e=X(X({},e),de(P))),t(2,s=he(e,a)),"href"in P&&t(0,h=P.href),"activeClass"in P&&t(3,d=P.activeClass),"nonActiveClass"in P&&t(4,u=P.nonActiveClass),"$$scope"in P&&t(7,l=P.$$scope)},i.$$.update=()=>{i.$$.dirty&33&&t(6,r=g?h===g:!1),t(1,n=ce("block py-2 pe-4 ps-3 md:p-0 rounded md:border-0",r?d??f.activeClass:u??f.nonActiveClass,e.class))},e=de(e),[h,n,s,d,u,g,r,l,o,m,v,w,C,p,_,b,y,N,S]}class Tn extends Ce{constructor(e){super(),Se(this,e,Bd,zd,ge,{href:0,activeClass:3,nonActiveClass:4})}}function Hd(i){let e,t,r;const n=i[13].default,a=Re(n,i,i[15],null);let s=[i[5],{class:i[2]},{hidden:i[1]}],o={};for(let l=0;l<s.length;l+=1)o=X(o,s[l]);return{c(){e=$("div"),t=$("ul"),a&&a.c(),this.h()},l(l){e=ee(l,"DIV",{class:!0});var h=te(e);t=ee(h,"UL",{class:!0});var d=te(t);a&&a.l(d),d.forEach(M),h.forEach(M),this.h()},h(){B(t,"class",i[3]),Ie(e,o)},m(l,h){D(l,e,h),ie(e,t),a&&a.m(t,null),r=!0},p(l,h){a&&a.p&&(!r||h&32768)&&Me(a,n,l,l[15],r?Ne(n,l[15],h,null):Fe(l[15]),null),(!r||h&8)&&B(t,"class",l[3]),Ie(e,o=De(s,[h&32&&l[5],(!r||h&4)&&{class:l[2]},(!r||h&2)&&{hidden:l[1]}]))},i(l){r||(O(a,l),r=!0)},o(l){L(a,l),r=!1},d(l){l&&M(e),a&&a.d(l)}}}function Wd(i){let e,t,r,n,a,s;t=new Mr({props:{tag:"ul",border:!0,rounded:!0,color:"navbarUl",class:i[3],$$slots:{default:[jd]},$$scope:{ctx:i}}});let o=[i[5],{class:i[2]},{role:"button"},{tabindex:"0"}],l={};for(let h=0;h<o.length;h+=1)l=X(l,o[h]);return{c(){e=$("div"),q(t.$$.fragment),this.h()},l(h){e=ee(h,"DIV",{class:!0,role:!0,tabindex:!0});var d=te(e);Q(t.$$.fragment,d),d.forEach(M),this.h()},h(){Ie(e,l)},m(h,d){D(h,e,d),J(t,e,null),n=!0,a||(s=I(e,"click",i[14]),a=!0)},p(h,d){i=h;const u={};d&8&&(u.class=i[3]),d&32768&&(u.$$scope={dirty:d,ctx:i}),t.$set(u),Ie(e,l=De(o,[d&32&&i[5],(!n||d&4)&&{class:i[2]},{role:"button"},{tabindex:"0"}]))},i(h){n||(O(t.$$.fragment,h),h&&el(()=>{n&&(r||(r=ka(e,Pa,i[0],!0)),r.run(1))}),n=!0)},o(h){L(t.$$.fragment,h),h&&(r||(r=ka(e,Pa,i[0],!1)),r.run(0)),n=!1},d(h){h&&M(e),Z(t),h&&r&&r.end(),a=!1,s()}}}function jd(i){let e;const t=i[13].default,r=Re(t,i,i[15],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&32768)&&Me(r,t,n,n[15],e?Ne(t,n[15],a,null):Fe(n[15]),null)},i(n){e||(O(r,n),e=!0)},o(n){L(r,n),e=!1},d(n){r&&r.d(n)}}}function Yd(i){let e,t,r,n;const a=[Wd,Hd],s=[];function o(l,h){return l[1]?1:0}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),r=pe()},l(l){t.l(l),r=pe()},m(l,h){s[e].m(l,h),D(l,r,h),n=!0},p(l,[h]){let d=e;e=o(l),e===d?s[e].p(l,h):(je(),L(s[d],1,1,()=>{s[d]=null}),Ye(),t=s[e],t?t.p(l,h):(t=s[e]=a[e](l),t.c()),O(t,1),t.m(r.parentNode,r))},i(l){n||(O(t),n=!0)},o(l){L(t),n=!1},d(l){l&&M(r),s[e].d(l)}}}function Xd(i,e,t){const r=["activeUrl","divClass","ulClass","hidden","slideParams","activeClass","nonActiveClass"];let n=he(e,r),a,{$$slots:s={},$$scope:o}=e;const l=sr("");let{activeUrl:h=""}=e,{divClass:d="w-full md:block md:w-auto"}=e,{ulClass:u="flex flex-col p-4 mt-4 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:text-sm md:font-medium"}=e,{hidden:f=void 0}=e,{slideParams:c={delay:250,duration:500,easing:Dl}}=e,{activeClass:g="text-white bg-primary-700 md:bg-transparent md:text-primary-700 md:dark:text-white dark:bg-primary-600 md:dark:bg-transparent"}=e,{nonActiveClass:m="text-gray-700 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-primary-700 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"}=e;Et("navbarContext",{activeClass:g,nonActiveClass:m}),Et("activeUrl",l);let v=et("navHidden");Ar(i,v,b=>t(12,a=b));let w,C,p;function _(b){U.call(this,i,b)}return i.$$set=b=>{t(17,e=X(X({},e),de(b))),t(5,n=he(e,r)),"activeUrl"in b&&t(6,h=b.activeUrl),"divClass"in b&&t(7,d=b.divClass),"ulClass"in b&&t(8,u=b.ulClass),"hidden"in b&&t(9,f=b.hidden),"slideParams"in b&&t(0,c=b.slideParams),"activeClass"in b&&t(10,g=b.activeClass),"nonActiveClass"in b&&t(11,m=b.nonActiveClass),"$$scope"in b&&t(15,o=b.$$scope)},i.$$.update=()=>{i.$$.dirty&64&&l.set(h),i.$$.dirty&4608&&t(1,w=f??a??!0),t(2,C=ce(d,e.class)),t(3,p=ce(u,e.classUl))},e=de(e),[c,w,C,p,v,n,h,d,u,f,g,m,a,s,_,o]}class Kd extends Ce{constructor(e){super(),Se(this,e,Xd,Yd,ge,{activeUrl:6,divClass:7,ulClass:8,hidden:9,slideParams:0,activeClass:10,nonActiveClass:11})}}function qd(i){let e,t,r,n,a,s=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},i[7],{class:r=ce("shrink-0",i[6][i[0]],i[8].class)},{role:i[1]},{"aria-label":i[5]},{viewBox:"0 0 10 7"}],o={};for(let l=0;l<s.length;l+=1)o=X(o,s[l]);return{c(){e=Tt("svg"),t=Tt("path"),this.h()},l(l){e=At(l,"svg",{xmlns:!0,fill:!0,class:!0,role:!0,"aria-label":!0,viewBox:!0});var h=te(e);t=At(h,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),te(t).forEach(M),h.forEach(M),this.h()},h(){B(t,"stroke","currentColor"),B(t,"stroke-linecap",i[2]),B(t,"stroke-linejoin",i[3]),B(t,"stroke-width",i[4]),B(t,"d","m1 1.444 4 3.791 4-3.79"),kr(e,o)},m(l,h){D(l,e,h),ie(e,t),n||(a=[I(e,"click",i[9]),I(e,"keydown",i[10]),I(e,"keyup",i[11]),I(e,"focus",i[12]),I(e,"blur",i[13]),I(e,"mouseenter",i[14]),I(e,"mouseleave",i[15]),I(e,"mouseover",i[16]),I(e,"mouseout",i[17])],n=!0)},p(l,[h]){h&4&&B(t,"stroke-linecap",l[2]),h&8&&B(t,"stroke-linejoin",l[3]),h&16&&B(t,"stroke-width",l[4]),kr(e,o=De(s,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},h&128&&l[7],h&257&&r!==(r=ce("shrink-0",l[6][l[0]],l[8].class))&&{class:r},h&2&&{role:l[1]},h&32&&{"aria-label":l[5]},{viewBox:"0 0 10 7"}]))},i:it,o:it,d(l){l&&M(e),n=!1,ht(a)}}}function Qd(i,e,t){const r=["size","role","strokeLinecap","strokeLinejoin","strokeWidth","ariaLabel"];let n=he(e,r);const a=et("iconCtx")??{},s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:o=a.size||"md"}=e,{role:l=a.role||"img"}=e,{strokeLinecap:h=a.strokeLinecap||"round"}=e,{strokeLinejoin:d=a.strokeLinejoin||"round"}=e,{strokeWidth:u=a.strokeWidth||"2"}=e,{ariaLabel:f="chevron down outline"}=e;function c(y){U.call(this,i,y)}function g(y){U.call(this,i,y)}function m(y){U.call(this,i,y)}function v(y){U.call(this,i,y)}function w(y){U.call(this,i,y)}function C(y){U.call(this,i,y)}function p(y){U.call(this,i,y)}function _(y){U.call(this,i,y)}function b(y){U.call(this,i,y)}return i.$$set=y=>{t(8,e=X(X({},e),de(y))),t(7,n=he(e,r)),"size"in y&&t(0,o=y.size),"role"in y&&t(1,l=y.role),"strokeLinecap"in y&&t(2,h=y.strokeLinecap),"strokeLinejoin"in y&&t(3,d=y.strokeLinejoin),"strokeWidth"in y&&t(4,u=y.strokeWidth),"ariaLabel"in y&&t(5,f=y.ariaLabel)},e=de(e),[o,l,h,d,u,f,s,n,e,c,g,m,v,w,C,p,_,b]}class Jd extends Ce{constructor(e){super(),Se(this,e,Qd,qd,ge,{size:0,role:1,strokeLinecap:2,strokeLinejoin:3,strokeWidth:4,ariaLabel:5})}}function Zd(i){let e,t,r,n,a,s=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},i[7],{class:r=ce("shrink-0",i[6][i[0]],i[8].class)},{role:i[1]},{"aria-label":i[5]},{viewBox:"0 0 20 20"}],o={};for(let l=0;l<s.length;l+=1)o=X(o,s[l]);return{c(){e=Tt("svg"),t=Tt("path"),this.h()},l(l){e=At(l,"svg",{xmlns:!0,fill:!0,class:!0,role:!0,"aria-label":!0,viewBox:!0});var h=te(e);t=At(h,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),te(t).forEach(M),h.forEach(M),this.h()},h(){B(t,"stroke","currentColor"),B(t,"stroke-linecap",i[2]),B(t,"stroke-linejoin",i[3]),B(t,"stroke-width",i[4]),B(t,"d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"),kr(e,o)},m(l,h){D(l,e,h),ie(e,t),n||(a=[I(e,"click",i[9]),I(e,"keydown",i[10]),I(e,"keyup",i[11]),I(e,"focus",i[12]),I(e,"blur",i[13]),I(e,"mouseenter",i[14]),I(e,"mouseleave",i[15]),I(e,"mouseover",i[16]),I(e,"mouseout",i[17])],n=!0)},p(l,[h]){h&4&&B(t,"stroke-linecap",l[2]),h&8&&B(t,"stroke-linejoin",l[3]),h&16&&B(t,"stroke-width",l[4]),kr(e,o=De(s,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},h&128&&l[7],h&257&&r!==(r=ce("shrink-0",l[6][l[0]],l[8].class))&&{class:r},h&2&&{role:l[1]},h&32&&{"aria-label":l[5]},{viewBox:"0 0 20 20"}]))},i:it,o:it,d(l){l&&M(e),n=!1,ht(a)}}}function $d(i,e,t){const r=["size","role","strokeLinecap","strokeLinejoin","strokeWidth","ariaLabel"];let n=he(e,r);const a=et("iconCtx")??{},s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:o=a.size||"md"}=e,{role:l=a.role||"img"}=e,{strokeLinecap:h=a.strokeLinecap||"round"}=e,{strokeLinejoin:d=a.strokeLinejoin||"round"}=e,{strokeWidth:u=a.strokeWidth||"2"}=e,{ariaLabel:f="exclamation circle outline"}=e;function c(y){U.call(this,i,y)}function g(y){U.call(this,i,y)}function m(y){U.call(this,i,y)}function v(y){U.call(this,i,y)}function w(y){U.call(this,i,y)}function C(y){U.call(this,i,y)}function p(y){U.call(this,i,y)}function _(y){U.call(this,i,y)}function b(y){U.call(this,i,y)}return i.$$set=y=>{t(8,e=X(X({},e),de(y))),t(7,n=he(e,r)),"size"in y&&t(0,o=y.size),"role"in y&&t(1,l=y.role),"strokeLinecap"in y&&t(2,h=y.strokeLinecap),"strokeLinejoin"in y&&t(3,d=y.strokeLinejoin),"strokeWidth"in y&&t(4,u=y.strokeWidth),"ariaLabel"in y&&t(5,f=y.ariaLabel)},e=de(e),[o,l,h,d,u,f,s,n,e,c,g,m,v,w,C,p,_,b]}class e0 extends Ce{constructor(e){super(),Se(this,e,$d,Zd,ge,{size:0,role:1,strokeLinecap:2,strokeLinejoin:3,strokeWidth:4,ariaLabel:5})}}var rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var na={exports:{}},Ai={},go={},_e={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i._registerNode=i.Konva=i.glob=void 0;const e=Math.PI/180;function t(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}i.glob=typeof rs<"u"?rs:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},i.Konva={_global:i.glob,version:"9.3.0",isBrowser:t(),isUnminified:/param/.test(function(n){}.toString()),dblClickWindow:400,getAngle(n){return i.Konva.angleDeg?n*e:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return i.Konva.DD.isDragging},isDragReady(){return!!i.Konva.DD.node},releaseCanvasOnDestroy:!0,document:i.glob.document,_injectGlobal(n){i.glob.Konva=n}};const r=n=>{i.Konva[n.prototype.getClassName()]=n};i._registerNode=r,i.Konva._injectGlobal(i.Konva)})(_e);var ze={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Util=i.Transform=void 0;const e=_e;class t{constructor(_=[1,0,0,1,0,0]){this.dirty=!1,this.m=_&&_.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(_){_.m[0]=this.m[0],_.m[1]=this.m[1],_.m[2]=this.m[2],_.m[3]=this.m[3],_.m[4]=this.m[4],_.m[5]=this.m[5]}point(_){var b=this.m;return{x:b[0]*_.x+b[2]*_.y+b[4],y:b[1]*_.x+b[3]*_.y+b[5]}}translate(_,b){return this.m[4]+=this.m[0]*_+this.m[2]*b,this.m[5]+=this.m[1]*_+this.m[3]*b,this}scale(_,b){return this.m[0]*=_,this.m[1]*=_,this.m[2]*=b,this.m[3]*=b,this}rotate(_){var b=Math.cos(_),y=Math.sin(_),N=this.m[0]*b+this.m[2]*y,S=this.m[1]*b+this.m[3]*y,P=this.m[0]*-y+this.m[2]*b,A=this.m[1]*-y+this.m[3]*b;return this.m[0]=N,this.m[1]=S,this.m[2]=P,this.m[3]=A,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(_,b){var y=this.m[0]+this.m[2]*b,N=this.m[1]+this.m[3]*b,S=this.m[2]+this.m[0]*_,P=this.m[3]+this.m[1]*_;return this.m[0]=y,this.m[1]=N,this.m[2]=S,this.m[3]=P,this}multiply(_){var b=this.m[0]*_.m[0]+this.m[2]*_.m[1],y=this.m[1]*_.m[0]+this.m[3]*_.m[1],N=this.m[0]*_.m[2]+this.m[2]*_.m[3],S=this.m[1]*_.m[2]+this.m[3]*_.m[3],P=this.m[0]*_.m[4]+this.m[2]*_.m[5]+this.m[4],A=this.m[1]*_.m[4]+this.m[3]*_.m[5]+this.m[5];return this.m[0]=b,this.m[1]=y,this.m[2]=N,this.m[3]=S,this.m[4]=P,this.m[5]=A,this}invert(){var _=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),b=this.m[3]*_,y=-this.m[1]*_,N=-this.m[2]*_,S=this.m[0]*_,P=_*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),A=_*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=b,this.m[1]=y,this.m[2]=N,this.m[3]=S,this.m[4]=P,this.m[5]=A,this}getMatrix(){return this.m}decompose(){var _=this.m[0],b=this.m[1],y=this.m[2],N=this.m[3],S=this.m[4],P=this.m[5],A=_*N-b*y;let E={x:S,y:P,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(_!=0||b!=0){var T=Math.sqrt(_*_+b*b);E.rotation=b>0?Math.acos(_/T):-Math.acos(_/T),E.scaleX=T,E.scaleY=A/T,E.skewX=(_*y+b*N)/A,E.skewY=0}else if(y!=0||N!=0){var G=Math.sqrt(y*y+N*N);E.rotation=Math.PI/2-(N>0?Math.acos(-y/G):-Math.acos(y/G)),E.scaleX=A/G,E.scaleY=G,E.skewX=0,E.skewY=(_*y+b*N)/A}return E.rotation=i.Util._getRotation(E.rotation),E}}i.Transform=t;var r="[object Array]",n="[object Number]",a="[object String]",s="[object Boolean]",o=Math.PI/180,l=180/Math.PI,h="#",d="",u="0",f="Konva warning: ",c="Konva error: ",g="rgb(",m={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},v=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,w=[];const C=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(p){setTimeout(p,60)};i.Util={_isElement(p){return!!(p&&p.nodeType==1)},_isFunction(p){return!!(p&&p.constructor&&p.call&&p.apply)},_isPlainObject(p){return!!p&&p.constructor===Object},_isArray(p){return Object.prototype.toString.call(p)===r},_isNumber(p){return Object.prototype.toString.call(p)===n&&!isNaN(p)&&isFinite(p)},_isString(p){return Object.prototype.toString.call(p)===a},_isBoolean(p){return Object.prototype.toString.call(p)===s},isObject(p){return p instanceof Object},isValidSelector(p){if(typeof p!="string")return!1;var _=p[0];return _==="#"||_==="."||_===_.toUpperCase()},_sign(p){return p===0||p>0?1:-1},requestAnimFrame(p){w.push(p),w.length===1&&C(function(){const _=w;w=[],_.forEach(function(b){b()})})},createCanvasElement(){var p=document.createElement("canvas");try{p.style=p.style||{}}catch{}return p},createImageElement(){return document.createElement("img")},_isInDocument(p){for(;p=p.parentNode;)if(p==document)return!0;return!1},_urlToImage(p,_){var b=i.Util.createImageElement();b.onload=function(){_(b)},b.src=p},_rgbToHex(p,_,b){return((1<<24)+(p<<16)+(_<<8)+b).toString(16).slice(1)},_hexToRgb(p){p=p.replace(h,d);var _=parseInt(p,16);return{r:_>>16&255,g:_>>8&255,b:_&255}},getRandomColor(){for(var p=(Math.random()*16777215<<0).toString(16);p.length<6;)p=u+p;return h+p},getRGB(p){var _;return p in m?(_=m[p],{r:_[0],g:_[1],b:_[2]}):p[0]===h?this._hexToRgb(p.substring(1)):p.substr(0,4)===g?(_=v.exec(p.replace(/ /g,"")),{r:parseInt(_[1],10),g:parseInt(_[2],10),b:parseInt(_[3],10)}):{r:0,g:0,b:0}},colorToRGBA(p){return p=p||"black",i.Util._namedColorToRBA(p)||i.Util._hex3ColorToRGBA(p)||i.Util._hex4ColorToRGBA(p)||i.Util._hex6ColorToRGBA(p)||i.Util._hex8ColorToRGBA(p)||i.Util._rgbColorToRGBA(p)||i.Util._rgbaColorToRGBA(p)||i.Util._hslColorToRGBA(p)},_namedColorToRBA(p){var _=m[p.toLowerCase()];return _?{r:_[0],g:_[1],b:_[2],a:1}:null},_rgbColorToRGBA(p){if(p.indexOf("rgb(")===0){p=p.match(/rgb\(([^)]+)\)/)[1];var _=p.split(/ *, */).map(Number);return{r:_[0],g:_[1],b:_[2],a:1}}},_rgbaColorToRGBA(p){if(p.indexOf("rgba(")===0){p=p.match(/rgba\(([^)]+)\)/)[1];var _=p.split(/ *, */).map((b,y)=>b.slice(-1)==="%"?y===3?parseInt(b)/100:parseInt(b)/100*255:Number(b));return{r:_[0],g:_[1],b:_[2],a:_[3]}}},_hex8ColorToRGBA(p){if(p[0]==="#"&&p.length===9)return{r:parseInt(p.slice(1,3),16),g:parseInt(p.slice(3,5),16),b:parseInt(p.slice(5,7),16),a:parseInt(p.slice(7,9),16)/255}},_hex6ColorToRGBA(p){if(p[0]==="#"&&p.length===7)return{r:parseInt(p.slice(1,3),16),g:parseInt(p.slice(3,5),16),b:parseInt(p.slice(5,7),16),a:1}},_hex4ColorToRGBA(p){if(p[0]==="#"&&p.length===5)return{r:parseInt(p[1]+p[1],16),g:parseInt(p[2]+p[2],16),b:parseInt(p[3]+p[3],16),a:parseInt(p[4]+p[4],16)/255}},_hex3ColorToRGBA(p){if(p[0]==="#"&&p.length===4)return{r:parseInt(p[1]+p[1],16),g:parseInt(p[2]+p[2],16),b:parseInt(p[3]+p[3],16),a:1}},_hslColorToRGBA(p){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(p)){const[_,...b]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(p),y=Number(b[0])/360,N=Number(b[1])/100,S=Number(b[2])/100;let P,A,E;if(N===0)return E=S*255,{r:Math.round(E),g:Math.round(E),b:Math.round(E),a:1};S<.5?P=S*(1+N):P=S+N-S*N;const T=2*S-P,G=[0,0,0];for(let R=0;R<3;R++)A=y+1/3*-(R-1),A<0&&A++,A>1&&A--,6*A<1?E=T+(P-T)*6*A:2*A<1?E=P:3*A<2?E=T+(P-T)*(2/3-A)*6:E=T,G[R]=E*255;return{r:Math.round(G[0]),g:Math.round(G[1]),b:Math.round(G[2]),a:1}}},haveIntersection(p,_){return!(_.x>p.x+p.width||_.x+_.width<p.x||_.y>p.y+p.height||_.y+_.height<p.y)},cloneObject(p){var _={};for(var b in p)this._isPlainObject(p[b])?_[b]=this.cloneObject(p[b]):this._isArray(p[b])?_[b]=this.cloneArray(p[b]):_[b]=p[b];return _},cloneArray(p){return p.slice(0)},degToRad(p){return p*o},radToDeg(p){return p*l},_degToRad(p){return i.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),i.Util.degToRad(p)},_radToDeg(p){return i.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),i.Util.radToDeg(p)},_getRotation(p){return e.Konva.angleDeg?i.Util.radToDeg(p):p},_capitalize(p){return p.charAt(0).toUpperCase()+p.slice(1)},throw(p){throw new Error(c+p)},error(p){console.error(c+p)},warn(p){e.Konva.showWarnings&&console.warn(f+p)},each(p,_){for(var b in p)_(b,p[b])},_inRange(p,_,b){return _<=p&&p<b},_getProjectionToSegment(p,_,b,y,N,S){var P,A,E,T=(p-b)*(p-b)+(_-y)*(_-y);if(T==0)P=p,A=_,E=(N-b)*(N-b)+(S-y)*(S-y);else{var G=((N-p)*(b-p)+(S-_)*(y-_))/T;G<0?(P=p,A=_,E=(p-N)*(p-N)+(_-S)*(_-S)):G>1?(P=b,A=y,E=(b-N)*(b-N)+(y-S)*(y-S)):(P=p+G*(b-p),A=_+G*(y-_),E=(P-N)*(P-N)+(A-S)*(A-S))}return[P,A,E]},_getProjectionToLine(p,_,b){var y=i.Util.cloneObject(p),N=Number.MAX_VALUE;return _.forEach(function(S,P){if(!(!b&&P===_.length-1)){var A=_[(P+1)%_.length],E=i.Util._getProjectionToSegment(S.x,S.y,A.x,A.y,p.x,p.y),T=E[0],G=E[1],R=E[2];R<N&&(y.x=T,y.y=G,N=R)}}),y},_prepareArrayForTween(p,_,b){var y,N=[],S=[];if(p.length>_.length){var P=_;_=p,p=P}for(y=0;y<p.length;y+=2)N.push({x:p[y],y:p[y+1]});for(y=0;y<_.length;y+=2)S.push({x:_[y],y:_[y+1]});var A=[];return S.forEach(function(E){var T=i.Util._getProjectionToLine(E,N,b);A.push(T.x),A.push(T.y)}),A},_prepareToStringify(p){var _;p.visitedByCircularReferenceRemoval=!0;for(var b in p)if(p.hasOwnProperty(b)&&p[b]&&typeof p[b]=="object"){if(_=Object.getOwnPropertyDescriptor(p,b),p[b].visitedByCircularReferenceRemoval||i.Util._isElement(p[b]))if(_.configurable)delete p[b];else return null;else if(i.Util._prepareToStringify(p[b])===null)if(_.configurable)delete p[b];else return null}return delete p.visitedByCircularReferenceRemoval,p},_assign(p,_){for(var b in _)p[b]=_[b];return p},_getFirstPointerId(p){return p.touches?p.changedTouches[0].identifier:p.pointerId||999},releaseCanvas(...p){e.Konva.releaseCanvasOnDestroy&&p.forEach(_=>{_.width=0,_.height=0})},drawRoundedRectPath(p,_,b,y){let N=0,S=0,P=0,A=0;typeof y=="number"?N=S=P=A=Math.min(y,_/2,b/2):(N=Math.min(y[0]||0,_/2,b/2),S=Math.min(y[1]||0,_/2,b/2),A=Math.min(y[2]||0,_/2,b/2),P=Math.min(y[3]||0,_/2,b/2)),p.moveTo(N,0),p.lineTo(_-S,0),p.arc(_-S,S,S,Math.PI*3/2,0,!1),p.lineTo(_,b-A),p.arc(_-A,b-A,A,0,Math.PI/2,!1),p.lineTo(P,b),p.arc(P,b-P,P,Math.PI/2,Math.PI,!1),p.lineTo(0,N),p.arc(N,N,N,Math.PI,Math.PI*3/2,!1)}}})(ze);var Ve={},me={},oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.getComponentValidator=oe.getBooleanValidator=oe.getNumberArrayValidator=oe.getFunctionValidator=oe.getStringOrGradientValidator=oe.getStringValidator=oe.getNumberOrAutoValidator=oe.getNumberOrArrayOfNumbersValidator=oe.getNumberValidator=oe.alphaComponent=oe.RGBComponent=void 0;const Ot=_e,Be=ze;function Lt(i){return Be.Util._isString(i)?'"'+i+'"':Object.prototype.toString.call(i)==="[object Number]"||Be.Util._isBoolean(i)?i:Object.prototype.toString.call(i)}function r0(i){return i>255?255:i<0?0:Math.round(i)}oe.RGBComponent=r0;function i0(i){return i>1?1:i<1e-4?1e-4:i}oe.alphaComponent=i0;function n0(){if(Ot.Konva.isUnminified)return function(i,e){return Be.Util._isNumber(i)||Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),i}}oe.getNumberValidator=n0;function a0(i){if(Ot.Konva.isUnminified)return function(e,t){let r=Be.Util._isNumber(e),n=Be.Util._isArray(e)&&e.length==i;return!r&&!n&&Be.Util.warn(Lt(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>('+i+")"),e}}oe.getNumberOrArrayOfNumbersValidator=a0;function s0(){if(Ot.Konva.isUnminified)return function(i,e){var t=Be.Util._isNumber(i),r=i==="auto";return t||r||Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),i}}oe.getNumberOrAutoValidator=s0;function o0(){if(Ot.Konva.isUnminified)return function(i,e){return Be.Util._isString(i)||Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),i}}oe.getStringValidator=o0;function l0(){if(Ot.Konva.isUnminified)return function(i,e){const t=Be.Util._isString(i),r=Object.prototype.toString.call(i)==="[object CanvasGradient]"||i&&i.addColorStop;return t||r||Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),i}}oe.getStringOrGradientValidator=l0;function h0(){if(Ot.Konva.isUnminified)return function(i,e){return Be.Util._isFunction(i)||Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),i}}oe.getFunctionValidator=h0;function d0(){if(Ot.Konva.isUnminified)return function(i,e){const t=Int8Array?Object.getPrototypeOf(Int8Array):null;return t&&i instanceof t||(Be.Util._isArray(i)?i.forEach(function(r){Be.Util._isNumber(r)||Be.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),i}}oe.getNumberArrayValidator=d0;function c0(){if(Ot.Konva.isUnminified)return function(i,e){var t=i===!0||i===!1;return t||Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),i}}oe.getBooleanValidator=c0;function u0(i){if(Ot.Konva.isUnminified)return function(e,t){return e==null||Be.Util.isObject(e)||Be.Util.warn(Lt(e)+' is a not valid value for "'+t+'" attribute. The value should be an object with properties '+i),e}}oe.getComponentValidator=u0;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Factory=void 0;const e=ze,t=oe;var r="get",n="set";i.Factory={addGetterSetter(a,s,o,l,h){i.Factory.addGetter(a,s,o),i.Factory.addSetter(a,s,l,h),i.Factory.addOverloadedGetterSetter(a,s)},addGetter(a,s,o){var l=r+e.Util._capitalize(s);a.prototype[l]=a.prototype[l]||function(){var h=this.attrs[s];return h===void 0?o:h}},addSetter(a,s,o,l){var h=n+e.Util._capitalize(s);a.prototype[h]||i.Factory.overWriteSetter(a,s,o,l)},overWriteSetter(a,s,o,l){var h=n+e.Util._capitalize(s);a.prototype[h]=function(d){return o&&d!==void 0&&d!==null&&(d=o.call(this,d,s)),this._setAttr(s,d),l&&l.call(this),this}},addComponentsGetterSetter(a,s,o,l,h){var d=o.length,u=e.Util._capitalize,f=r+u(s),c=n+u(s),g,m;a.prototype[f]=function(){var w={};for(g=0;g<d;g++)m=o[g],w[m]=this.getAttr(s+u(m));return w};var v=(0,t.getComponentValidator)(o);a.prototype[c]=function(w){var C=this.attrs[s],p;l&&(w=l.call(this,w)),v&&v.call(this,w,s);for(p in w)w.hasOwnProperty(p)&&this._setAttr(s+u(p),w[p]);return w||o.forEach(_=>{this._setAttr(s+u(_),void 0)}),this._fireChangeEvent(s,C,w),h&&h.call(this),this},i.Factory.addOverloadedGetterSetter(a,s)},addOverloadedGetterSetter(a,s){var o=e.Util._capitalize(s),l=n+o,h=r+o;a.prototype[s]=function(){return arguments.length?(this[l](arguments[0]),this):this[h]()}},addDeprecatedGetterSetter(a,s,o,l){e.Util.error("Adding deprecated "+s);var h=r+e.Util._capitalize(s),d=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";a.prototype[h]=function(){e.Util.error(d);var u=this.attrs[s];return u===void 0?o:u},i.Factory.addSetter(a,s,l,function(){e.Util.error(d)}),i.Factory.addOverloadedGetterSetter(a,s)},backCompat(a,s){e.Util.each(s,function(o,l){var h=a.prototype[l],d=r+e.Util._capitalize(o),u=n+e.Util._capitalize(o);function f(){h.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}a.prototype[o]=f,a.prototype[d]=f,a.prototype[u]=f})},afterSetFilter(){this._filterUpToDate=!1}}})(me);var ct={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.HitContext=Pt.SceneContext=Pt.Context=void 0;const mo=ze,f0=_e;function g0(i){var e=[],t=i.length,r=mo.Util,n,a;for(n=0;n<t;n++)a=i[n],r._isNumber(a)?a=Math.round(a*1e3)/1e3:r._isString(a)||(a=a+""),e.push(a);return e}var is=",",m0="(",p0=")",_0="([",v0="])",b0=";",y0="()",w0="=",ns=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],k0=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const C0=100;class Ri{constructor(e){this.canvas=e,f0.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){var r=this.traceArr,n=r.length,a="",s,o,l,h;for(s=0;s<n;s++)o=r[s],l=o.method,l?(h=o.args,a+=l,e?a+=y0:mo.Util._isArray(h[0])?a+=_0+h.join(is)+v0:(t&&(h=h.map(d=>typeof d=="number"?Math.floor(d):d)),a+=m0+h.join(is)+p0)):(a+=o.property,e||(a+=w0+o.val)),a+=b0;return a}clearTrace(){this.traceArr=[]}_trace(e){var t=this.traceArr,r;t.push(e),r=t.length,r>=C0&&t.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){const t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){var t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){const t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,r,n,a,s){this._context.arc(e,t,r,n,a,s)}arcTo(e,t,r,n,a){this._context.arcTo(e,t,r,n,a)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,r,n,a,s){this._context.bezierCurveTo(e,t,r,n,a,s)}clearRect(e,t,r,n){this._context.clearRect(e,t,r,n)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){var r=arguments;if(r.length===2)return this._context.createImageData(e,t);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,t,r,n){return this._context.createLinearGradient(e,t,r,n)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,r,n,a,s){return this._context.createRadialGradient(e,t,r,n,a,s)}drawImage(e,t,r,n,a,s,o,l,h){var d=arguments,u=this._context;d.length===3?u.drawImage(e,t,r):d.length===5?u.drawImage(e,t,r,n,a):d.length===9&&u.drawImage(e,t,r,n,a,s,o,l,h)}ellipse(e,t,r,n,a,s,o,l){this._context.ellipse(e,t,r,n,a,s,o,l)}isPointInPath(e,t,r,n){return r?this._context.isPointInPath(r,e,t,n):this._context.isPointInPath(e,t,n)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,r,n){this._context.fillRect(e,t,r,n)}strokeRect(e,t,r,n){this._context.strokeRect(e,t,r,n)}fillText(e,t,r,n){n?this._context.fillText(e,t,r,n):this._context.fillText(e,t,r)}measureText(e){return this._context.measureText(e)}getImageData(e,t,r,n){return this._context.getImageData(e,t,r,n)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,r,n){this._context.rect(e,t,r,n)}putImageData(e,t,r){this._context.putImageData(e,t,r)}quadraticCurveTo(e,t,r,n){this._context.quadraticCurveTo(e,t,r,n)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,r,n,a,s){this._context.setTransform(e,t,r,n,a,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,r,n){this._context.strokeText(e,t,r,n)}transform(e,t,r,n,a,s){this._context.transform(e,t,r,n,a,s)}translate(e,t){this._context.translate(e,t)}_enableTrace(){var e=this,t=ns.length,r=this.setAttr,n,a,s=function(o){var l=e[o],h;e[o]=function(){return a=g0(Array.prototype.slice.call(arguments,0)),h=l.apply(e,arguments),e._trace({method:o,args:a}),h}};for(n=0;n<t;n++)s(ns[n]);e.setAttr=function(){r.apply(e,arguments);var o=arguments[0],l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;var r=!t||t==="source-over";r||this.setAttr("globalCompositeOperation",t)}}Pt.Context=Ri;k0.forEach(function(i){Object.defineProperty(Ri.prototype,i,{get(){return this._context[i]},set(e){this._context[i]=e}})});class S0 extends Ri{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){const t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){const t=e.fill(),r=e.getFillPriority();if(t&&r==="color"){this._fillColor(e);return}const n=e.getFillPatternImage();if(n&&r==="pattern"){this._fillPattern(e);return}const a=e.getFillLinearGradientColorStops();if(a&&r==="linear-gradient"){this._fillLinearGradient(e);return}const s=e.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(e);return}t?this._fillColor(e):n?this._fillPattern(e):a?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const t=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),n=e.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(t.x,t.y,r.x,r.y);if(n){for(var s=0;s<n.length;s+=2)a.addColorStop(n[s],n[s+1]);this.setAttr("strokeStyle",a)}}_stroke(e){var t=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var a=e.getStrokeLinearGradientColorStops();a?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var t,r,n,a=(t=e.getShadowRGBA())!==null&&t!==void 0?t:"black",s=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,o=(n=e.getShadowOffset())!==null&&n!==void 0?n:{x:0,y:0},l=e.getAbsoluteScale(),h=this.canvas.getPixelRatio(),d=l.x*h,u=l.y*h;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",s*Math.min(Math.abs(d),Math.abs(u))),this.setAttr("shadowOffsetX",o.x*d),this.setAttr("shadowOffsetY",o.y*u)}}Pt.SceneContext=S0;class P0 extends Ri{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const a=e.getStrokeScaleEnabled();if(!a){this.save();var t=this.getCanvas().getPixelRatio();this.setTransform(t,0,0,t,0,0)}this._applyLineCap(e);var r=e.hitStrokeWidth(),n=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",n),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),a||this.restore()}}}Pt.HitContext=P0;Object.defineProperty(ct,"__esModule",{value:!0});ct.HitCanvas=ct.SceneCanvas=ct.Canvas=void 0;const bi=ze,po=Pt,_o=_e,E0=me,T0=oe;var oi;function A0(){if(oi)return oi;var i=bi.Util.createCanvasElement(),e=i.getContext("2d");return oi=function(){var t=_o.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}(),bi.Util.releaseCanvas(i),oi}class Mi{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var t=e||{},r=t.pixelRatio||_o.Konva.pixelRatio||A0();this.pixelRatio=r,this._canvas=bi.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio,r=this.getContext()._context;r.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio,r=this.getContext()._context;r.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch{try{return this._canvas.toDataURL()}catch(n){return bi.Util.error("Unable to get data URL. "+n.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}ct.Canvas=Mi;E0.Factory.addGetterSetter(Mi,"pixelRatio",void 0,(0,T0.getNumberValidator)());class R0 extends Mi{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new po.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}ct.SceneCanvas=R0;class M0 extends Mi{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new po.HitContext(this),this.setSize(e.width,e.height)}}ct.HitCanvas=M0;var Fi={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DD=void 0;const e=_e,t=ze;i.DD={get isDragging(){var r=!1;return i.DD._dragElements.forEach(n=>{n.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){var r;return i.DD._dragElements.forEach(n=>{r=n.node}),r},_dragElements:new Map,_drag(r){const n=[];i.DD._dragElements.forEach((a,s)=>{const{node:o}=a,l=o.getStage();l.setPointersPositions(r),a.pointerId===void 0&&(a.pointerId=t.Util._getFirstPointerId(r));const h=l._changedPointerPositions.find(f=>f.id===a.pointerId);if(h){if(a.dragStatus!=="dragging"){var d=o.dragDistance(),u=Math.max(Math.abs(h.x-a.startPointerPos.x),Math.abs(h.y-a.startPointerPos.y));if(u<d||(o.startDrag({evt:r}),!o.isDragging()))return}o._setDragPosition(r,a),n.push(o)}}),n.forEach(a=>{a.fire("dragmove",{type:"dragmove",target:a,evt:r},!0)})},_endDragBefore(r){const n=[];i.DD._dragElements.forEach(a=>{const{node:s}=a,o=s.getStage();if(r&&o.setPointersPositions(r),!o._changedPointerPositions.find(d=>d.id===a.pointerId))return;(a.dragStatus==="dragging"||a.dragStatus==="stopped")&&(i.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,a.dragStatus="stopped");const h=a.node.getLayer()||a.node instanceof e.Konva.Stage&&a.node;h&&n.indexOf(h)===-1&&n.push(h)}),n.forEach(a=>{a.draw()})},_endDragAfter(r){i.DD._dragElements.forEach((n,a)=>{n.dragStatus==="stopped"&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:r},!0),n.dragStatus!=="dragging"&&i.DD._dragElements.delete(a)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",i.DD._endDragBefore,!0),window.addEventListener("touchend",i.DD._endDragBefore,!0),window.addEventListener("mousemove",i.DD._drag),window.addEventListener("touchmove",i.DD._drag),window.addEventListener("mouseup",i.DD._endDragAfter,!1),window.addEventListener("touchend",i.DD._endDragAfter,!1))})(Fi);Object.defineProperty(Ve,"__esModule",{value:!0});Ve.Node=void 0;const be=ze,Jr=me,li=ct,Qt=_e,at=Fi,Xe=oe;var fi="absoluteOpacity",hi="allEventListeners",kt="absoluteTransform",as="absoluteScale",Jt="canvas",F0="Change",N0="children",O0="konva",Bn="listening",ss="mouseenter",os="mouseleave",ls="set",hs="Shape",gi=" ",ds="stage",Vt="transform",L0="Stage",Hn="visible",G0=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(gi);let D0=1,ue=class Wn{constructor(e){this._id=D0++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Vt||e===kt)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,t){var r=this._cache.get(e),n=e===Vt||e===kt,a=r===void 0||n&&r.dirty===!0;return a&&(r=t.call(this),this._cache.set(e,r)),r}_calculate(e,t,r){if(!this._attachedDepsListeners.get(e)){const n=t.map(a=>a+"Change.konva").join(gi);this.on(n,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Jt)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===kt&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Jt)){const{scene:e,filter:t,hit:r}=this._cache.get(Jt);be.Util.releaseCanvas(e,t,r),this._cache.delete(Jt)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var t=e||{},r={};(t.x===void 0||t.y===void 0||t.width===void 0||t.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var n=Math.ceil(t.width||r.width),a=Math.ceil(t.height||r.height),s=t.pixelRatio,o=t.x===void 0?Math.floor(r.x):t.x,l=t.y===void 0?Math.floor(r.y):t.y,h=t.offset||0,d=t.drawBorder||!1,u=t.hitCanvasPixelRatio||1;if(!n||!a){be.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}n+=h*2+1,a+=h*2+1,o-=h,l-=h;var f=new li.SceneCanvas({pixelRatio:s,width:n,height:a}),c=new li.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),g=new li.HitCanvas({pixelRatio:u,width:n,height:a}),m=f.getContext(),v=g.getContext();return g.isCache=!0,f.isCache=!0,this._cache.delete(Jt),this._filterUpToDate=!1,t.imageSmoothingEnabled===!1&&(f.getContext()._context.imageSmoothingEnabled=!1,c.getContext()._context.imageSmoothingEnabled=!1),m.save(),v.save(),m.translate(-o,-l),v.translate(-o,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(fi),this._clearSelfAndDescendantCache(as),this.drawScene(f,this),this.drawHit(g,this),this._isUnderCache=!1,m.restore(),v.restore(),d&&(m.save(),m.beginPath(),m.rect(0,0,n,a),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set(Jt,{scene:f,filter:c,hit:g,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Jt)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=1/0,a=1/0,s=-1/0,o=-1/0,l=this.getAbsoluteTransform(t);return r.forEach(function(h){var d=l.point(h);n===void 0&&(n=s=d.x,a=o=d.y),n=Math.min(n,d.x),a=Math.min(a,d.y),s=Math.max(s,d.x),o=Math.max(o,d.y)}),{x:n,y:a,width:s-n,height:o-a}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);var r=this._getCachedSceneCanvas(),n=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/n,r.height/n),e.restore()}_drawCachedHitCanvas(e){var t=this._getCanvasCache(),r=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),t=this._getCanvasCache(),r=t.scene,n=t.filter,a=n.getContext(),s,o,l,h;if(e){if(!this._filterUpToDate){var d=r.pixelRatio;n.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(s=e.length,a.clear(),a.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),o=a.getImageData(0,0,n.getWidth(),n.getHeight()),l=0;l<s;l++){if(h=e[l],typeof h!="function"){be.Util.error("Filter should be type of function, but got "+typeof h+" instead. Please check correct filters");continue}h.call(this,o),a.putImageData(o,0,0)}}catch(u){be.Util.error("Unable to apply filter. "+u.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return n}return r}on(e,t){if(this._cache&&this._cache.delete(hi),arguments.length===3)return this._delegate.apply(this,arguments);var r=e.split(gi),n=r.length,a,s,o,l,h;for(a=0;a<n;a++)s=r[a],o=s.split("."),l=o[0],h=o[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:h,handler:t});return this}off(e,t){var r=(e||"").split(gi),n=r.length,a,s,o,l,h,d;if(this._cache&&this._cache.delete(hi),!e)for(s in this.eventListeners)this._off(s);for(a=0;a<n;a++)if(o=r[a],l=o.split("."),h=l[0],d=l[1],h)this.eventListeners[h]&&this._off(h,d,t);else for(s in this.eventListeners)this._off(s,d,t);return this}dispatchEvent(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(r){t.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,r){var n=this;this.on(e,function(a){for(var s=a.target.findAncestors(t,!0,n),o=0;o<s.length;o++)a=be.Util.cloneObject(a),a.currentTarget=s[o],r.call(s[o],a)})}remove(){return this.isDragging()&&this.stopDrag(),at.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(kt),this._clearSelfAndDescendantCache(fi),this._clearSelfAndDescendantCache(as),this._clearSelfAndDescendantCache(ds),this._clearSelfAndDescendantCache(Hn),this._clearSelfAndDescendantCache(Bn)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var t="get"+be.Util._capitalize(e);return be.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),t=[];e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var t,r;if(!e)return this;for(t in e)t!==N0&&(r=ls+be.Util._capitalize(t),be.Util._isFunction(this[r])?this[r](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(Bn,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(Hn,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);var r=this.getLayer(),n=!1;at.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(n=!0)});var a=!t&&!Qt.Konva.hitOnDragEnabled&&n;return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),t=this,r=0,n,a,s,o;function l(d){for(n=[],a=d.length,s=0;s<a;s++)o=d[s],r++,o.nodeType!==hs&&(n=n.concat(o.getChildren().slice())),o._id===t._id&&(s=a);n.length>0&&n[0].getDepth()<=e&&l(n)}const h=this.getStage();return t.nodeType!==L0&&h&&l(h.getChildren()),r}getDepth(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Vt),this._clearSelfAndDescendantCache(kt)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;var t=e.getPointerPosition();if(!t)return null;var r=this.getAbsoluteTransform().copy();return r.invert(),r.point(t)}getAbsolutePosition(e){let t=!1,r=this.parent;for(;r;){if(r.isCached()){t=!0;break}r=r.parent}t&&!e&&(e=!0);var n=this.getAbsoluteTransform(e).getMatrix(),a=new be.Transform,s=this.offset();return a.m=n.slice(),a.translate(s.x,s.y),a.getTranslation()}setAbsolutePosition(e){const{x:t,y:r,...n}=this._clearTransform();this.attrs.x=t,this.attrs.y=r,this._clearCache(Vt);var a=this._getAbsoluteTransform().copy();return a.invert(),a.translate(e.x,e.y),e={x:this.attrs.x+a.getTranslation().x,y:this.attrs.y+a.getTranslation().y},this._setTransform(n),this.setPosition({x:e.x,y:e.y}),this._clearCache(Vt),this._clearSelfAndDescendantCache(kt),this}_setTransform(e){var t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var t=e.x,r=e.y,n=this.x(),a=this.y();return t!==void 0&&(n+=t),r!==void 0&&(a+=r),this.setPosition({x:n,y:a}),this}_eachAncestorReverse(e,t){var r=[],n=this.getParent(),a,s;if(!(t&&t._id===this._id)){for(r.unshift(this);n&&(!t||n._id!==t._id);)r.unshift(n),n=n.parent;for(a=r.length,s=0;s<a;s++)e(r[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return be.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return be.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return be.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return be.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return be.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&be.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(fi,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},t=this.getAttrs(),r,n,a,s,o;e.attrs={};for(r in t)n=t[r],o=be.Util.isObject(n)&&!be.Util._isPlainObject(n)&&!be.Util._isArray(n),!o&&(a=typeof this[r]=="function"&&this[r],delete t[r],s=a?a.call(this):null,t[r]=n,s!==n&&(e.attrs[r]=n));return e.className=this.getClassName(),be.Util._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,r){var n=[];t&&this._isMatch(e)&&n.push(this);for(var a=this.parent;a;){if(a===r)return n;a._isMatch(e)&&n.push(a),a=a.parent}return n}isAncestorOf(e){return!1}findAncestor(e,t,r){return this.findAncestors(e,t,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var t=e.replace(/ /g,"").split(","),r=t.length,n,a;for(n=0;n<r;n++)if(a=t[n],be.Util.isValidSelector(a)||(be.Util.warn('Selector "'+a+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),be.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),be.Util.warn("Konva is awesome, right?")),a.charAt(0)==="#"){if(this.id()===a.slice(1))return!0}else if(a.charAt(0)==="."){if(this.hasName(a.slice(1)))return!0}else if(this.className===a||this.nodeType===a)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(ds,this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():null}fire(e,t={},r){return t.target=t.target||this,r?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(kt,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var t;if(e)return t=new be.Transform,this._eachAncestorReverse(function(n){var a=n.transformsEnabled();a==="all"?t.multiply(n.getTransform()):a==="position"&&t.translate(n.x()-n.offsetX(),n.y()-n.offsetY())},e),t;t=this._cache.get(kt)||new be.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();var r=this.transformsEnabled();if(r==="all")t.multiply(this.getTransform());else if(r==="position"){const n=this.attrs.x||0,a=this.attrs.y||0,s=this.attrs.offsetX||0,o=this.attrs.offsetY||0;t.translate(n-s,a-o)}return t.dirty=!1,t}getAbsoluteScale(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();const n=this.getAbsoluteTransform(e).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Vt,this._getTransform)}_getTransform(){var e,t,r=this._cache.get(Vt)||new be.Transform;r.reset();var n=this.x(),a=this.y(),s=Qt.Konva.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(t=this.attrs.scaleY)!==null&&t!==void 0?t:1,h=this.attrs.skewX||0,d=this.attrs.skewY||0,u=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return(n!==0||a!==0)&&r.translate(n,a),s!==0&&r.rotate(s),(h!==0||d!==0)&&r.skew(h,d),(o!==1||l!==1)&&r.scale(o,l),(u!==0||f!==0)&&r.translate(-1*u,-1*f),r.dirty=!1,r}clone(e){var t=be.Util.cloneObject(this.attrs),r,n,a,s,o;for(r in e)t[r]=e[r];var l=new this.constructor(t);for(r in this.eventListeners)for(n=this.eventListeners[r],a=n.length,s=0;s<a;s++)o=n[s],o.name.indexOf(O0)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(o));return l}_toKonvaCanvas(e){e=e||{};var t=this.getClientRect(),r=this.getStage(),n=e.x!==void 0?e.x:Math.floor(t.x),a=e.y!==void 0?e.y:Math.floor(t.y),s=e.pixelRatio||1,o=new li.SceneCanvas({width:e.width||Math.ceil(t.width)||(r?r.width():0),height:e.height||Math.ceil(t.height)||(r?r.height():0),pixelRatio:s}),l=o.getContext();return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(n||a)&&l.translate(-1*n,-1*a),this.drawScene(o),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var t=e.mimeType||null,r=e.quality||null,n=this._toKonvaCanvas(e).toDataURL(t,r);return e.callback&&e.callback(n),n}toImage(e){return new Promise((t,r)=>{try{const n=e?.callback;n&&delete e.callback,be.Util._urlToImage(this.toDataURL(e),function(a){t(a),n?.(a)})}catch(n){r(n)}})}toBlob(e){return new Promise((t,r)=>{try{const n=e?.callback;n&&delete e.callback,this.toCanvas(e).toBlob(a=>{t(a),n?.(a)},e?.mimeType,e?.quality)}catch(n){r(n)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Qt.Konva.dragDistance}_off(e,t,r){var n=this.eventListeners[e],a,s,o;for(a=0;a<n.length;a++)if(s=n[a].name,o=n[a].handler,(s!=="konva"||t==="konva")&&(!t||s===t)&&(!r||r===o)){if(n.splice(a,1),n.length===0){delete this.eventListeners[e];break}a--}}_fireChangeEvent(e,t,r){this._fire(e+F0,{oldVal:t,newVal:r})}addName(e){if(!this.hasName(e)){var t=this.name(),r=t?t+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const t=this.name();if(!t)return!1;var r=(t||"").split(/\s/g);return r.indexOf(e)!==-1}removeName(e){var t=(this.name()||"").split(/\s/g),r=t.indexOf(e);return r!==-1&&(t.splice(r,1),this.name(t.join(" "))),this}setAttr(e,t){var r=this[ls+be.Util._capitalize(e)];return be.Util._isFunction(r)?r.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(Qt.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,t){var r=this.attrs[e];r===t&&!be.Util.isObject(t)||(t==null?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,t),this._requestDraw())}_setComponentAttr(e,t,r){var n;r!==void 0&&(n=this.attrs[e],n||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=r,this._fireChangeEvent(e,n,r))}_fireAndBubble(e,t,r){t&&this.nodeType===hs&&(t.target=this);var n=(e===ss||e===os)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r);if(!n){this._fire(e,t);var a=(e===ss||e===os)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!a&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,t,r):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,r,n;const a=(t=this._cache.get(hi))!==null&&t!==void 0?t:{};let s=a?.[e];if(s===void 0){s=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(n=(r=o.eventListeners)===null||r===void 0?void 0:r[e])!==null&&n!==void 0?n:[];s.push(...l),o=Object.getPrototypeOf(o)}a[e]=s,this._cache.set(hi,a)}return s}_fire(e,t){t=t||{},t.currentTarget=this,t.type=e;const r=this._getProtoListeners(e);if(r)for(var n=0;n<r.length;n++)r[n].handler.call(this,t);const a=this.eventListeners[e];if(a)for(var n=0;n<a.length;n++)a[n].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var t=e?e.pointerId:void 0,r=this.getStage(),n=this.getAbsolutePosition();if(r){var a=r._getPointerById(t)||r._changedPointerPositions[0]||n;at.DD._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-n.x,y:a.y-n.y},dragStatus:"ready",pointerId:t})}}startDrag(e,t=!0){at.DD._dragElements.has(this._id)||this._createDragElement(e);const r=at.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const r=this.getStage()._getPointerById(t.pointerId);if(r){var n={x:r.x-t.offset.x,y:r.y-t.offset.y},a=this.dragBoundFunc();if(a!==void 0){const s=a.call(this,n,e);s?n=s:be.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==n.x||this._lastPos.y!==n.y)&&(this.setAbsolutePosition(n),this._requestDraw()),this._lastPos=n}}stopDrag(e){const t=at.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),at.DD._endDragBefore(e),at.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=at.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var t=e.evt.button!==void 0,r=!t||Qt.Konva.dragButtons.indexOf(e.evt.button)>=0;if(r&&!this.isDragging()){var n=!1;at.DD._dragElements.forEach(a=>{this.isAncestorOf(a.node)&&(n=!0)}),n||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const t=at.DD._dragElements.get(this._id),r=t&&t.dragStatus==="dragging",n=t&&t.dragStatus==="ready";r?this.stopDrag():n&&at.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const t=this.getStage();if(!t)return!1;const r={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return be.Util.haveIntersection(r,this.getClientRect())}static create(e,t){return be.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){var r=Wn.prototype.getClassName.call(e),n=e.children,a,s,o;t&&(e.attrs.container=t),Qt.Konva[r]||(be.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=Qt.Konva[r];if(a=new l(e.attrs),n)for(s=n.length,o=0;o<s;o++)a.add(Wn._createNode(n[o]));return a}};Ve.Node=ue;ue.prototype.nodeType="Node";ue.prototype._attrsAffectingSize=[];ue.prototype.eventListeners={};ue.prototype.on.call(ue.prototype,G0,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Vt),this._clearSelfAndDescendantCache(kt)});ue.prototype.on.call(ue.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Hn)});ue.prototype.on.call(ue.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Bn)});ue.prototype.on.call(ue.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(fi)});const xe=Jr.Factory.addGetterSetter;xe(ue,"zIndex");xe(ue,"absolutePosition");xe(ue,"position");xe(ue,"x",0,(0,Xe.getNumberValidator)());xe(ue,"y",0,(0,Xe.getNumberValidator)());xe(ue,"globalCompositeOperation","source-over",(0,Xe.getStringValidator)());xe(ue,"opacity",1,(0,Xe.getNumberValidator)());xe(ue,"name","",(0,Xe.getStringValidator)());xe(ue,"id","",(0,Xe.getStringValidator)());xe(ue,"rotation",0,(0,Xe.getNumberValidator)());Jr.Factory.addComponentsGetterSetter(ue,"scale",["x","y"]);xe(ue,"scaleX",1,(0,Xe.getNumberValidator)());xe(ue,"scaleY",1,(0,Xe.getNumberValidator)());Jr.Factory.addComponentsGetterSetter(ue,"skew",["x","y"]);xe(ue,"skewX",0,(0,Xe.getNumberValidator)());xe(ue,"skewY",0,(0,Xe.getNumberValidator)());Jr.Factory.addComponentsGetterSetter(ue,"offset",["x","y"]);xe(ue,"offsetX",0,(0,Xe.getNumberValidator)());xe(ue,"offsetY",0,(0,Xe.getNumberValidator)());xe(ue,"dragDistance",null,(0,Xe.getNumberValidator)());xe(ue,"width",0,(0,Xe.getNumberValidator)());xe(ue,"height",0,(0,Xe.getNumberValidator)());xe(ue,"listening",!0,(0,Xe.getBooleanValidator)());xe(ue,"preventDefault",!0,(0,Xe.getBooleanValidator)());xe(ue,"filters",null,function(i){return this._filterUpToDate=!1,i});xe(ue,"visible",!0,(0,Xe.getBooleanValidator)());xe(ue,"transformsEnabled","all",(0,Xe.getStringValidator)());xe(ue,"size");xe(ue,"dragBoundFunc");xe(ue,"draggable",!1,(0,Xe.getBooleanValidator)());Jr.Factory.backCompat(ue,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var lr={};Object.defineProperty(lr,"__esModule",{value:!0});lr.Container=void 0;const Fr=me,An=Ve,Ni=oe;let hr=class extends An.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const t=this.children||[];var r=[];return t.forEach(function(n){e(n)&&r.push(n)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var t=0;t<e.length;t++)this.add(e[t]);return this}const r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){var r=[];return this._descendants(n=>{const a=n._isMatch(e);return a&&r.push(n),!!(a&&t)}),r}_descendants(e){let t=!1;const r=this.getChildren();for(const n of r){if(t=e(n),t)return!0;if(n.hasChildren()&&(t=n._descendants(e),t))return!0}return!1}toObject(){var e=An.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){var t=An.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){t.add(r.clone())}),t}getAllIntersections(e){var t=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&t.push(r)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),!this.isCached()&&((t=this.children)===null||t===void 0||t.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(t,r){t.index=r}),this._requestDraw()}drawScene(e,t){var r=this.getLayer(),n=e||r&&r.getCanvas(),a=n&&n.getContext(),s=this._getCanvasCache(),o=s&&s.scene,l=n&&n.isCache;if(!this.isVisible()&&!l)return this;if(o){a.save();var h=this.getAbsoluteTransform(t).getMatrix();a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",n,t);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;var r=this.getLayer(),n=e||r&&r.hitCanvas,a=n&&n.getContext(),s=this._getCanvasCache(),o=s&&s.hit;if(o){a.save();var l=this.getAbsoluteTransform(t).getMatrix();a.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(a),a.restore()}else this._drawChildren("drawHit",n,t);return this}_drawChildren(e,t,r){var n,a=t&&t.getContext(),s=this.clipWidth(),o=this.clipHeight(),l=this.clipFunc(),h=s&&o||l;const d=r===this;if(h){a.save();var u=this.getAbsoluteTransform(r),f=u.getMatrix();a.transform(f[0],f[1],f[2],f[3],f[4],f[5]),a.beginPath();let v;if(l)v=l.call(this,a,this);else{var c=this.clipX(),g=this.clipY();a.rect(c,g,s,o)}a.clip.apply(a,v),f=u.copy().invert().getMatrix(),a.transform(f[0],f[1],f[2],f[3],f[4],f[5])}var m=!d&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(a.save(),a._applyGlobalCompositeOperation(this)),(n=this.children)===null||n===void 0||n.forEach(function(v){v[e](t,r)}),m&&a.restore(),h&&a.restore()}getClientRect(e={}){var t,r=e.skipTransform,n=e.relativeTo,a,s,o,l,h={x:1/0,y:1/0,width:0,height:0},d=this;(t=this.children)===null||t===void 0||t.forEach(function(m){if(m.visible()){var v=m.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});v.width===0&&v.height===0||(a===void 0?(a=v.x,s=v.y,o=v.x+v.width,l=v.y+v.height):(a=Math.min(a,v.x),s=Math.min(s,v.y),o=Math.max(o,v.x+v.width),l=Math.max(l,v.y+v.height)))}});for(var u=this.find("Shape"),f=!1,c=0;c<u.length;c++){var g=u[c];if(g._isVisible(this)){f=!0;break}}return f&&a!==void 0?h={x:a,y:s,width:o-a,height:l-s}:h={x:0,y:0,width:0,height:0},r?h:this._transformedRect(h,n)}};lr.Container=hr;Fr.Factory.addComponentsGetterSetter(hr,"clip",["x","y","width","height"]);Fr.Factory.addGetterSetter(hr,"clipX",void 0,(0,Ni.getNumberValidator)());Fr.Factory.addGetterSetter(hr,"clipY",void 0,(0,Ni.getNumberValidator)());Fr.Factory.addGetterSetter(hr,"clipWidth",void 0,(0,Ni.getNumberValidator)());Fr.Factory.addGetterSetter(hr,"clipHeight",void 0,(0,Ni.getNumberValidator)());Fr.Factory.addGetterSetter(hr,"clipFunc");var vo={},tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.releaseCapture=tt.setPointerCapture=tt.hasPointerCapture=tt.createEvent=tt.getCapturedShape=void 0;const x0=_e,Wr=new Map,bo=x0.Konva._global.PointerEvent!==void 0;function I0(i){return Wr.get(i)}tt.getCapturedShape=I0;function aa(i){return{evt:i,pointerId:i.pointerId}}tt.createEvent=aa;function U0(i,e){return Wr.get(i)===e}tt.hasPointerCapture=U0;function V0(i,e){yo(i),e.getStage()&&(Wr.set(i,e),bo&&e._fire("gotpointercapture",aa(new PointerEvent("gotpointercapture"))))}tt.setPointerCapture=V0;function yo(i,e){const t=Wr.get(i);if(!t)return;const r=t.getStage();r&&r.content,Wr.delete(i),bo&&t._fire("lostpointercapture",aa(new PointerEvent("lostpointercapture")))}tt.releaseCapture=yo;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Stage=i.stages=void 0;const e=ze,t=me,r=lr,n=_e,a=ct,s=Fi,o=_e,l=tt;var h="Stage",d="string",u="px",f="mouseout",c="mouseleave",g="mouseover",m="mouseenter",v="mousemove",w="mousedown",C="mouseup",p="pointermove",_="pointerdown",b="pointerup",y="pointercancel",N="lostpointercapture",S="pointerout",P="pointerleave",A="pointerover",E="pointerenter",T="contextmenu",G="touchstart",R="touchend",F="touchmove",V="touchcancel",j="wheel",ne=5,H=[[m,"_pointerenter"],[w,"_pointerdown"],[v,"_pointermove"],[C,"_pointerup"],[c,"_pointerleave"],[G,"_pointerdown"],[F,"_pointermove"],[R,"_pointerup"],[V,"_pointercancel"],[g,"_pointerover"],[j,"_wheel"],[T,"_contextmenu"],[_,"_pointerdown"],[p,"_pointermove"],[b,"_pointerup"],[y,"_pointercancel"],[N,"_lostpointercapture"]];const W={mouse:{[S]:f,[P]:c,[A]:g,[E]:m,[p]:v,[_]:w,[b]:C,[y]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[S]:"touchout",[P]:"touchleave",[A]:"touchover",[E]:"touchenter",[p]:F,[_]:G,[b]:R,[y]:V,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[S]:S,[P]:P,[A]:A,[E]:E,[p]:p,[_]:_,[b]:b,[y]:y,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},K=Ee=>Ee.indexOf("pointer")>=0?"pointer":Ee.indexOf("touch")>=0?"touch":"mouse",le=Ee=>{const k=K(Ee);if(k==="pointer")return n.Konva.pointerEventsEnabled&&W.pointer;if(k==="touch")return W.touch;if(k==="mouse")return W.mouse};function Y(Ee={}){return(Ee.clipFunc||Ee.clipWidth||Ee.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Ee}const z="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";i.stages=[];class ye extends r.Container{constructor(k){super(Y(k)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),i.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Y(this.attrs)}),this._checkVisibility()}_validateAdd(k){const x=k.getType()==="Layer",re=k.getType()==="FastLayer";x||re||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const k=this.visible()?"":"none";this.content.style.display=k}setContainer(k){if(typeof k===d){if(k.charAt(0)==="."){var x=k.slice(1);k=document.getElementsByClassName(x)[0]}else{var re;k.charAt(0)!=="#"?re=k:re=k.slice(1),k=document.getElementById(re)}if(!k)throw"Can not find container in document with id "+re}return this._setAttr("container",k),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),k.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var k=this.children,x=k.length,re;for(re=0;re<x;re++)k[re].clear();return this}clone(k){return k||(k={}),k.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,k)}destroy(){super.destroy();var k=this.content;k&&e.Util._isInDocument(k)&&this.container().removeChild(k);var x=i.stages.indexOf(this);return x>-1&&i.stages.splice(x,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const k=this._pointerPositions[0]||this._changedPointerPositions[0];return k?{x:k.x,y:k.y}:(e.Util.warn(z),null)}_getPointerById(k){return this._pointerPositions.find(x=>x.id===k)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(k){k=k||{},k.x=k.x||0,k.y=k.y||0,k.width=k.width||this.width(),k.height=k.height||this.height();var x=new a.SceneCanvas({width:k.width,height:k.height,pixelRatio:k.pixelRatio||1}),re=x.getContext()._context,Te=this.children;return(k.x||k.y)&&re.translate(-1*k.x,-1*k.y),Te.forEach(function(ve){if(ve.isVisible()){var Oe=ve._toKonvaCanvas(k);re.drawImage(Oe._canvas,k.x,k.y,Oe.getWidth()/Oe.getPixelRatio(),Oe.getHeight()/Oe.getPixelRatio())}}),x}getIntersection(k){if(!k)return null;var x=this.children,re=x.length,Te=re-1,ve;for(ve=Te;ve>=0;ve--){const Oe=x[ve].getIntersection(k);if(Oe)return Oe}return null}_resizeDOM(){var k=this.width(),x=this.height();this.content&&(this.content.style.width=k+u,this.content.style.height=x+u),this.bufferCanvas.setSize(k,x),this.bufferHitCanvas.setSize(k,x),this.children.forEach(re=>{re.setSize({width:k,height:x}),re.draw()})}add(k,...x){if(arguments.length>1){for(var re=0;re<arguments.length;re++)this.add(arguments[re]);return this}super.add(k);var Te=this.children.length;return Te>ne&&e.Util.warn("The stage has "+Te+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),k.setSize({width:this.width(),height:this.height()}),k.draw(),n.Konva.isBrowser&&this.content.appendChild(k.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(k){return l.hasPointerCapture(k,this)}setPointerCapture(k){l.setPointerCapture(k,this)}releaseCapture(k){l.releaseCapture(k,this)}getLayers(){return this.children}_bindContentEvents(){n.Konva.isBrowser&&H.forEach(([k,x])=>{this.content.addEventListener(k,re=>{this[x](re)},{passive:!1})})}_pointerenter(k){this.setPointersPositions(k);const x=le(k.type);x&&this._fire(x.pointerenter,{evt:k,target:this,currentTarget:this})}_pointerover(k){this.setPointersPositions(k);const x=le(k.type);x&&this._fire(x.pointerover,{evt:k,target:this,currentTarget:this})}_getTargetShape(k){let x=this[k+"targetShape"];return x&&!x.getStage()&&(x=null),x}_pointerleave(k){const x=le(k.type),re=K(k.type);if(x){this.setPointersPositions(k);var Te=this._getTargetShape(re),ve=!s.DD.isDragging||n.Konva.hitOnDragEnabled;Te&&ve?(Te._fireAndBubble(x.pointerout,{evt:k}),Te._fireAndBubble(x.pointerleave,{evt:k}),this._fire(x.pointerleave,{evt:k,target:this,currentTarget:this}),this[re+"targetShape"]=null):ve&&(this._fire(x.pointerleave,{evt:k,target:this,currentTarget:this}),this._fire(x.pointerout,{evt:k,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(k){const x=le(k.type),re=K(k.type);if(x){this.setPointersPositions(k);var Te=!1;this._changedPointerPositions.forEach(ve=>{var Oe=this.getIntersection(ve);if(s.DD.justDragged=!1,n.Konva["_"+re+"ListenClick"]=!0,!Oe||!Oe.isListening())return;n.Konva.capturePointerEventsEnabled&&Oe.setPointerCapture(ve.id),this[re+"ClickStartShape"]=Oe,Oe._fireAndBubble(x.pointerdown,{evt:k,pointerId:ve.id}),Te=!0;const Ke=k.type.indexOf("touch")>=0;Oe.preventDefault()&&k.cancelable&&Ke&&k.preventDefault()}),Te||this._fire(x.pointerdown,{evt:k,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(k){const x=le(k.type),re=K(k.type);if(!x)return;s.DD.isDragging&&s.DD.node.preventDefault()&&k.cancelable&&k.preventDefault(),this.setPointersPositions(k);var Te=!s.DD.isDragging||n.Konva.hitOnDragEnabled;if(!Te)return;var ve={};let Oe=!1;var Ke=this._getTargetShape(re);this._changedPointerPositions.forEach(Ze=>{const Le=l.getCapturedShape(Ze.id)||this.getIntersection(Ze),vt=Ze.id,nt={evt:k,pointerId:vt};var bt=Ke!==Le;if(bt&&Ke&&(Ke._fireAndBubble(x.pointerout,{...nt},Le),Ke._fireAndBubble(x.pointerleave,{...nt},Le)),Le){if(ve[Le._id])return;ve[Le._id]=!0}Le&&Le.isListening()?(Oe=!0,bt&&(Le._fireAndBubble(x.pointerover,{...nt},Ke),Le._fireAndBubble(x.pointerenter,{...nt},Ke),this[re+"targetShape"]=Le),Le._fireAndBubble(x.pointermove,{...nt})):Ke&&(this._fire(x.pointerover,{evt:k,target:this,currentTarget:this,pointerId:vt}),this[re+"targetShape"]=null)}),Oe||this._fire(x.pointermove,{evt:k,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(k){const x=le(k.type),re=K(k.type);if(!x)return;this.setPointersPositions(k);const Te=this[re+"ClickStartShape"],ve=this[re+"ClickEndShape"];var Oe={};let Ke=!1;this._changedPointerPositions.forEach(Ze=>{const Le=l.getCapturedShape(Ze.id)||this.getIntersection(Ze);if(Le){if(Le.releaseCapture(Ze.id),Oe[Le._id])return;Oe[Le._id]=!0}const vt=Ze.id,nt={evt:k,pointerId:vt};let bt=!1;n.Konva["_"+re+"InDblClickWindow"]?(bt=!0,clearTimeout(this[re+"DblTimeout"])):s.DD.justDragged||(n.Konva["_"+re+"InDblClickWindow"]=!0,clearTimeout(this[re+"DblTimeout"])),this[re+"DblTimeout"]=setTimeout(function(){n.Konva["_"+re+"InDblClickWindow"]=!1},n.Konva.dblClickWindow),Le&&Le.isListening()?(Ke=!0,this[re+"ClickEndShape"]=Le,Le._fireAndBubble(x.pointerup,{...nt}),n.Konva["_"+re+"ListenClick"]&&Te&&Te===Le&&(Le._fireAndBubble(x.pointerclick,{...nt}),bt&&ve&&ve===Le&&Le._fireAndBubble(x.pointerdblclick,{...nt}))):(this[re+"ClickEndShape"]=null,n.Konva["_"+re+"ListenClick"]&&this._fire(x.pointerclick,{evt:k,target:this,currentTarget:this,pointerId:vt}),bt&&this._fire(x.pointerdblclick,{evt:k,target:this,currentTarget:this,pointerId:vt}))}),Ke||this._fire(x.pointerup,{evt:k,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),n.Konva["_"+re+"ListenClick"]=!1,k.cancelable&&re!=="touch"&&k.preventDefault()}_contextmenu(k){this.setPointersPositions(k);var x=this.getIntersection(this.getPointerPosition());x&&x.isListening()?x._fireAndBubble(T,{evt:k}):this._fire(T,{evt:k,target:this,currentTarget:this})}_wheel(k){this.setPointersPositions(k);var x=this.getIntersection(this.getPointerPosition());x&&x.isListening()?x._fireAndBubble(j,{evt:k}):this._fire(j,{evt:k,target:this,currentTarget:this})}_pointercancel(k){this.setPointersPositions(k);const x=l.getCapturedShape(k.pointerId)||this.getIntersection(this.getPointerPosition());x&&x._fireAndBubble(b,l.createEvent(k)),l.releaseCapture(k.pointerId)}_lostpointercapture(k){l.releaseCapture(k.pointerId)}setPointersPositions(k){var x=this._getContentPosition(),re=null,Te=null;k=k||window.event,k.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(k.touches,ve=>{this._pointerPositions.push({id:ve.identifier,x:(ve.clientX-x.left)/x.scaleX,y:(ve.clientY-x.top)/x.scaleY})}),Array.prototype.forEach.call(k.changedTouches||k.touches,ve=>{this._changedPointerPositions.push({id:ve.identifier,x:(ve.clientX-x.left)/x.scaleX,y:(ve.clientY-x.top)/x.scaleY})})):(re=(k.clientX-x.left)/x.scaleX,Te=(k.clientY-x.top)/x.scaleY,this.pointerPos={x:re,y:Te},this._pointerPositions=[{x:re,y:Te,id:e.Util._getFirstPointerId(k)}],this._changedPointerPositions=[{x:re,y:Te,id:e.Util._getFirstPointerId(k)}])}_setPointerPosition(k){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(k)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var k=this.content.getBoundingClientRect();return{top:k.top,left:k.left,scaleX:k.width/this.content.clientWidth||1,scaleY:k.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new a.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new a.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!n.Konva.isBrowser){var k=this.container();if(!k)throw"Stage has no container. A container is required.";k.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),k.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(k){k.batchDraw()}),this}}i.Stage=ye,ye.prototype.nodeType=h,(0,o._registerNode)(ye),t.Factory.addGetterSetter(ye,"container")})(vo);var Zr={},Qe={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Shape=i.shapes=void 0;const e=_e,t=ze,r=me,n=Ve,a=oe,s=_e,o=tt;var l="hasShadow",h="shadowRGBA",d="patternImage",u="linearGradient",f="radialGradient";let c;function g(){return c||(c=t.Util.createCanvasElement().getContext("2d"),c)}i.shapes={};function m(P){const A=this.attrs.fillRule;A?P.fill(A):P.fill()}function v(P){P.stroke()}function w(P){P.fill()}function C(P){P.stroke()}function p(){this._clearCache(l)}function _(){this._clearCache(h)}function b(){this._clearCache(d)}function y(){this._clearCache(u)}function N(){this._clearCache(f)}class S extends n.Node{constructor(A){super(A);let E;for(;E=t.Util.getRandomColor(),!(E&&!(E in i.shapes)););this.colorKey=E,i.shapes[E]=this}getContext(){return t.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return t.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(d,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var A=g();const E=A.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(E&&E.setTransform){const T=new t.Transform;T.translate(this.fillPatternX(),this.fillPatternY()),T.rotate(e.Konva.getAngle(this.fillPatternRotation())),T.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),T.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const G=T.getMatrix(),R=typeof DOMMatrix>"u"?{a:G[0],b:G[1],c:G[2],d:G[3],e:G[4],f:G[5]}:new DOMMatrix(G);E.setTransform(R)}return E}}_getLinearGradient(){return this._getCache(u,this.__getLinearGradient)}__getLinearGradient(){var A=this.fillLinearGradientColorStops();if(A){for(var E=g(),T=this.fillLinearGradientStartPoint(),G=this.fillLinearGradientEndPoint(),R=E.createLinearGradient(T.x,T.y,G.x,G.y),F=0;F<A.length;F+=2)R.addColorStop(A[F],A[F+1]);return R}}_getRadialGradient(){return this._getCache(f,this.__getRadialGradient)}__getRadialGradient(){var A=this.fillRadialGradientColorStops();if(A){for(var E=g(),T=this.fillRadialGradientStartPoint(),G=this.fillRadialGradientEndPoint(),R=E.createRadialGradient(T.x,T.y,this.fillRadialGradientStartRadius(),G.x,G.y,this.fillRadialGradientEndRadius()),F=0;F<A.length;F+=2)R.addColorStop(A[F],A[F+1]);return R}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var A=t.Util.colorToRGBA(this.shadowColor());if(A)return"rgba("+A.r+","+A.g+","+A.b+","+A.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const A=this.hitStrokeWidth();return A==="auto"?this.hasStroke():this.strokeEnabled()&&!!A}intersects(A){var E=this.getStage();if(!E)return!1;const T=E.bufferHitCanvas;return T.getContext().clear(),this.drawHit(T,void 0,!0),T.context.getImageData(Math.round(A.x),Math.round(A.y),1,1).data[3]>0}destroy(){return n.Node.prototype.destroy.call(this),delete i.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(A){var E;if(!this.getStage()||!((E=this.attrs.perfectDrawEnabled)!==null&&E!==void 0?E:!0))return!1;const G=A||this.hasFill(),R=this.hasStroke(),F=this.getAbsoluteOpacity()!==1;if(G&&R&&F)return!0;const V=this.hasShadow(),j=this.shadowForStrokeEnabled();return!!(G&&R&&V&&j)}setStrokeHitEnabled(A){t.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),A?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var A=this.size();return{x:this._centroid?-A.width/2:0,y:this._centroid?-A.height/2:0,width:A.width,height:A.height}}getClientRect(A={}){const E=A.skipTransform,T=A.relativeTo,G=this.getSelfRect(),F=!A.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,V=G.width+F,j=G.height+F,ne=!A.skipShadow&&this.hasShadow(),H=ne?this.shadowOffsetX():0,W=ne?this.shadowOffsetY():0,K=V+Math.abs(H),le=j+Math.abs(W),Y=ne&&this.shadowBlur()||0,z=K+Y*2,ye=le+Y*2,Ee={width:z,height:ye,x:-(F/2+Y)+Math.min(H,0)+G.x,y:-(F/2+Y)+Math.min(W,0)+G.y};return E?Ee:this._transformedRect(Ee,T)}drawScene(A,E){var T=this.getLayer(),G=A||T.getCanvas(),R=G.getContext(),F=this._getCanvasCache(),V=this.getSceneFunc(),j=this.hasShadow(),ne,H,W,K=G.isCache,le=E===this;if(!this.isVisible()&&!le)return this;if(F){R.save();var Y=this.getAbsoluteTransform(E).getMatrix();return R.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),this._drawCachedSceneCanvas(R),R.restore(),this}if(!V)return this;if(R.save(),this._useBufferCanvas()&&!K){ne=this.getStage(),H=ne.bufferCanvas,W=H.getContext(),W.clear(),W.save(),W._applyLineJoin(this);var z=this.getAbsoluteTransform(E).getMatrix();W.transform(z[0],z[1],z[2],z[3],z[4],z[5]),V.call(this,W,this),W.restore();var ye=H.pixelRatio;j&&R._applyShadow(this),R._applyOpacity(this),R._applyGlobalCompositeOperation(this),R.drawImage(H._canvas,0,0,H.width/ye,H.height/ye)}else{if(R._applyLineJoin(this),!le){var z=this.getAbsoluteTransform(E).getMatrix();R.transform(z[0],z[1],z[2],z[3],z[4],z[5]),R._applyOpacity(this),R._applyGlobalCompositeOperation(this)}j&&R._applyShadow(this),V.call(this,R,this)}return R.restore(),this}drawHit(A,E,T=!1){if(!this.shouldDrawHit(E,T))return this;var G=this.getLayer(),R=A||G.hitCanvas,F=R&&R.getContext(),V=this.hitFunc()||this.sceneFunc(),j=this._getCanvasCache(),ne=j&&j.hit;if(this.colorKey||t.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),ne){F.save();var H=this.getAbsoluteTransform(E).getMatrix();return F.transform(H[0],H[1],H[2],H[3],H[4],H[5]),this._drawCachedHitCanvas(F),F.restore(),this}if(!V)return this;if(F.save(),F._applyLineJoin(this),!(this===E)){var K=this.getAbsoluteTransform(E).getMatrix();F.transform(K[0],K[1],K[2],K[3],K[4],K[5])}return V.call(this,F,this),F.restore(),this}drawHitFromCache(A=0){var E=this._getCanvasCache(),T=this._getCachedSceneCanvas(),G=E.hit,R=G.getContext(),F=G.getWidth(),V=G.getHeight(),j,ne,H,W,K,le;R.clear(),R.drawImage(T._canvas,0,0,F,V);try{for(j=R.getImageData(0,0,F,V),ne=j.data,H=ne.length,W=t.Util._hexToRgb(this.colorKey),K=0;K<H;K+=4)le=ne[K+3],le>A?(ne[K]=W.r,ne[K+1]=W.g,ne[K+2]=W.b,ne[K+3]=255):ne[K+3]=0;R.putImageData(j,0,0)}catch(Y){t.Util.error("Unable to draw hit graph from cached scene canvas. "+Y.message)}return this}hasPointerCapture(A){return o.hasPointerCapture(A,this)}setPointerCapture(A){o.setPointerCapture(A,this)}releaseCapture(A){o.releaseCapture(A,this)}}i.Shape=S,S.prototype._fillFunc=m,S.prototype._strokeFunc=v,S.prototype._fillFuncHit=w,S.prototype._strokeFuncHit=C,S.prototype._centroid=!1,S.prototype.nodeType="Shape",(0,s._registerNode)(S),S.prototype.eventListeners={},S.prototype.on.call(S.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",p),S.prototype.on.call(S.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),S.prototype.on.call(S.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",b),S.prototype.on.call(S.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",y),S.prototype.on.call(S.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",N),r.Factory.addGetterSetter(S,"stroke",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(S,"strokeWidth",2,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(S,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(S,"hitStrokeWidth","auto",(0,a.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(S,"strokeHitEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(S,"perfectDrawEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(S,"shadowForStrokeEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(S,"lineJoin"),r.Factory.addGetterSetter(S,"lineCap"),r.Factory.addGetterSetter(S,"sceneFunc"),r.Factory.addGetterSetter(S,"hitFunc"),r.Factory.addGetterSetter(S,"dash"),r.Factory.addGetterSetter(S,"dashOffset",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(S,"shadowColor",void 0,(0,a.getStringValidator)()),r.Factory.addGetterSetter(S,"shadowBlur",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(S,"shadowOpacity",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(S,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(S,"shadowOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(S,"shadowOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(S,"fillPatternImage"),r.Factory.addGetterSetter(S,"fill",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(S,"fillPatternX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(S,"fillPatternY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(S,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(S,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(S,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(S,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(S,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(S,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(S,"fillEnabled",!0),r.Factory.addGetterSetter(S,"strokeEnabled",!0),r.Factory.addGetterSetter(S,"shadowEnabled",!0),r.Factory.addGetterSetter(S,"dashEnabled",!0),r.Factory.addGetterSetter(S,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(S,"fillPriority","color"),r.Factory.addComponentsGetterSetter(S,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(S,"fillPatternOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(S,"fillPatternOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(S,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(S,"fillPatternScaleX",1,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(S,"fillPatternScaleY",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(S,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(S,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(S,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(S,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(S,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(S,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(S,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(S,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(S,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(S,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(S,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(S,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(S,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(S,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(S,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(S,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(S,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(S,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(S,"fillPatternRotation",0),r.Factory.addGetterSetter(S,"fillRule",void 0,(0,a.getStringValidator)()),r.Factory.backCompat(S,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Qe);Object.defineProperty(Zr,"__esModule",{value:!0});Zr.Layer=void 0;const wt=ze,Rn=lr,pr=Ve,sa=me,cs=ct,z0=oe,B0=Qe,H0=_e;var W0="#",j0="beforeDraw",Y0="draw",wo=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],X0=wo.length;let Nr=class extends Rn.Container{constructor(e){super(e),this.canvas=new cs.SceneCanvas,this.hitCanvas=new cs.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){pr.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=pr.Node.prototype.moveUp.call(this);if(!e)return!1;var t=this.getStage();return!t||!t.content?!1:(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(pr.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(pr.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return pr.Node.prototype.remove.call(this),e&&e.parentNode&&wt.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){var t=e.getType();t!=="Group"&&t!=="Shape"&&wt.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),pr.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){wt.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){wt.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,wt.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var t=1,r=!1;;){for(let n=0;n<X0;n++){const a=wo[n],s=this._getIntersection({x:e.x+a.x*t,y:e.y+a.y*t}),o=s.shape;if(o)return o;if(r=!!s.antialiased,!s.antialiased)break}if(r)t+=1;else return null}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,n=r[3];if(n===255){const a=wt.Util._rgbToHex(r[0],r[1],r[2]),s=B0.shapes[W0+a];return s?{shape:s}:{antialiased:!0}}else if(n>0)return{antialiased:!0};return{}}drawScene(e,t){var r=this.getLayer(),n=e||r&&r.getCanvas();return this._fire(j0,{node:this}),this.clearBeforeDraw()&&n.getContext().clear(),Rn.Container.prototype.drawScene.call(this,n,t),this._fire(Y0,{node:this}),this}drawHit(e,t){var r=this.getLayer(),n=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Rn.Container.prototype.drawHit.call(this,n,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){wt.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return wt.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,t=!!this.hitCanvas._canvas.parentNode;t?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return wt.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Zr.Layer=Nr;Nr.prototype.nodeType="Layer";(0,H0._registerNode)(Nr);sa.Factory.addGetterSetter(Nr,"imageSmoothingEnabled",!0);sa.Factory.addGetterSetter(Nr,"clearBeforeDraw",!0);sa.Factory.addGetterSetter(Nr,"hitGraphEnabled",!0,(0,z0.getBooleanValidator)());var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.FastLayer=void 0;const K0=ze,q0=Zr,Q0=_e;class oa extends q0.Layer{constructor(e){super(e),this.listening(!1),K0.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Oi.FastLayer=oa;oa.prototype.nodeType="FastLayer";(0,Q0._registerNode)(oa);var Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.Group=void 0;const J0=ze,Z0=lr,$0=_e;class la extends Z0.Container{_validateAdd(e){var t=e.getType();t!=="Group"&&t!=="Shape"&&J0.Util.throw("You may only add groups and shapes to groups.")}}Or.Group=la;la.prototype.nodeType="Group";(0,$0._registerNode)(la);var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.Animation=void 0;const Mn=_e,us=ze,Fn=function(){return Mn.glob.performance&&Mn.glob.performance.now?function(){return Mn.glob.performance.now()}:function(){return new Date().getTime()}}();class ft{constructor(e,t){this.id=ft.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Fn(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){const t=this.layers,r=t.length;for(let n=0;n<r;n++)if(t[n]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const t=ft.animations,r=t.length;for(let n=0;n<r;n++)if(t[n].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Fn(),ft._addAnimation(this),this}stop(){return ft._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const t=e.id,r=this.animations,n=r.length;for(let a=0;a<n;a++)if(r[a].id===t){this.animations.splice(a,1);break}}static _runFrames(){const e={},t=this.animations;for(let r=0;r<t.length;r++){const n=t[r],a=n.layers,s=n.func;n._updateFrameObject(Fn());const o=a.length;let l;if(s?l=s.call(n,n.frame)!==!1:l=!0,!!l)for(let h=0;h<o;h++){const d=a[h];d._id!==void 0&&(e[d._id]=d)}}for(let r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=ft;e.animations.length?(e._runFrames(),us.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,us.Util.requestAnimFrame(this._animationLoop))}}Lr.Animation=ft;ft.animations=[];ft.animIdCounter=0;ft.animRunning=!1;var ko={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Easings=i.Tween=void 0;const e=ze,t=Lr,r=Ve,n=_e;var a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,o=2,l=3,h=0,d=["fill","stroke","shadowColor"];class u{constructor(g,m,v,w,C,p,_){this.prop=g,this.propFunc=m,this.begin=w,this._pos=w,this.duration=p,this._change=0,this.prevPos=0,this.yoyo=_,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=v,this._change=C-this.begin,this.pause()}fire(g){var m=this[g];m&&m()}setTime(g){g>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():g<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=g,this.update())}getTime(){return this._time}setPosition(g){this.prevPos=this._pos,this.propFunc(g),this._pos=g}getPosition(g){return g===void 0&&(g=this._time),this.func(g,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(g){this.pause(),this._time=g,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var g=this.getTimer()-this._startTime;this.state===o?this.setTime(g):this.state===l&&this.setTime(this.duration-g)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class f{constructor(g){var m=this,v=g.node,w=v._id,C,p=g.easing||i.Easings.Linear,_=!!g.yoyo,b;typeof g.duration>"u"?C=.3:g.duration===0?C=.001:C=g.duration,this.node=v,this._id=h++;var y=v.getLayer()||(v instanceof n.Konva.Stage?v.getLayers():null);y||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new t.Animation(function(){m.tween.onEnterFrame()},y),this.tween=new u(b,function(N){m._tweenFunc(N)},p,0,1,C*1e3,_),this._addListeners(),f.attrs[w]||(f.attrs[w]={}),f.attrs[w][this._id]||(f.attrs[w][this._id]={}),f.tweens[w]||(f.tweens[w]={});for(b in g)a[b]===void 0&&this._addAttr(b,g[b]);this.reset(),this.onFinish=g.onFinish,this.onReset=g.onReset,this.onUpdate=g.onUpdate}_addAttr(g,m){var v=this.node,w=v._id,C,p,_,b,y,N,S,P;if(_=f.tweens[w][g],_&&delete f.attrs[w][_][g],C=v.getAttr(g),e.Util._isArray(m))if(p=[],y=Math.max(m.length,C.length),g==="points"&&m.length!==C.length&&(m.length>C.length?(S=C,C=e.Util._prepareArrayForTween(C,m,v.closed())):(N=m,m=e.Util._prepareArrayForTween(m,C,v.closed()))),g.indexOf("fill")===0)for(b=0;b<y;b++)if(b%2===0)p.push(m[b]-C[b]);else{var A=e.Util.colorToRGBA(C[b]);P=e.Util.colorToRGBA(m[b]),C[b]=A,p.push({r:P.r-A.r,g:P.g-A.g,b:P.b-A.b,a:P.a-A.a})}else for(b=0;b<y;b++)p.push(m[b]-C[b]);else d.indexOf(g)!==-1?(C=e.Util.colorToRGBA(C),P=e.Util.colorToRGBA(m),p={r:P.r-C.r,g:P.g-C.g,b:P.b-C.b,a:P.a-C.a}):p=m-C;f.attrs[w][this._id][g]={start:C,diff:p,end:m,trueEnd:N,trueStart:S},f.tweens[w][g]=this._id}_tweenFunc(g){var m=this.node,v=f.attrs[m._id][this._id],w,C,p,_,b,y,N,S;for(w in v){if(C=v[w],p=C.start,_=C.diff,S=C.end,e.Util._isArray(p))if(b=[],N=Math.max(p.length,S.length),w.indexOf("fill")===0)for(y=0;y<N;y++)y%2===0?b.push((p[y]||0)+_[y]*g):b.push("rgba("+Math.round(p[y].r+_[y].r*g)+","+Math.round(p[y].g+_[y].g*g)+","+Math.round(p[y].b+_[y].b*g)+","+(p[y].a+_[y].a*g)+")");else for(y=0;y<N;y++)b.push((p[y]||0)+_[y]*g);else d.indexOf(w)!==-1?b="rgba("+Math.round(p.r+_.r*g)+","+Math.round(p.g+_.g*g)+","+Math.round(p.b+_.b*g)+","+(p.a+_.a*g)+")":b=p+_*g;m.setAttr(w,b)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var g=this.node,m=f.attrs[g._id][this._id];m.points&&m.points.trueEnd&&g.setAttr("points",m.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var g=this.node,m=f.attrs[g._id][this._id];m.points&&m.points.trueStart&&g.points(m.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(g){return this.tween.seek(g*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var g=this.node._id,m=this._id,v=f.tweens[g],w;this.pause();for(w in v)delete f.tweens[g][w];delete f.attrs[g][m]}}i.Tween=f,f.attrs={},f.tweens={},r.Node.prototype.to=function(c){var g=c.onFinish;c.node=this,c.onFinish=function(){this.destroy(),g&&g()};var m=new f(c);m.play()},i.Easings={BackEaseIn(c,g,m,v){var w=1.70158;return m*(c/=v)*c*((w+1)*c-w)+g},BackEaseOut(c,g,m,v){var w=1.70158;return m*((c=c/v-1)*c*((w+1)*c+w)+1)+g},BackEaseInOut(c,g,m,v){var w=1.70158;return(c/=v/2)<1?m/2*(c*c*(((w*=1.525)+1)*c-w))+g:m/2*((c-=2)*c*(((w*=1.525)+1)*c+w)+2)+g},ElasticEaseIn(c,g,m,v,w,C){var p=0;return c===0?g:(c/=v)===1?g+m:(C||(C=v*.3),!w||w<Math.abs(m)?(w=m,p=C/4):p=C/(2*Math.PI)*Math.asin(m/w),-(w*Math.pow(2,10*(c-=1))*Math.sin((c*v-p)*(2*Math.PI)/C))+g)},ElasticEaseOut(c,g,m,v,w,C){var p=0;return c===0?g:(c/=v)===1?g+m:(C||(C=v*.3),!w||w<Math.abs(m)?(w=m,p=C/4):p=C/(2*Math.PI)*Math.asin(m/w),w*Math.pow(2,-10*c)*Math.sin((c*v-p)*(2*Math.PI)/C)+m+g)},ElasticEaseInOut(c,g,m,v,w,C){var p=0;return c===0?g:(c/=v/2)===2?g+m:(C||(C=v*(.3*1.5)),!w||w<Math.abs(m)?(w=m,p=C/4):p=C/(2*Math.PI)*Math.asin(m/w),c<1?-.5*(w*Math.pow(2,10*(c-=1))*Math.sin((c*v-p)*(2*Math.PI)/C))+g:w*Math.pow(2,-10*(c-=1))*Math.sin((c*v-p)*(2*Math.PI)/C)*.5+m+g)},BounceEaseOut(c,g,m,v){return(c/=v)<1/2.75?m*(7.5625*c*c)+g:c<2/2.75?m*(7.5625*(c-=1.5/2.75)*c+.75)+g:c<2.5/2.75?m*(7.5625*(c-=2.25/2.75)*c+.9375)+g:m*(7.5625*(c-=2.625/2.75)*c+.984375)+g},BounceEaseIn(c,g,m,v){return m-i.Easings.BounceEaseOut(v-c,0,m,v)+g},BounceEaseInOut(c,g,m,v){return c<v/2?i.Easings.BounceEaseIn(c*2,0,m,v)*.5+g:i.Easings.BounceEaseOut(c*2-v,0,m,v)*.5+m*.5+g},EaseIn(c,g,m,v){return m*(c/=v)*c+g},EaseOut(c,g,m,v){return-m*(c/=v)*(c-2)+g},EaseInOut(c,g,m,v){return(c/=v/2)<1?m/2*c*c+g:-m/2*(--c*(c-2)-1)+g},StrongEaseIn(c,g,m,v){return m*(c/=v)*c*c*c*c+g},StrongEaseOut(c,g,m,v){return m*((c=c/v-1)*c*c*c*c+1)+g},StrongEaseInOut(c,g,m,v){return(c/=v/2)<1?m/2*c*c*c*c*c+g:m/2*((c-=2)*c*c*c*c+2)+g},Linear(c,g,m,v){return m*c/v+g}}})(ko);(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Konva=void 0;const e=_e,t=ze,r=Ve,n=lr,a=vo,s=Zr,o=Oi,l=Or,h=Fi,d=Qe,u=Lr,f=ko,c=Pt,g=ct;i.Konva=t.Util._assign(e.Konva,{Util:t.Util,Transform:t.Transform,Node:r.Node,Container:n.Container,Stage:a.Stage,stages:a.stages,Layer:s.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:h.DD,Shape:d.Shape,shapes:d.shapes,Animation:u.Animation,Tween:f.Tween,Easings:f.Easings,Context:c.Context,Canvas:g.Canvas}),i.default=i.Konva})(go);var Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.Arc=void 0;const Gi=me,ec=Qe,fs=_e,Di=oe,tc=_e;class Gt extends ec.Shape{_sceneFunc(e){var t=fs.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,r),e.arc(0,0,this.innerRadius(),t,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),r=this.clockwise(),n=fs.Konva.getAngle(r?360-this.angle():this.angle()),a=Math.cos(Math.min(n,Math.PI)),s=1,o=Math.sin(Math.min(Math.max(Math.PI,n),3*Math.PI/2)),l=Math.sin(Math.min(n,Math.PI/2)),h=a*(a>0?e:t),d=s*t,u=o*(o>0?e:t),f=l*(l>0?t:e);return{x:h,y:r?-1*f:u,width:d-h,height:f-u}}}Li.Arc=Gt;Gt.prototype._centroid=!0;Gt.prototype.className="Arc";Gt.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,tc._registerNode)(Gt);Gi.Factory.addGetterSetter(Gt,"innerRadius",0,(0,Di.getNumberValidator)());Gi.Factory.addGetterSetter(Gt,"outerRadius",0,(0,Di.getNumberValidator)());Gi.Factory.addGetterSetter(Gt,"angle",0,(0,Di.getNumberValidator)());Gi.Factory.addGetterSetter(Gt,"clockwise",!1,(0,Di.getBooleanValidator)());var xi={},$r={};Object.defineProperty($r,"__esModule",{value:!0});$r.Line=void 0;const Ii=me,rc=Qe,Co=oe,ic=_e;function jn(i,e,t,r,n,a,s){var o=Math.sqrt(Math.pow(t-i,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-r,2)),h=s*o/(o+l),d=s*l/(o+l),u=t-h*(n-i),f=r-h*(a-e),c=t+d*(n-i),g=r+d*(a-e);return[u,f,c,g]}function gs(i,e){var t=i.length,r=[],n,a;for(n=2;n<t-2;n+=2)a=jn(i[n-2],i[n-1],i[n],i[n+1],i[n+2],i[n+3],e),!isNaN(a[0])&&(r.push(a[0]),r.push(a[1]),r.push(i[n]),r.push(i[n+1]),r.push(a[2]),r.push(a[3]));return r}class jt extends rc.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var t=this.points(),r=t.length,n=this.tension(),a=this.closed(),s=this.bezier(),o,l,h;if(r){if(e.beginPath(),e.moveTo(t[0],t[1]),n!==0&&r>4){for(o=this.getTensionPoints(),l=o.length,h=a?0:4,a||e.quadraticCurveTo(o[0],o[1],o[2],o[3]);h<l-2;)e.bezierCurveTo(o[h++],o[h++],o[h++],o[h++],o[h++],o[h++]);a||e.quadraticCurveTo(o[l-2],o[l-1],t[r-2],t[r-1])}else if(s)for(h=2;h<r;)e.bezierCurveTo(t[h++],t[h++],t[h++],t[h++],t[h++],t[h++]);else for(h=2;h<r;h+=2)e.lineTo(t[h],t[h+1]);a?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():gs(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),t=e.length,r=this.tension(),n=jn(e[t-2],e[t-1],e[0],e[1],e[2],e[3],r),a=jn(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],r),s=gs(e,r),o=[n[2],n[3]].concat(s).concat([a[0],a[1],e[t-2],e[t-1],a[2],a[3],n[0],n[1],e[0],e[1]]);return o}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var t=e[0],r=e[0],n=e[1],a=e[1],s,o,l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],t=Math.min(t,s),r=Math.max(r,s),n=Math.min(n,o),a=Math.max(a,o);return{x:t,y:n,width:r-t,height:a-n}}}$r.Line=jt;jt.prototype.className="Line";jt.prototype._attrsAffectingSize=["points","bezier","tension"];(0,ic._registerNode)(jt);Ii.Factory.addGetterSetter(jt,"closed",!1);Ii.Factory.addGetterSetter(jt,"bezier",!1);Ii.Factory.addGetterSetter(jt,"tension",0,(0,Co.getNumberValidator)());Ii.Factory.addGetterSetter(jt,"points",[],(0,Co.getNumberArrayValidator)());var Gr={},So={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.t2length=i.getQuadraticArcLength=i.getCubicArcLength=i.binomialCoefficients=i.cValues=i.tValues=void 0,i.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],i.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],i.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(s,o,l)=>{let h,d,u;h=l/2,d=0;for(let c=0;c<20;c++)u=h*i.tValues[20][c]+h,d+=i.cValues[20][c]*r(s,o,u);return h*d};i.getCubicArcLength=e;const t=(s,o,l)=>{l===void 0&&(l=1);const h=s[0]-2*s[1]+s[2],d=o[0]-2*o[1]+o[2],u=2*s[1]-2*s[0],f=2*o[1]-2*o[0],c=4*(h*h+d*d),g=4*(h*u+d*f),m=u*u+f*f;if(c===0)return l*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(o[2]-o[0],2));const v=g/(2*c),w=m/c,C=l+v,p=w-v*v,_=C*C+p>0?Math.sqrt(C*C+p):0,b=v*v+p>0?Math.sqrt(v*v+p):0,y=v+Math.sqrt(v*v+p)!==0?p*Math.log(Math.abs((C+_)/(v+b))):0;return Math.sqrt(c)/2*(C*_-v*b+y)};i.getQuadraticArcLength=t;function r(s,o,l){const h=n(1,l,s),d=n(1,l,o),u=h*h+d*d;return Math.sqrt(u)}const n=(s,o,l)=>{const h=l.length-1;let d,u;if(h===0)return 0;if(s===0){u=0;for(let f=0;f<=h;f++)u+=i.binomialCoefficients[h][f]*Math.pow(1-o,h-f)*Math.pow(o,f)*l[f];return u}else{d=new Array(h);for(let f=0;f<h;f++)d[f]=h*(l[f+1]-l[f]);return n(s-1,o,d)}},a=(s,o,l)=>{let h=1,d=s/o,u=(s-l(d))/o,f=0;for(;h>.001;){const c=l(d+u),g=Math.abs(s-c)/o;if(g<h)h=g,d+=u;else{const m=l(d-u),v=Math.abs(s-m)/o;v<h?(h=v,d-=u):u/=2}if(f++,f>500)break}return d};i.t2length=a})(So);Object.defineProperty(Gr,"__esModule",{value:!0});Gr.Path=void 0;const nc=me,ac=Qe,sc=_e,_r=So;class qe extends ac.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=qe.parsePathData(this.data()),this.pathLength=qe.getPathLength(this.dataArray)}_sceneFunc(e){var t=this.dataArray;e.beginPath();for(var r=!1,n=0;n<t.length;n++){var a=t[n].command,s=t[n].points;switch(a){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":var o=s[0],l=s[1],h=s[2],d=s[3],u=s[4],f=s[5],c=s[6],g=s[7],m=h>d?h:d,v=h>d?1:h/d,w=h>d?d/h:1;e.translate(o,l),e.rotate(c),e.scale(v,w),e.arc(0,0,m,u,u+f,1-g),e.scale(1/v,1/w),e.rotate(-c),e.translate(-o,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(h){if(h.command==="A"){var d=h.points[4],u=h.points[5],f=h.points[4]+u,c=Math.PI/180;if(Math.abs(d-f)<c&&(c=Math.abs(d-f)),u<0)for(let g=d-c;g>f;g-=c){const m=qe.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],g,0);e.push(m.x,m.y)}else for(let g=d+c;g<f;g+=c){const m=qe.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],g,0);e.push(m.x,m.y)}}else if(h.command==="C")for(let g=0;g<=1;g+=.01){const m=qe.getPointOnCubicBezier(g,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);e.push(m.x,m.y)}else e=e.concat(h.points)});for(var t=e[0],r=e[0],n=e[1],a=e[1],s,o,l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],isNaN(s)||(t=Math.min(t,s),r=Math.max(r,s)),isNaN(o)||(n=Math.min(n,o),a=Math.max(a,o));return{x:t,y:n,width:r-t,height:a-n}}getLength(){return this.pathLength}getPointAtLength(e){return qe.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))}static getPathLength(e){let t=0;for(var r=0;r<e.length;++r)t+=e[r].pathLength;return t}static getPointAtLengthOfDataArray(e,t){var r,n=0,a=t.length;if(!a)return null;for(;n<a&&e>t[n].pathLength;)e-=t[n].pathLength,++n;if(n===a)return r=t[n-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return r=t[n].points.slice(0,2),{x:r[0],y:r[1]};var s=t[n],o=s.points;switch(s.command){case"L":return qe.getPointOnLine(e,s.start.x,s.start.y,o[0],o[1]);case"C":return qe.getPointOnCubicBezier((0,_r.t2length)(e,qe.getPathLength(t),m=>(0,_r.getCubicArcLength)([s.start.x,o[0],o[2],o[4]],[s.start.y,o[1],o[3],o[5]],m)),s.start.x,s.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return qe.getPointOnQuadraticBezier((0,_r.t2length)(e,qe.getPathLength(t),m=>(0,_r.getQuadraticArcLength)([s.start.x,o[0],o[2]],[s.start.y,o[1],o[3]],m)),s.start.x,s.start.y,o[0],o[1],o[2],o[3]);case"A":var l=o[0],h=o[1],d=o[2],u=o[3],f=o[4],c=o[5],g=o[6];return f+=c*e/s.pathLength,qe.getPointOnEllipticalArc(l,h,d,u,f,g)}return null}static getPointOnLine(e,t,r,n,a,s,o){s===void 0&&(s=t),o===void 0&&(o=r);var l=(a-r)/(n-t+1e-8),h=Math.sqrt(e*e/(1+l*l));n<t&&(h*=-1);var d=l*h,u;if(n===t)u={x:s,y:o+d};else if((o-r)/(s-t+1e-8)===l)u={x:s+h,y:o+d};else{var f,c,g=this.getLineLength(t,r,n,a),m=(s-t)*(n-t)+(o-r)*(a-r);m=m/(g*g),f=t+m*(n-t),c=r+m*(a-r);var v=this.getLineLength(s,o,f,c),w=Math.sqrt(e*e-v*v);h=Math.sqrt(w*w/(1+l*l)),n<t&&(h*=-1),d=l*h,u={x:f+h,y:c+d}}return u}static getPointOnCubicBezier(e,t,r,n,a,s,o,l,h){function d(v){return v*v*v}function u(v){return 3*v*v*(1-v)}function f(v){return 3*v*(1-v)*(1-v)}function c(v){return(1-v)*(1-v)*(1-v)}var g=l*d(e)+s*u(e)+n*f(e)+t*c(e),m=h*d(e)+o*u(e)+a*f(e)+r*c(e);return{x:g,y:m}}static getPointOnQuadraticBezier(e,t,r,n,a,s,o){function l(c){return c*c}function h(c){return 2*c*(1-c)}function d(c){return(1-c)*(1-c)}var u=s*l(e)+n*h(e)+t*d(e),f=o*l(e)+a*h(e)+r*d(e);return{x:u,y:f}}static getPointOnEllipticalArc(e,t,r,n,a,s){var o=Math.cos(s),l=Math.sin(s),h={x:r*Math.cos(a),y:n*Math.sin(a)};return{x:e+(h.x*o-h.y*l),y:t+(h.x*l+h.y*o)}}static parsePathData(e){if(!e)return[];var t=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var n=0;n<r.length;n++)t=t.replace(new RegExp(r[n],"g"),"|"+r[n]);var a=t.split("|"),s=[],o=[],l=0,h=0,d=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,u;for(n=1;n<a.length;n++){var f=a[n],c=f.charAt(0);for(f=f.slice(1),o.length=0;u=d.exec(f);)o.push(u[0]);for(var g=[],m=0,v=o.length;m<v;m++){if(o[m]==="00"){g.push(0,0);continue}var w=parseFloat(o[m]);isNaN(w)?g.push(0):g.push(w)}for(;g.length>0&&!isNaN(g[0]);){var C="",p=[],_=l,b=h,y,N,S,P,A,E,T,G,R,F;switch(c){case"l":l+=g.shift(),h+=g.shift(),C="L",p.push(l,h);break;case"L":l=g.shift(),h=g.shift(),p.push(l,h);break;case"m":var V=g.shift(),j=g.shift();if(l+=V,h+=j,C="M",s.length>2&&s[s.length-1].command==="z"){for(var ne=s.length-2;ne>=0;ne--)if(s[ne].command==="M"){l=s[ne].points[0]+V,h=s[ne].points[1]+j;break}}p.push(l,h),c="l";break;case"M":l=g.shift(),h=g.shift(),C="M",p.push(l,h),c="L";break;case"h":l+=g.shift(),C="L",p.push(l,h);break;case"H":l=g.shift(),C="L",p.push(l,h);break;case"v":h+=g.shift(),C="L",p.push(l,h);break;case"V":h=g.shift(),C="L",p.push(l,h);break;case"C":p.push(g.shift(),g.shift(),g.shift(),g.shift()),l=g.shift(),h=g.shift(),p.push(l,h);break;case"c":p.push(l+g.shift(),h+g.shift(),l+g.shift(),h+g.shift()),l+=g.shift(),h+=g.shift(),C="C",p.push(l,h);break;case"S":N=l,S=h,y=s[s.length-1],y.command==="C"&&(N=l+(l-y.points[2]),S=h+(h-y.points[3])),p.push(N,S,g.shift(),g.shift()),l=g.shift(),h=g.shift(),C="C",p.push(l,h);break;case"s":N=l,S=h,y=s[s.length-1],y.command==="C"&&(N=l+(l-y.points[2]),S=h+(h-y.points[3])),p.push(N,S,l+g.shift(),h+g.shift()),l+=g.shift(),h+=g.shift(),C="C",p.push(l,h);break;case"Q":p.push(g.shift(),g.shift()),l=g.shift(),h=g.shift(),p.push(l,h);break;case"q":p.push(l+g.shift(),h+g.shift()),l+=g.shift(),h+=g.shift(),C="Q",p.push(l,h);break;case"T":N=l,S=h,y=s[s.length-1],y.command==="Q"&&(N=l+(l-y.points[0]),S=h+(h-y.points[1])),l=g.shift(),h=g.shift(),C="Q",p.push(N,S,l,h);break;case"t":N=l,S=h,y=s[s.length-1],y.command==="Q"&&(N=l+(l-y.points[0]),S=h+(h-y.points[1])),l+=g.shift(),h+=g.shift(),C="Q",p.push(N,S,l,h);break;case"A":P=g.shift(),A=g.shift(),E=g.shift(),T=g.shift(),G=g.shift(),R=l,F=h,l=g.shift(),h=g.shift(),C="A",p=this.convertEndpointToCenterParameterization(R,F,l,h,T,G,P,A,E);break;case"a":P=g.shift(),A=g.shift(),E=g.shift(),T=g.shift(),G=g.shift(),R=l,F=h,l+=g.shift(),h+=g.shift(),C="A",p=this.convertEndpointToCenterParameterization(R,F,l,h,T,G,P,A,E);break}s.push({command:C||c,points:p,start:{x:_,y:b},pathLength:this.calcLength(_,b,C||c,p)})}(c==="z"||c==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,t,r,n){var a,s,o,l,h=qe;switch(r){case"L":return h.getLineLength(e,t,n[0],n[1]);case"C":return(0,_r.getCubicArcLength)([e,n[0],n[2],n[4]],[t,n[1],n[3],n[5]],1);case"Q":return(0,_r.getQuadraticArcLength)([e,n[0],n[2]],[t,n[1],n[3]],1);case"A":a=0;var d=n[4],u=n[5],f=n[4]+u,c=Math.PI/180;if(Math.abs(d-f)<c&&(c=Math.abs(d-f)),s=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],d,0),u<0)for(l=d-c;l>f;l-=c)o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),a+=h.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(l=d+c;l<f;l+=c)o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),a+=h.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],f,0),a+=h.getLineLength(s.x,s.y,o.x,o.y),a}return 0}static convertEndpointToCenterParameterization(e,t,r,n,a,s,o,l,h){var d=h*(Math.PI/180),u=Math.cos(d)*(e-r)/2+Math.sin(d)*(t-n)/2,f=-1*Math.sin(d)*(e-r)/2+Math.cos(d)*(t-n)/2,c=u*u/(o*o)+f*f/(l*l);c>1&&(o*=Math.sqrt(c),l*=Math.sqrt(c));var g=Math.sqrt((o*o*(l*l)-o*o*(f*f)-l*l*(u*u))/(o*o*(f*f)+l*l*(u*u)));a===s&&(g*=-1),isNaN(g)&&(g=0);var m=g*o*f/l,v=g*-l*u/o,w=(e+r)/2+Math.cos(d)*m-Math.sin(d)*v,C=(t+n)/2+Math.sin(d)*m+Math.cos(d)*v,p=function(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])},_=function(A,E){return(A[0]*E[0]+A[1]*E[1])/(p(A)*p(E))},b=function(A,E){return(A[0]*E[1]<A[1]*E[0]?-1:1)*Math.acos(_(A,E))},y=b([1,0],[(u-m)/o,(f-v)/l]),N=[(u-m)/o,(f-v)/l],S=[(-1*u-m)/o,(-1*f-v)/l],P=b(N,S);return _(N,S)<=-1&&(P=Math.PI),_(N,S)>=1&&(P=0),s===0&&P>0&&(P=P-2*Math.PI),s===1&&P<0&&(P=P+2*Math.PI),[w,C,o,l,y,P,d,s]}}Gr.Path=qe;qe.prototype.className="Path";qe.prototype._attrsAffectingSize=["data"];(0,sc._registerNode)(qe);nc.Factory.addGetterSetter(qe,"data");Object.defineProperty(xi,"__esModule",{value:!0});xi.Arrow=void 0;const Ui=me,oc=$r,Po=oe,lc=_e,ms=Gr;class dr extends oc.Line{_sceneFunc(e){super._sceneFunc(e);var t=Math.PI*2,r=this.points(),n=r,a=this.tension()!==0&&r.length>4;a&&(n=this.getTensionPoints());var s=this.pointerLength(),o=r.length,l,h;if(a){const f=[n[n.length-4],n[n.length-3],n[n.length-2],n[n.length-1],r[o-2],r[o-1]],c=ms.Path.calcLength(n[n.length-4],n[n.length-3],"C",f),g=ms.Path.getPointOnQuadraticBezier(Math.min(1,1-s/c),f[0],f[1],f[2],f[3],f[4],f[5]);l=r[o-2]-g.x,h=r[o-1]-g.y}else l=r[o-2]-r[o-4],h=r[o-1]-r[o-3];var d=(Math.atan2(h,l)+t)%t,u=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[o-2],r[o-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-s,u/2),e.lineTo(-s,-u/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),a?(l=(n[0]+n[2])/2-r[0],h=(n[1]+n[3])/2-r[1]):(l=r[2]-r[0],h=r[3]-r[1]),e.rotate((Math.atan2(-h,-l)+t)%t),e.moveTo(0,0),e.lineTo(-s,u/2),e.lineTo(-s,-u/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x-t,y:e.y-t,width:e.width+t*2,height:e.height+t*2}}}xi.Arrow=dr;dr.prototype.className="Arrow";(0,lc._registerNode)(dr);Ui.Factory.addGetterSetter(dr,"pointerLength",10,(0,Po.getNumberValidator)());Ui.Factory.addGetterSetter(dr,"pointerWidth",10,(0,Po.getNumberValidator)());Ui.Factory.addGetterSetter(dr,"pointerAtBeginning",!1);Ui.Factory.addGetterSetter(dr,"pointerAtEnding",!0);var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.Circle=void 0;const hc=me,dc=Qe,cc=oe,uc=_e;let Dr=class extends dc.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Vi.Circle=Dr;Dr.prototype._centroid=!0;Dr.prototype.className="Circle";Dr.prototype._attrsAffectingSize=["radius"];(0,uc._registerNode)(Dr);hc.Factory.addGetterSetter(Dr,"radius",0,(0,cc.getNumberValidator)());var zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.Ellipse=void 0;const ha=me,fc=Qe,Eo=oe,gc=_e;class Yt extends fc.Shape{_sceneFunc(e){var t=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),t!==r&&e.scale(1,r/t),e.arc(0,0,t,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}zi.Ellipse=Yt;Yt.prototype.className="Ellipse";Yt.prototype._centroid=!0;Yt.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,gc._registerNode)(Yt);ha.Factory.addComponentsGetterSetter(Yt,"radius",["x","y"]);ha.Factory.addGetterSetter(Yt,"radiusX",0,(0,Eo.getNumberValidator)());ha.Factory.addGetterSetter(Yt,"radiusY",0,(0,Eo.getNumberValidator)());var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.Image=void 0;const Nn=ze,cr=me,mc=Qe,pc=_e,ei=oe;let pt=class To extends mc.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),r=this.getHeight(),n=this.cornerRadius(),a=this.attrs.image;let s;if(a){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?s=[a,this.cropX(),this.cropY(),o,l,0,0,t,r]:s=[a,0,0,t,r]}(this.hasFill()||this.hasStroke()||n)&&(e.beginPath(),n?Nn.Util.drawRoundedRectPath(e,t,r,n):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)),a&&(n&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){var t=this.width(),r=this.height(),n=this.cornerRadius();e.beginPath(),n?Nn.Util.drawRoundedRectPath(e,t,r,n):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return(e=this.attrs.width)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.width}getHeight(){var e,t;return(e=this.attrs.height)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.height}static fromURL(e,t,r=null){var n=Nn.Util.createImageElement();n.onload=function(){var a=new To({image:n});t(a)},n.onerror=r,n.crossOrigin="Anonymous",n.src=e}};Bi.Image=pt;pt.prototype.className="Image";(0,pc._registerNode)(pt);cr.Factory.addGetterSetter(pt,"cornerRadius",0,(0,ei.getNumberOrArrayOfNumbersValidator)(4));cr.Factory.addGetterSetter(pt,"image");cr.Factory.addComponentsGetterSetter(pt,"crop",["x","y","width","height"]);cr.Factory.addGetterSetter(pt,"cropX",0,(0,ei.getNumberValidator)());cr.Factory.addGetterSetter(pt,"cropY",0,(0,ei.getNumberValidator)());cr.Factory.addGetterSetter(pt,"cropWidth",0,(0,ei.getNumberValidator)());cr.Factory.addGetterSetter(pt,"cropHeight",0,(0,ei.getNumberValidator)());var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.Tag=Pr.Label=void 0;const Hi=me,_c=Qe,vc=Or,da=oe,Ao=_e;var Ro=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],bc="Change.konva",yc="none",Yn="up",Xn="right",Kn="down",qn="left",wc=Ro.length;class ca extends vc.Group{constructor(e){super(e),this.on("add.konva",function(t){this._addListeners(t.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var t=this,r,n=function(){t._sync()};for(r=0;r<wc;r++)e.on(Ro[r]+bc,n)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),t=this.getTag(),r,n,a,s,o,l,h;if(e&&t){switch(r=e.width(),n=e.height(),a=t.pointerDirection(),s=t.pointerWidth(),h=t.pointerHeight(),o=0,l=0,a){case Yn:o=r/2,l=-1*h;break;case Xn:o=r+s,l=n/2;break;case Kn:o=r/2,l=n+h;break;case qn:o=-1*s,l=n/2;break}t.setAttrs({x:-1*o,y:-1*l,width:r,height:n}),e.setAttrs({x:-1*o,y:-1*l})}}}Pr.Label=ca;ca.prototype.className="Label";(0,Ao._registerNode)(ca);class ur extends _c.Shape{_sceneFunc(e){var t=this.width(),r=this.height(),n=this.pointerDirection(),a=this.pointerWidth(),s=this.pointerHeight(),o=this.cornerRadius();let l=0,h=0,d=0,u=0;typeof o=="number"?l=h=d=u=Math.min(o,t/2,r/2):(l=Math.min(o[0]||0,t/2,r/2),h=Math.min(o[1]||0,t/2,r/2),u=Math.min(o[2]||0,t/2,r/2),d=Math.min(o[3]||0,t/2,r/2)),e.beginPath(),e.moveTo(l,0),n===Yn&&(e.lineTo((t-a)/2,0),e.lineTo(t/2,-1*s),e.lineTo((t+a)/2,0)),e.lineTo(t-h,0),e.arc(t-h,h,h,Math.PI*3/2,0,!1),n===Xn&&(e.lineTo(t,(r-s)/2),e.lineTo(t+a,r/2),e.lineTo(t,(r+s)/2)),e.lineTo(t,r-u),e.arc(t-u,r-u,u,0,Math.PI/2,!1),n===Kn&&(e.lineTo((t+a)/2,r),e.lineTo(t/2,r+s),e.lineTo((t-a)/2,r)),e.lineTo(d,r),e.arc(d,r-d,d,Math.PI/2,Math.PI,!1),n===qn&&(e.lineTo(0,(r+s)/2),e.lineTo(-1*a,r/2),e.lineTo(0,(r-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,t=0,r=this.pointerWidth(),n=this.pointerHeight(),a=this.pointerDirection(),s=this.width(),o=this.height();return a===Yn?(t-=n,o+=n):a===Kn?o+=n:a===qn?(e-=r*1.5,s+=r):a===Xn&&(s+=r*1.5),{x:e,y:t,width:s,height:o}}}Pr.Tag=ur;ur.prototype.className="Tag";(0,Ao._registerNode)(ur);Hi.Factory.addGetterSetter(ur,"pointerDirection",yc);Hi.Factory.addGetterSetter(ur,"pointerWidth",0,(0,da.getNumberValidator)());Hi.Factory.addGetterSetter(ur,"pointerHeight",0,(0,da.getNumberValidator)());Hi.Factory.addGetterSetter(ur,"cornerRadius",0,(0,da.getNumberOrArrayOfNumbersValidator)(4));var ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.Rect=void 0;const kc=me,Cc=Qe,Sc=_e,Pc=ze,Ec=oe;let Wi=class extends Cc.Shape{_sceneFunc(e){var t=this.cornerRadius(),r=this.width(),n=this.height();e.beginPath(),t?Pc.Util.drawRoundedRectPath(e,r,n,t):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}};ti.Rect=Wi;Wi.prototype.className="Rect";(0,Sc._registerNode)(Wi);kc.Factory.addGetterSetter(Wi,"cornerRadius",0,(0,Ec.getNumberOrArrayOfNumbersValidator)(4));var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.RegularPolygon=void 0;const Mo=me,Tc=Qe,Fo=oe,Ac=_e;class fr extends Tc.Shape{_sceneFunc(e){const t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length;r++)e.lineTo(t[r].x,t[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,r=[];for(var n=0;n<e;n++)r.push({x:t*Math.sin(n*2*Math.PI/e),y:-1*t*Math.cos(n*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();var t=e[0].x,r=e[0].y,n=e[0].x,a=e[0].y;return e.forEach(s=>{t=Math.min(t,s.x),r=Math.max(r,s.x),n=Math.min(n,s.y),a=Math.max(a,s.y)}),{x:t,y:n,width:r-t,height:a-n}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}ji.RegularPolygon=fr;fr.prototype.className="RegularPolygon";fr.prototype._centroid=!0;fr.prototype._attrsAffectingSize=["radius"];(0,Ac._registerNode)(fr);Mo.Factory.addGetterSetter(fr,"radius",0,(0,Fo.getNumberValidator)());Mo.Factory.addGetterSetter(fr,"sides",0,(0,Fo.getNumberValidator)());var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.Ring=void 0;const No=me,Rc=Qe,Oo=oe,Mc=_e;var ps=Math.PI*2;class gr extends Rc.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,ps,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),ps,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Yi.Ring=gr;gr.prototype.className="Ring";gr.prototype._centroid=!0;gr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Mc._registerNode)(gr);No.Factory.addGetterSetter(gr,"innerRadius",0,(0,Oo.getNumberValidator)());No.Factory.addGetterSetter(gr,"outerRadius",0,(0,Oo.getNumberValidator)());var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.Sprite=void 0;const mr=me,Fc=Qe,Nc=Lr,Lo=oe,Oc=_e;class _t extends Fc.Shape{constructor(e){super(e),this._updated=!0,this.anim=new Nc.Animation(()=>{var t=this._updated;return this._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var t=this.animation(),r=this.frameIndex(),n=r*4,a=this.animations()[t],s=this.frameOffsets(),o=a[n+0],l=a[n+1],h=a[n+2],d=a[n+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,h,d),e.closePath(),e.fillStrokeShape(this)),u)if(s){var f=s[t],c=r*2;e.drawImage(u,o,l,h,d,f[c+0],f[c+1],h,d)}else e.drawImage(u,o,l,h,d,0,0,h,d)}_hitFunc(e){var t=this.animation(),r=this.frameIndex(),n=r*4,a=this.animations()[t],s=this.frameOffsets(),o=a[n+2],l=a[n+3];if(e.beginPath(),s){var h=s[t],d=r*2;e.rect(h[d+0],h[d+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),t=this.animation(),r=this.animations(),n=r[t],a=n.length/4;e<a-1?this.frameIndex(e+1):this.frameIndex(0)}}Xi.Sprite=_t;_t.prototype.className="Sprite";(0,Oc._registerNode)(_t);mr.Factory.addGetterSetter(_t,"animation");mr.Factory.addGetterSetter(_t,"animations");mr.Factory.addGetterSetter(_t,"frameOffsets");mr.Factory.addGetterSetter(_t,"image");mr.Factory.addGetterSetter(_t,"frameIndex",0,(0,Lo.getNumberValidator)());mr.Factory.addGetterSetter(_t,"frameRate",17,(0,Lo.getNumberValidator)());mr.Factory.backCompat(_t,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.Star=void 0;const ua=me,Lc=Qe,fa=oe,Gc=_e;class Xt extends Lc.Shape{_sceneFunc(e){var t=this.innerRadius(),r=this.outerRadius(),n=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(var a=1;a<n*2;a++){var s=a%2===0?r:t,o=s*Math.sin(a*Math.PI/n),l=-1*s*Math.cos(a*Math.PI/n);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ki.Star=Xt;Xt.prototype.className="Star";Xt.prototype._centroid=!0;Xt.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Gc._registerNode)(Xt);ua.Factory.addGetterSetter(Xt,"numPoints",5,(0,fa.getNumberValidator)());ua.Factory.addGetterSetter(Xt,"innerRadius",0,(0,fa.getNumberValidator)());ua.Factory.addGetterSetter(Xt,"outerRadius",0,(0,fa.getNumberValidator)());var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.Text=nr.stringToArray=void 0;const Qn=ze,$e=me,Dc=Qe,Kt=oe,xc=_e;function Go(i){return Array.from(i)}nr.stringToArray=Go;var vr="auto",Ic="center",Do="inherit",Ur="justify",Uc="Change.konva",Vc="2d",_s="-",xo="left",zc="text",Bc="Text",Hc="top",Wc="bottom",vs="middle",Io="normal",jc="px ",di=" ",Yc="right",bs="rtl",Xc="word",Kc="char",ys="none",On="…",Uo=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],qc=Uo.length;function Qc(i){return i.split(",").map(e=>{e=e.trim();const t=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!r&&(e=`"${e}"`),e}).join(", ")}var ci;function Ln(){return ci||(ci=Qn.Util.createCanvasElement().getContext(Vc),ci)}function Jc(i){i.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Zc(i){i.setAttr("miterLimit",2),i.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function $c(i){return i=i||{},!i.fillLinearGradientColorStops&&!i.fillRadialGradientColorStops&&!i.fillPatternImage&&(i.fill=i.fill||"black"),i}class He extends Dc.Shape{constructor(e){super($c(e)),this._partialTextX=0,this._partialTextY=0;for(var t=0;t<qc;t++)this.on(Uo[t]+Uc,this._setTextData);this._setTextData()}_sceneFunc(e){var t=this.textArr,r=t.length;if(this.text()){var n=this.padding(),a=this.fontSize(),s=this.lineHeight()*a,o=this.verticalAlign(),l=this.direction(),h=0,d=this.align(),u=this.getWidth(),f=this.letterSpacing(),c=this.fill(),g=this.textDecoration(),m=g.indexOf("underline")!==-1,v=g.indexOf("line-through")!==-1,w;l=l===Do?e.direction:l;var C=0,C=s/2,p=0,_=0;for(l===bs&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",vs),e.setAttr("textAlign",xo),o===vs?h=(this.getHeight()-r*s-n*2)/2:o===Wc&&(h=this.getHeight()-r*s-n*2),e.translate(n,h+n),w=0;w<r;w++){var p=0,_=0,b=t[w],y=b.text,N=b.width,S=b.lastInParagraph,P,A,E;if(e.save(),d===Yc?p+=u-N-n*2:d===Ic&&(p+=(u-N-n*2)/2),m){e.save(),e.beginPath(),e.moveTo(p,C+_+Math.round(a/2)),P=y.split(" ").length-1,A=P===0,E=d===Ur&&!S?u-n*2:N,e.lineTo(p+Math.round(E),C+_+Math.round(a/2)),e.lineWidth=a/15;const j=this._getLinearGradient();e.strokeStyle=j||c,e.stroke(),e.restore()}if(v){e.save(),e.beginPath(),e.moveTo(p,C+_),P=y.split(" ").length-1,A=P===0,E=d===Ur&&S&&!A?u-n*2:N,e.lineTo(p+Math.round(E),C+_),e.lineWidth=a/15;const j=this._getLinearGradient();e.strokeStyle=j||c,e.stroke(),e.restore()}if(l!==bs&&(f!==0||d===Ur)){P=y.split(" ").length-1;for(var T=Go(y),G=0;G<T.length;G++){var R=T[G];R===" "&&!S&&d===Ur&&(p+=(u-n*2-N)/P),this._partialTextX=p,this._partialTextY=C+_,this._partialText=R,e.fillStrokeShape(this),p+=this.measureSize(R).width+f}}else f!==0&&e.setAttr("letterSpacing",`${f}px`),this._partialTextX=p,this._partialTextY=C+_,this._partialText=y,e.fillStrokeShape(this);e.restore(),r>1&&(C+=s)}}}_hitFunc(e){var t=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}setText(e){var t=Qn.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(zc,t),this}getWidth(){var e=this.attrs.width===vr||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===vr||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Qn.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t=Ln(),r=this.fontSize(),n;return t.save(),t.font=this._getContextFont(),n=t.measureText(e),t.restore(),{width:n.width,height:r}}_getContextFont(){return this.fontStyle()+di+this.fontVariant()+di+(this.fontSize()+jc)+Qc(this.fontFamily())}_addTextLine(e){this.align()===Ur&&(e=e.trim());var r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){var t=this.letterSpacing(),r=e.length;return Ln().measureText(e).width+(r?t*(r-1):0)}_setTextData(){var e=this.text().split(`
`),t=+this.fontSize(),r=0,n=this.lineHeight()*t,a=this.attrs.width,s=this.attrs.height,o=a!==vr&&a!==void 0,l=s!==vr&&s!==void 0,h=this.padding(),d=a-h*2,u=s-h*2,f=0,c=this.wrap(),g=c!==ys,m=c!==Kc&&g,v=this.ellipsis();this.textArr=[],Ln().font=this._getContextFont();for(var w=v?this._getTextWidth(On):0,C=0,p=e.length;C<p;++C){var _=e[C],b=this._getTextWidth(_);if(o&&b>d)for(;_.length>0;){for(var y=0,N=_.length,S="",P=0;y<N;){var A=y+N>>>1,E=_.slice(0,A+1),T=this._getTextWidth(E)+w;T<=d?(y=A+1,S=E,P=T):N=A}if(S){if(m){var G,R=_[S.length],F=R===di||R===_s;F&&P<=d?G=S.length:G=Math.max(S.lastIndexOf(di),S.lastIndexOf(_s))+1,G>0&&(y=G,S=S.slice(0,y),P=this._getTextWidth(S))}S=S.trimRight(),this._addTextLine(S),r=Math.max(r,P),f+=n;var V=this._shouldHandleEllipsis(f);if(V){this._tryToAddEllipsisToLastLine();break}if(_=_.slice(y),_=_.trimLeft(),_.length>0&&(b=this._getTextWidth(_),b<=d)){this._addTextLine(_),f+=n,r=Math.max(r,b);break}}else break}else this._addTextLine(_),f+=n,r=Math.max(r,b),this._shouldHandleEllipsis(f)&&C<p-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&f+n>u)break}this.textHeight=t,this.textWidth=r}_shouldHandleEllipsis(e){var t=+this.fontSize(),r=this.lineHeight()*t,n=this.attrs.height,a=n!==vr&&n!==void 0,s=this.padding(),o=n-s*2,l=this.wrap(),h=l!==ys;return!h||a&&e+r>o}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,t=e!==vr&&e!==void 0,r=this.padding(),n=e-r*2,a=this.ellipsis(),s=this.textArr[this.textArr.length-1];if(!(!s||!a)){if(t){var o=this._getTextWidth(s.text+On)<n;o||(s.text=s.text.slice(0,s.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+On)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,t=this.hasShadow();return e&&t?!0:super._useBufferCanvas()}}nr.Text=He;He.prototype._fillFunc=Jc;He.prototype._strokeFunc=Zc;He.prototype.className=Bc;He.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,xc._registerNode)(He);$e.Factory.overWriteSetter(He,"width",(0,Kt.getNumberOrAutoValidator)());$e.Factory.overWriteSetter(He,"height",(0,Kt.getNumberOrAutoValidator)());$e.Factory.addGetterSetter(He,"direction",Do);$e.Factory.addGetterSetter(He,"fontFamily","Arial");$e.Factory.addGetterSetter(He,"fontSize",12,(0,Kt.getNumberValidator)());$e.Factory.addGetterSetter(He,"fontStyle",Io);$e.Factory.addGetterSetter(He,"fontVariant",Io);$e.Factory.addGetterSetter(He,"padding",0,(0,Kt.getNumberValidator)());$e.Factory.addGetterSetter(He,"align",xo);$e.Factory.addGetterSetter(He,"verticalAlign",Hc);$e.Factory.addGetterSetter(He,"lineHeight",1,(0,Kt.getNumberValidator)());$e.Factory.addGetterSetter(He,"wrap",Xc);$e.Factory.addGetterSetter(He,"ellipsis",!1,(0,Kt.getBooleanValidator)());$e.Factory.addGetterSetter(He,"letterSpacing",0,(0,Kt.getNumberValidator)());$e.Factory.addGetterSetter(He,"text","",(0,Kt.getStringValidator)());$e.Factory.addGetterSetter(He,"textDecoration","");var qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.TextPath=void 0;const Gn=ze,ut=me,eu=Qe,Vr=Gr,Dn=nr,Vo=oe,tu=_e;var ru="",zo="normal";function Bo(i){i.fillText(this.partialText,0,0)}function Ho(i){i.strokeText(this.partialText,0,0)}class Je extends eu.Shape{constructor(e){super(e),this.dummyCanvas=Gn.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Vr.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const t=this.pathLength;return e-1>t?null:Vr.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Vr.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),r=this.fill(),n=this.fontSize(),a=this.glyphInfo;t==="underline"&&e.beginPath();for(var s=0;s<a.length;s++){e.save();var o=a[s].p0;e.translate(o.x,o.y),e.rotate(a[s].rotation),this.partialText=a[s].text,e.fillStrokeShape(this),t==="underline"&&(s===0&&e.moveTo(0,n/2+1),e.lineTo(n,n/2+1)),e.restore()}t==="underline"&&(e.strokeStyle=r,e.lineWidth=n/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var r=t[0].p0;e.moveTo(r.x,r.y)}for(var n=0;n<t.length;n++){var a=t[n].p1;e.lineTo(a.x,a.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Gn.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Dn.Text.prototype.setText.call(this,e)}_getContextFont(){return Dn.Text.prototype._getContextFont.call(this)}_getTextSize(e){var t=this.dummyCanvas,r=t.getContext("2d");r.save(),r.font=this._getContextFont();var n=r.measureText(e);return r.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),n=this.align(),a=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let o=0;n==="center"&&(o=Math.max(0,this.pathLength/2-s/2)),n==="right"&&(o=Math.max(0,this.pathLength-s));const l=(0,Dn.stringToArray)(this.text());let h=o;for(var d=0;d<l.length;d++){const u=this._getPointAtLength(h);if(!u)return;let f=this._getTextSize(l[d]).width+r;if(l[d]===" "&&n==="justify"){const C=this.text().split(" ").length-1;f+=(this.pathLength-s)/C}const c=this._getPointAtLength(h+f);if(!c)return;const g=Vr.Path.getLineLength(u.x,u.y,c.x,c.y);let m=0;if(a)try{m=a(l[d-1],l[d])*this.fontSize()}catch{m=0}u.x+=m,c.x+=m,this.textWidth+=m;const v=Vr.Path.getPointOnLine(m+g/2,u.x,u.y,c.x,c.y),w=Math.atan2(c.y-u.y,c.x-u.x);this.glyphInfo.push({transposeX:v.x,transposeY:v.y,text:l[d],rotation:w,p0:u,p1:c}),h+=f}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(d){e.push(d.p0.x),e.push(d.p0.y),e.push(d.p1.x),e.push(d.p1.y)});for(var t=e[0]||0,r=e[0]||0,n=e[1]||0,a=e[1]||0,s,o,l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],t=Math.min(t,s),r=Math.max(r,s),n=Math.min(n,o),a=Math.max(a,o);var h=this.fontSize();return{x:t-h/2,y:n-h/2,width:r-t+h,height:a-n+h}}destroy(){return Gn.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}qi.TextPath=Je;Je.prototype._fillFunc=Bo;Je.prototype._strokeFunc=Ho;Je.prototype._fillFuncHit=Bo;Je.prototype._strokeFuncHit=Ho;Je.prototype.className="TextPath";Je.prototype._attrsAffectingSize=["text","fontSize","data"];(0,tu._registerNode)(Je);ut.Factory.addGetterSetter(Je,"data");ut.Factory.addGetterSetter(Je,"fontFamily","Arial");ut.Factory.addGetterSetter(Je,"fontSize",12,(0,Vo.getNumberValidator)());ut.Factory.addGetterSetter(Je,"fontStyle",zo);ut.Factory.addGetterSetter(Je,"align","left");ut.Factory.addGetterSetter(Je,"letterSpacing",0,(0,Vo.getNumberValidator)());ut.Factory.addGetterSetter(Je,"textBaseline","middle");ut.Factory.addGetterSetter(Je,"fontVariant",zo);ut.Factory.addGetterSetter(Je,"text",ru);ut.Factory.addGetterSetter(Je,"textDecoration",null);ut.Factory.addGetterSetter(Je,"kerningFunc",null);var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.Transformer=void 0;const Ge=ze,Ae=me,ws=Ve,iu=Qe,nu=ti,ks=Or,dt=_e,qt=oe,au=_e;var Wo="tr-konva",su=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(i=>i+`.${Wo}`).join(" "),Cs="nodesRect",ou=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],lu={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const hu="ontouchstart"in dt.Konva._global;function du(i,e,t){if(i==="rotater")return t;e+=Ge.Util.degToRad(lu[i]||0);var r=(Ge.Util.radToDeg(e)%360+360)%360;return Ge.Util._inRange(r,315+22.5,360)||Ge.Util._inRange(r,0,22.5)?"ns-resize":Ge.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":Ge.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":Ge.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":Ge.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":Ge.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":Ge.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":Ge.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(Ge.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}var yi=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],Ss=1e8;function cu(i){return{x:i.x+i.width/2*Math.cos(i.rotation)+i.height/2*Math.sin(-i.rotation),y:i.y+i.height/2*Math.cos(i.rotation)+i.width/2*Math.sin(i.rotation)}}function jo(i,e,t){const r=t.x+(i.x-t.x)*Math.cos(e)-(i.y-t.y)*Math.sin(e),n=t.y+(i.x-t.x)*Math.sin(e)+(i.y-t.y)*Math.cos(e);return{...i,rotation:i.rotation+e,x:r,y:n}}function uu(i,e){const t=cu(i);return jo(i,e,t)}function fu(i,e,t){let r=e;for(let n=0;n<i.length;n++){const a=dt.Konva.getAngle(i[n]),s=Math.abs(a-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<t&&(r=a)}return r}class Pe extends ks.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(su,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Ge.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Wo+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const t=e.filter(n=>n.isAncestorOf(this)?(Ge.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=e=t,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(n=>{const a=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=n._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");n.on(s,a),n.on(ou.map(o=>o+`.${this._getEventNamespace()}`).join(" "),a),n.on(`absoluteTransformChange.${this._getEventNamespace()}`,a),this._proxyDrag(n)}),this._resetTransformCache();var r=!!this.findOne(".top-left");return r&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,r=>{t=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!t)return;const n=e.getAbsolutePosition(),a=n.x-t.x,s=n.y-t.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+a,y:l.y+s}),o.startDrag(r)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Cs),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Cs,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),r){var n=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=e.getAbsoluteScale(r),s=e.getAbsolutePosition(r),o=n.x*a.x-e.offsetX()*a.x,l=n.y*a.y-e.offsetY()*a.y;const h=(dt.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:s.x+o*Math.cos(h)+l*Math.sin(-h),y:s.y+l*Math.cos(h)+o*Math.sin(h),width:n.width*a.x,height:n.height*a.y,rotation:h};return jo(d,-dt.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-Ss,y:-Ss,width:0,height:0,rotation:0};const t=[];this.nodes().map(h=>{const d=h.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var u=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],f=h.getAbsoluteTransform();u.forEach(function(c){var g=f.point(c);t.push(g)})});const r=new Ge.Transform;r.rotate(-dt.Konva.getAngle(this.rotation()));var n=1/0,a=1/0,s=-1/0,o=-1/0;t.forEach(function(h){var d=r.point(h);n===void 0&&(n=s=d.x,a=o=d.y),n=Math.min(n,d.x),a=Math.min(a,d.y),s=Math.max(s,d.x),o=Math.max(o,d.y)}),r.invert();const l=r.point({x:n,y:a});return{x:l.x,y:l.y,width:s-n,height:o-a,rotation:dt.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),yi.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){var t=new nu.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:hu?10:"auto"}),r=this;t.on("mousedown touchstart",function(n){r._handleMouseDown(n)}),t.on("dragstart",n=>{t.stopDrag(),n.cancelBubble=!0}),t.on("dragend",n=>{n.cancelBubble=!0}),t.on("mouseenter",()=>{var n=dt.Konva.getAngle(this.rotation()),a=this.rotateAnchorCursor(),s=du(e,n,a);t.getStage().content&&(t.getStage().content.style.cursor=s),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){var e=new iu.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t,r){var n=r.getParent(),a=n.padding();t.beginPath(),t.rect(-a,-a,r.width()+a*2,r.height()+a*2),t.moveTo(r.width()/2,-a),n.rotateEnabled()&&n.rotateLineVisible()&&t.lineTo(r.width()/2,-n.rotateAnchorOffset()*Ge.Util._sign(r.height())-a),t.fillStrokeShape(r)},hitFunc:(t,r)=>{if(this.shouldOverdrawWholeArea()){var n=this.padding();t.beginPath(),t.rect(-n,-n,r.width()+n*2,r.height()+n*2),t.fillStrokeShape(r)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",t=>{t.cancelBubble=!0}),e.on("dragmove",t=>{t.cancelBubble=!0}),e.on("dragend",t=>{t.cancelBubble=!0}),this.on("dragmove",t=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var t=this._getNodeRect(),r=t.width,n=t.height,a=Math.sqrt(Math.pow(r,2)+Math.pow(n,2));this.sin=Math.abs(n/a),this.cos=Math.abs(r/a),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var s=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-s.x,y:o.y-s.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){var t,r,n,a=this.findOne("."+this._movingAnchorName),s=a.getStage();s.setPointersPositions(e);const o=s.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const h=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(h,l,e)),a.setAbsolutePosition(l);const d=a.getAbsolutePosition();if(!(h.x===d.x&&h.y===d.y)){if(this._movingAnchorName==="rotater"){var u=this._getNodeRect();t=a.x()-u.width/2,r=-a.y()+u.height/2;let G=Math.atan2(-r,t)+Math.PI/2;u.height<0&&(G-=Math.PI);var f=dt.Konva.getAngle(this.rotation());const R=f+G,F=dt.Konva.getAngle(this.rotationSnapTolerance()),j=fu(this.rotationSnaps(),R,F)-u.rotation,ne=uu(u,j);this._fitNodesInto(ne,e);return}var c=this.shiftBehavior(),g;c==="inverted"?g=this.keepRatio()&&!e.shiftKey:c==="none"?g=this.keepRatio():g=this.keepRatio()||e.shiftKey;var p=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(g){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};n=Math.sqrt(Math.pow(m.x-a.x(),2)+Math.pow(m.y-a.y(),2));var v=this.findOne(".top-left").x()>m.x?-1:1,w=this.findOne(".top-left").y()>m.y?-1:1;t=n*this.cos*v,r=n*this.sin*w,this.findOne(".top-left").x(m.x-t),this.findOne(".top-left").y(m.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(a.y());else if(this._movingAnchorName==="top-right"){if(g){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};n=Math.sqrt(Math.pow(a.x()-m.x,2)+Math.pow(m.y-a.y(),2));var v=this.findOne(".top-right").x()<m.x?-1:1,w=this.findOne(".top-right").y()>m.y?-1:1;t=n*this.cos*v,r=n*this.sin*w,this.findOne(".top-right").x(m.x+t),this.findOne(".top-right").y(m.y-r)}var C=a.position();this.findOne(".top-left").y(C.y),this.findOne(".bottom-right").x(C.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(a.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(a.x());else if(this._movingAnchorName==="bottom-left"){if(g){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};n=Math.sqrt(Math.pow(m.x-a.x(),2)+Math.pow(a.y()-m.y,2));var v=m.x<a.x()?-1:1,w=a.y()<m.y?-1:1;t=n*this.cos*v,r=n*this.sin*w,a.x(m.x-t),a.y(m.y+r)}C=a.position(),this.findOne(".top-left").x(C.x),this.findOne(".bottom-right").y(C.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(a.y());else if(this._movingAnchorName==="bottom-right"){if(g){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};n=Math.sqrt(Math.pow(a.x()-m.x,2)+Math.pow(a.y()-m.y,2));var v=this.findOne(".bottom-right").x()<m.x?-1:1,w=this.findOne(".bottom-right").y()<m.y?-1:1;t=n*this.cos*v,r=n*this.sin*w,this.findOne(".bottom-right").x(m.x+t),this.findOne(".bottom-right").y(m.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var p=this.centeredScaling()||e.altKey;if(p){var _=this.findOne(".top-left"),b=this.findOne(".bottom-right"),y=_.x(),N=_.y(),S=this.getWidth()-b.x(),P=this.getHeight()-b.y();b.move({x:-y,y:-N}),_.move({x:S,y:P})}var A=this.findOne(".top-left").getAbsolutePosition();t=A.x,r=A.y;var E=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),T=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:r,width:E,height:T,rotation:dt.Konva.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var t=this.getNode();this._fire("transformend",{evt:e,target:t}),t&&this._nodes.forEach(r=>{r._fire("transformend",{evt:e,target:r})}),this._movingAnchorName=null}}_fitNodesInto(e,t){var r=this._getNodeRect();const n=1;if(Ge.Util._inRange(e.width,-this.padding()*2-n,n)){this.update();return}if(Ge.Util._inRange(e.height,-this.padding()*2-n,n)){this.update();return}var a=new Ge.Transform;if(a.rotate(dt.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const f=a.point({x:-this.padding()*2,y:0});e.x+=f.x,e.y+=f.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const f=a.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const f=a.point({x:0,y:-this.padding()*2});e.x+=f.x,e.y+=f.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const f=a.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const f=this.boundBoxFunc()(r,e);f?e=f:Ge.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,o=new Ge.Transform;o.translate(r.x,r.y),o.rotate(r.rotation),o.scale(r.width/s,r.height/s);const l=new Ge.Transform,h=e.width/s,d=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(h),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(h,d));const u=l.multiply(o.invert());this._nodes.forEach(f=>{var c;const g=f.getParent().getAbsoluteTransform(),m=f.getTransform().copy();m.translate(f.offsetX(),f.offsetY());const v=new Ge.Transform;v.multiply(g.copy().invert()).multiply(u).multiply(g).multiply(m);const w=v.decompose();f.setAttrs(w),this._fire("transform",{evt:t,target:f}),f._fire("transform",{evt:t,target:f}),(c=f.getLayer())===null||c===void 0||c.batchDraw()}),this.rotation(Ge.Util._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e,t=this._getNodeRect();this.rotation(Ge.Util._getRotation(t.rotation));var r=t.width,n=t.height,a=this.enabledAnchors(),s=this.resizeEnabled(),o=this.padding(),l=this.anchorSize();const h=this.find("._anchor");h.forEach(u=>{u.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:s&&a.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+o,visible:s&&a.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:s&&a.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:n/2,offsetX:l/2+o,visible:s&&a.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:n/2,offsetX:l/2-o,visible:s&&a.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:n,offsetX:l/2+o,offsetY:l/2-o,visible:s&&a.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:n,offsetY:l/2-o,visible:s&&a.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:n,offsetX:l/2-o,offsetY:l/2-o,visible:s&&a.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*Ge.Util._sign(n)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:n,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const d=this.anchorStyleFunc();d&&h.forEach(u=>{d(u)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),ks.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return ws.Node.prototype.toObject.call(this)}clone(e){var t=ws.Node.prototype.clone.call(this,e);return t}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Qi.Transformer=Pe;function gu(i){return i instanceof Array||Ge.Util.warn("enabledAnchors value should be an array"),i instanceof Array&&i.forEach(function(e){yi.indexOf(e)===-1&&Ge.Util.warn("Unknown anchor name: "+e+". Available names are: "+yi.join(", "))}),i||[]}Pe.prototype.className="Transformer";(0,au._registerNode)(Pe);Ae.Factory.addGetterSetter(Pe,"enabledAnchors",yi,gu);Ae.Factory.addGetterSetter(Pe,"flipEnabled",!0,(0,qt.getBooleanValidator)());Ae.Factory.addGetterSetter(Pe,"resizeEnabled",!0);Ae.Factory.addGetterSetter(Pe,"anchorSize",10,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"rotateEnabled",!0);Ae.Factory.addGetterSetter(Pe,"rotateLineVisible",!0);Ae.Factory.addGetterSetter(Pe,"rotationSnaps",[]);Ae.Factory.addGetterSetter(Pe,"rotateAnchorOffset",50,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"rotateAnchorCursor","crosshair");Ae.Factory.addGetterSetter(Pe,"rotationSnapTolerance",5,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"borderEnabled",!0);Ae.Factory.addGetterSetter(Pe,"anchorStroke","rgb(0, 161, 255)");Ae.Factory.addGetterSetter(Pe,"anchorStrokeWidth",1,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"anchorFill","white");Ae.Factory.addGetterSetter(Pe,"anchorCornerRadius",0,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"borderStroke","rgb(0, 161, 255)");Ae.Factory.addGetterSetter(Pe,"borderStrokeWidth",1,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"borderDash");Ae.Factory.addGetterSetter(Pe,"keepRatio",!0);Ae.Factory.addGetterSetter(Pe,"shiftBehavior","default");Ae.Factory.addGetterSetter(Pe,"centeredScaling",!1);Ae.Factory.addGetterSetter(Pe,"ignoreStroke",!1);Ae.Factory.addGetterSetter(Pe,"padding",0,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"node");Ae.Factory.addGetterSetter(Pe,"nodes");Ae.Factory.addGetterSetter(Pe,"boundBoxFunc");Ae.Factory.addGetterSetter(Pe,"anchorDragBoundFunc");Ae.Factory.addGetterSetter(Pe,"anchorStyleFunc");Ae.Factory.addGetterSetter(Pe,"shouldOverdrawWholeArea",!1);Ae.Factory.addGetterSetter(Pe,"useSingleNodeRotation",!0);Ae.Factory.backCompat(Pe,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.Wedge=void 0;const Zi=me,mu=Qe,pu=_e,Yo=oe,_u=_e;class Dt extends mu.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,pu.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Ji.Wedge=Dt;Dt.prototype.className="Wedge";Dt.prototype._centroid=!0;Dt.prototype._attrsAffectingSize=["radius"];(0,_u._registerNode)(Dt);Zi.Factory.addGetterSetter(Dt,"radius",0,(0,Yo.getNumberValidator)());Zi.Factory.addGetterSetter(Dt,"angle",0,(0,Yo.getNumberValidator)());Zi.Factory.addGetterSetter(Dt,"clockwise",!1);Zi.Factory.backCompat(Dt,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.Blur=void 0;const Ps=me,vu=Ve,bu=oe;function Es(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var yu=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],wu=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function ku(i,e){var t=i.data,r=i.width,n=i.height,a,s,o,l,h,d,u,f,c,g,m,v,w,C,p,_,b,y,N,S,P,A,E,T,G=e+e+1,R=r-1,F=n-1,V=e+1,j=V*(V+1)/2,ne=new Es,H=null,W=ne,K=null,le=null,Y=yu[e],z=wu[e];for(o=1;o<G;o++)W=W.next=new Es,o===V&&(H=W);for(W.next=ne,u=d=0,s=0;s<n;s++){for(_=b=y=N=f=c=g=m=0,v=V*(S=t[d]),w=V*(P=t[d+1]),C=V*(A=t[d+2]),p=V*(E=t[d+3]),f+=j*S,c+=j*P,g+=j*A,m+=j*E,W=ne,o=0;o<V;o++)W.r=S,W.g=P,W.b=A,W.a=E,W=W.next;for(o=1;o<V;o++)l=d+((R<o?R:o)<<2),f+=(W.r=S=t[l])*(T=V-o),c+=(W.g=P=t[l+1])*T,g+=(W.b=A=t[l+2])*T,m+=(W.a=E=t[l+3])*T,_+=S,b+=P,y+=A,N+=E,W=W.next;for(K=ne,le=H,a=0;a<r;a++)t[d+3]=E=m*Y>>z,E!==0?(E=255/E,t[d]=(f*Y>>z)*E,t[d+1]=(c*Y>>z)*E,t[d+2]=(g*Y>>z)*E):t[d]=t[d+1]=t[d+2]=0,f-=v,c-=w,g-=C,m-=p,v-=K.r,w-=K.g,C-=K.b,p-=K.a,l=u+((l=a+e+1)<R?l:R)<<2,_+=K.r=t[l],b+=K.g=t[l+1],y+=K.b=t[l+2],N+=K.a=t[l+3],f+=_,c+=b,g+=y,m+=N,K=K.next,v+=S=le.r,w+=P=le.g,C+=A=le.b,p+=E=le.a,_-=S,b-=P,y-=A,N-=E,le=le.next,d+=4;u+=r}for(a=0;a<r;a++){for(b=y=N=_=c=g=m=f=0,d=a<<2,v=V*(S=t[d]),w=V*(P=t[d+1]),C=V*(A=t[d+2]),p=V*(E=t[d+3]),f+=j*S,c+=j*P,g+=j*A,m+=j*E,W=ne,o=0;o<V;o++)W.r=S,W.g=P,W.b=A,W.a=E,W=W.next;for(h=r,o=1;o<=e;o++)d=h+a<<2,f+=(W.r=S=t[d])*(T=V-o),c+=(W.g=P=t[d+1])*T,g+=(W.b=A=t[d+2])*T,m+=(W.a=E=t[d+3])*T,_+=S,b+=P,y+=A,N+=E,W=W.next,o<F&&(h+=r);for(d=a,K=ne,le=H,s=0;s<n;s++)l=d<<2,t[l+3]=E=m*Y>>z,E>0?(E=255/E,t[l]=(f*Y>>z)*E,t[l+1]=(c*Y>>z)*E,t[l+2]=(g*Y>>z)*E):t[l]=t[l+1]=t[l+2]=0,f-=v,c-=w,g-=C,m-=p,v-=K.r,w-=K.g,C-=K.b,p-=K.a,l=a+((l=s+V)<F?l:F)*r<<2,f+=_+=K.r=t[l],c+=b+=K.g=t[l+1],g+=y+=K.b=t[l+2],m+=N+=K.a=t[l+3],K=K.next,v+=S=le.r,w+=P=le.g,C+=A=le.b,p+=E=le.a,_-=S,b-=P,y-=A,N-=E,le=le.next,d+=r}}const Cu=function(e){var t=Math.round(this.blurRadius());t>0&&ku(e,t)};$i.Blur=Cu;Ps.Factory.addGetterSetter(vu.Node,"blurRadius",0,(0,bu.getNumberValidator)(),Ps.Factory.afterSetFilter);var en={};Object.defineProperty(en,"__esModule",{value:!0});en.Brighten=void 0;const Ts=me,Su=Ve,Pu=oe,Eu=function(i){var e=this.brightness()*255,t=i.data,r=t.length,n;for(n=0;n<r;n+=4)t[n]+=e,t[n+1]+=e,t[n+2]+=e};en.Brighten=Eu;Ts.Factory.addGetterSetter(Su.Node,"brightness",0,(0,Pu.getNumberValidator)(),Ts.Factory.afterSetFilter);var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.Contrast=void 0;const As=me,Tu=Ve,Au=oe,Ru=function(i){var e=Math.pow((this.contrast()+100)/100,2),t=i.data,r=t.length,n=150,a=150,s=150,o;for(o=0;o<r;o+=4)n=t[o],a=t[o+1],s=t[o+2],n/=255,n-=.5,n*=e,n+=.5,n*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,n=n<0?0:n>255?255:n,a=a<0?0:a>255?255:a,s=s<0?0:s>255?255:s,t[o]=n,t[o+1]=a,t[o+2]=s};tn.Contrast=Ru;As.Factory.addGetterSetter(Tu.Node,"contrast",0,(0,Au.getNumberValidator)(),As.Factory.afterSetFilter);var rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.Emboss=void 0;const Ht=me,nn=Ve,Mu=ze,Xo=oe,Fu=function(i){var e=this.embossStrength()*10,t=this.embossWhiteLevel()*255,r=this.embossDirection(),n=this.embossBlend(),a=0,s=0,o=i.data,l=i.width,h=i.height,d=l*4,u=h;switch(r){case"top-left":a=-1,s=-1;break;case"top":a=-1,s=0;break;case"top-right":a=-1,s=1;break;case"right":a=0,s=1;break;case"bottom-right":a=1,s=1;break;case"bottom":a=1,s=0;break;case"bottom-left":a=1,s=-1;break;case"left":a=0,s=-1;break;default:Mu.Util.error("Unknown emboss direction: "+r)}do{var f=(u-1)*d,c=a;u+c<1&&(c=0),u+c>h&&(c=0);var g=(u-1+c)*l*4,m=l;do{var v=f+(m-1)*4,w=s;m+w<1&&(w=0),m+w>l&&(w=0);var C=g+(m-1+w)*4,p=o[v]-o[C],_=o[v+1]-o[C+1],b=o[v+2]-o[C+2],y=p,N=y>0?y:-y,S=_>0?_:-_,P=b>0?b:-b;if(S>N&&(y=_),P>N&&(y=b),y*=e,n){var A=o[v]+y,E=o[v+1]+y,T=o[v+2]+y;o[v]=A>255?255:A<0?0:A,o[v+1]=E>255?255:E<0?0:E,o[v+2]=T>255?255:T<0?0:T}else{var G=t-y;G<0?G=0:G>255&&(G=255),o[v]=o[v+1]=o[v+2]=G}}while(--m)}while(--u)};rn.Emboss=Fu;Ht.Factory.addGetterSetter(nn.Node,"embossStrength",.5,(0,Xo.getNumberValidator)(),Ht.Factory.afterSetFilter);Ht.Factory.addGetterSetter(nn.Node,"embossWhiteLevel",.5,(0,Xo.getNumberValidator)(),Ht.Factory.afterSetFilter);Ht.Factory.addGetterSetter(nn.Node,"embossDirection","top-left",null,Ht.Factory.afterSetFilter);Ht.Factory.addGetterSetter(nn.Node,"embossBlend",!1,null,Ht.Factory.afterSetFilter);var an={};Object.defineProperty(an,"__esModule",{value:!0});an.Enhance=void 0;const Rs=me,Nu=Ve,Ou=oe;function xn(i,e,t,r,n){var a=t-e,s=n-r,o;return a===0?r+s/2:s===0?r:(o=(i-e)/a,o=s*o+r,o)}const Lu=function(i){var e=i.data,t=e.length,r=e[0],n=r,a,s=e[1],o=s,l,h=e[2],d=h,u,f,c=this.enhance();if(c!==0){for(f=0;f<t;f+=4)a=e[f+0],a<r?r=a:a>n&&(n=a),l=e[f+1],l<s?s=l:l>o&&(o=l),u=e[f+2],u<h?h=u:u>d&&(d=u);n===r&&(n=255,r=0),o===s&&(o=255,s=0),d===h&&(d=255,h=0);var g,m,v,w,C,p,_,b,y;for(c>0?(m=n+c*(255-n),v=r-c*(r-0),C=o+c*(255-o),p=s-c*(s-0),b=d+c*(255-d),y=h-c*(h-0)):(g=(n+r)*.5,m=n+c*(n-g),v=r+c*(r-g),w=(o+s)*.5,C=o+c*(o-w),p=s+c*(s-w),_=(d+h)*.5,b=d+c*(d-_),y=h+c*(h-_)),f=0;f<t;f+=4)e[f+0]=xn(e[f+0],r,n,v,m),e[f+1]=xn(e[f+1],s,o,p,C),e[f+2]=xn(e[f+2],h,d,y,b)}};an.Enhance=Lu;Rs.Factory.addGetterSetter(Nu.Node,"enhance",0,(0,Ou.getNumberValidator)(),Rs.Factory.afterSetFilter);var sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.Grayscale=void 0;const Gu=function(i){var e=i.data,t=e.length,r,n;for(r=0;r<t;r+=4)n=.34*e[r]+.5*e[r+1]+.16*e[r+2],e[r]=n,e[r+1]=n,e[r+2]=n};sn.Grayscale=Gu;var on={};Object.defineProperty(on,"__esModule",{value:!0});on.HSL=void 0;const Er=me,ga=Ve,ma=oe;Er.Factory.addGetterSetter(ga.Node,"hue",0,(0,ma.getNumberValidator)(),Er.Factory.afterSetFilter);Er.Factory.addGetterSetter(ga.Node,"saturation",0,(0,ma.getNumberValidator)(),Er.Factory.afterSetFilter);Er.Factory.addGetterSetter(ga.Node,"luminance",0,(0,ma.getNumberValidator)(),Er.Factory.afterSetFilter);const Du=function(i){var e=i.data,t=e.length,r=1,n=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,s=this.luminance()*127,o,l=r*n*Math.cos(a*Math.PI/180),h=r*n*Math.sin(a*Math.PI/180),d=.299*r+.701*l+.167*h,u=.587*r-.587*l+.33*h,f=.114*r-.114*l-.497*h,c=.299*r-.299*l-.328*h,g=.587*r+.413*l+.035*h,m=.114*r-.114*l+.293*h,v=.299*r-.3*l+1.25*h,w=.587*r-.586*l-1.05*h,C=.114*r+.886*l-.2*h,p,_,b,y;for(o=0;o<t;o+=4)p=e[o+0],_=e[o+1],b=e[o+2],y=e[o+3],e[o+0]=d*p+u*_+f*b+s,e[o+1]=c*p+g*_+m*b+s,e[o+2]=v*p+w*_+C*b+s,e[o+3]=y};on.HSL=Du;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.HSV=void 0;const Tr=me,pa=Ve,_a=oe,xu=function(i){var e=i.data,t=e.length,r=Math.pow(2,this.value()),n=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,s,o=r*n*Math.cos(a*Math.PI/180),l=r*n*Math.sin(a*Math.PI/180),h=.299*r+.701*o+.167*l,d=.587*r-.587*o+.33*l,u=.114*r-.114*o-.497*l,f=.299*r-.299*o-.328*l,c=.587*r+.413*o+.035*l,g=.114*r-.114*o+.293*l,m=.299*r-.3*o+1.25*l,v=.587*r-.586*o-1.05*l,w=.114*r+.886*o-.2*l,C,p,_,b;for(s=0;s<t;s+=4)C=e[s+0],p=e[s+1],_=e[s+2],b=e[s+3],e[s+0]=h*C+d*p+u*_,e[s+1]=f*C+c*p+g*_,e[s+2]=m*C+v*p+w*_,e[s+3]=b};ln.HSV=xu;Tr.Factory.addGetterSetter(pa.Node,"hue",0,(0,_a.getNumberValidator)(),Tr.Factory.afterSetFilter);Tr.Factory.addGetterSetter(pa.Node,"saturation",0,(0,_a.getNumberValidator)(),Tr.Factory.afterSetFilter);Tr.Factory.addGetterSetter(pa.Node,"value",0,(0,_a.getNumberValidator)(),Tr.Factory.afterSetFilter);var hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.Invert=void 0;const Iu=function(i){var e=i.data,t=e.length,r;for(r=0;r<t;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};hn.Invert=Iu;var dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.Kaleidoscope=void 0;const wi=me,Ko=Ve,Ms=ze,qo=oe;var Uu=function(i,e,t){var r=i.data,n=e.data,a=i.width,s=i.height,o=t.polarCenterX||a/2,l=t.polarCenterY||s/2,h,d,u,f=0,c=0,g=0,m=0,v,w=Math.sqrt(o*o+l*l);d=a-o,u=s-l,v=Math.sqrt(d*d+u*u),w=v>w?v:w;var C=s,p=a,_,b,y=360/p*Math.PI/180,N,S;for(b=0;b<p;b+=1)for(N=Math.sin(b*y),S=Math.cos(b*y),_=0;_<C;_+=1)d=Math.floor(o+w*_/C*S),u=Math.floor(l+w*_/C*N),h=(u*a+d)*4,f=r[h+0],c=r[h+1],g=r[h+2],m=r[h+3],h=(b+_*a)*4,n[h+0]=f,n[h+1]=c,n[h+2]=g,n[h+3]=m},Vu=function(i,e,t){var r=i.data,n=e.data,a=i.width,s=i.height,o=t.polarCenterX||a/2,l=t.polarCenterY||s/2,h,d,u,f,c,g=0,m=0,v=0,w=0,C,p=Math.sqrt(o*o+l*l);d=a-o,u=s-l,C=Math.sqrt(d*d+u*u),p=C>p?C:p;var _=s,b=a,y,N,S=t.polarRotation||0,P,A;for(d=0;d<a;d+=1)for(u=0;u<s;u+=1)f=d-o,c=u-l,y=Math.sqrt(f*f+c*c)*_/p,N=(Math.atan2(c,f)*180/Math.PI+360+S)%360,N=N*b/360,P=Math.floor(N),A=Math.floor(y),h=(A*a+P)*4,g=r[h+0],m=r[h+1],v=r[h+2],w=r[h+3],h=(u*a+d)*4,n[h+0]=g,n[h+1]=m,n[h+2]=v,n[h+3]=w};const zu=function(i){var e=i.width,t=i.height,r,n,a,s,o,l,h,d,u,f,c=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),m=Math.floor(e*(g%360)/360);if(!(c<1)){var v=Ms.Util.createCanvasElement();v.width=e,v.height=t;var w=v.getContext("2d").getImageData(0,0,e,t);Ms.Util.releaseCanvas(v),Uu(i,w,{polarCenterX:e/2,polarCenterY:t/2});for(var C=e/Math.pow(2,c);C<=8;)C=C*2,c-=1;C=Math.ceil(C);var p=C,_=0,b=p,y=1;for(m+C>e&&(_=p,b=0,y=-1),n=0;n<t;n+=1)for(r=_;r!==b;r+=y)a=Math.round(r+m)%e,u=(e*n+a)*4,o=w.data[u+0],l=w.data[u+1],h=w.data[u+2],d=w.data[u+3],f=(e*n+r)*4,w.data[f+0]=o,w.data[f+1]=l,w.data[f+2]=h,w.data[f+3]=d;for(n=0;n<t;n+=1)for(p=Math.floor(C),s=0;s<c;s+=1){for(r=0;r<p+1;r+=1)u=(e*n+r)*4,o=w.data[u+0],l=w.data[u+1],h=w.data[u+2],d=w.data[u+3],f=(e*n+p*2-r-1)*4,w.data[f+0]=o,w.data[f+1]=l,w.data[f+2]=h,w.data[f+3]=d;p*=2}Vu(w,i,{polarRotation:0})}};dn.Kaleidoscope=zu;wi.Factory.addGetterSetter(Ko.Node,"kaleidoscopePower",2,(0,qo.getNumberValidator)(),wi.Factory.afterSetFilter);wi.Factory.addGetterSetter(Ko.Node,"kaleidoscopeAngle",0,(0,qo.getNumberValidator)(),wi.Factory.afterSetFilter);var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.Mask=void 0;const Fs=me,Bu=Ve,Hu=oe;function ui(i,e,t){var r=(t*i.width+e)*4,n=[];return n.push(i.data[r++],i.data[r++],i.data[r++],i.data[r++]),n}function zr(i,e){return Math.sqrt(Math.pow(i[0]-e[0],2)+Math.pow(i[1]-e[1],2)+Math.pow(i[2]-e[2],2))}function Wu(i){for(var e=[0,0,0],t=0;t<i.length;t++)e[0]+=i[t][0],e[1]+=i[t][1],e[2]+=i[t][2];return e[0]/=i.length,e[1]/=i.length,e[2]/=i.length,e}function ju(i,e){var t=ui(i,0,0),r=ui(i,i.width-1,0),n=ui(i,0,i.height-1),a=ui(i,i.width-1,i.height-1),s=e||10;if(zr(t,r)<s&&zr(r,a)<s&&zr(a,n)<s&&zr(n,t)<s){for(var o=Wu([r,t,a,n]),l=[],h=0;h<i.width*i.height;h++){var d=zr(o,[i.data[h*4],i.data[h*4+1],i.data[h*4+2]]);l[h]=d<s?0:255}return l}}function Yu(i,e){for(var t=0;t<i.width*i.height;t++)i.data[4*t+3]=e[t]}function Xu(i,e,t){for(var r=[1,1,1,1,0,1,1,1,1],n=Math.round(Math.sqrt(r.length)),a=Math.floor(n/2),s=[],o=0;o<t;o++)for(var l=0;l<e;l++){for(var h=o*e+l,d=0,u=0;u<n;u++)for(var f=0;f<n;f++){var c=o+u-a,g=l+f-a;if(c>=0&&c<t&&g>=0&&g<e){var m=c*e+g,v=r[u*n+f];d+=i[m]*v}}s[h]=d===255*8?255:0}return s}function Ku(i,e,t){for(var r=[1,1,1,1,1,1,1,1,1],n=Math.round(Math.sqrt(r.length)),a=Math.floor(n/2),s=[],o=0;o<t;o++)for(var l=0;l<e;l++){for(var h=o*e+l,d=0,u=0;u<n;u++)for(var f=0;f<n;f++){var c=o+u-a,g=l+f-a;if(c>=0&&c<t&&g>=0&&g<e){var m=c*e+g,v=r[u*n+f];d+=i[m]*v}}s[h]=d>=255*4?255:0}return s}function qu(i,e,t){for(var r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],n=Math.round(Math.sqrt(r.length)),a=Math.floor(n/2),s=[],o=0;o<t;o++)for(var l=0;l<e;l++){for(var h=o*e+l,d=0,u=0;u<n;u++)for(var f=0;f<n;f++){var c=o+u-a,g=l+f-a;if(c>=0&&c<t&&g>=0&&g<e){var m=c*e+g,v=r[u*n+f];d+=i[m]*v}}s[h]=d}return s}const Qu=function(i){var e=this.threshold(),t=ju(i,e);return t&&(t=Xu(t,i.width,i.height),t=Ku(t,i.width,i.height),t=qu(t,i.width,i.height),Yu(i,t)),i};cn.Mask=Qu;Fs.Factory.addGetterSetter(Bu.Node,"threshold",0,(0,Hu.getNumberValidator)(),Fs.Factory.afterSetFilter);var un={};Object.defineProperty(un,"__esModule",{value:!0});un.Noise=void 0;const Ns=me,Ju=Ve,Zu=oe,$u=function(i){var e=this.noise()*255,t=i.data,r=t.length,n=e/2,a;for(a=0;a<r;a+=4)t[a+0]+=n-2*n*Math.random(),t[a+1]+=n-2*n*Math.random(),t[a+2]+=n-2*n*Math.random()};un.Noise=$u;Ns.Factory.addGetterSetter(Ju.Node,"noise",.2,(0,Zu.getNumberValidator)(),Ns.Factory.afterSetFilter);var fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.Pixelate=void 0;const Os=me,ef=ze,tf=Ve,rf=oe,nf=function(i){var e=Math.ceil(this.pixelSize()),t=i.width,r=i.height,n,a,s,o,l,h,d,u=Math.ceil(t/e),f=Math.ceil(r/e),c,g,m,v,w,C,p,_=i.data;if(e<=0){ef.Util.error("pixelSize value can not be <= 0");return}for(w=0;w<u;w+=1)for(C=0;C<f;C+=1){for(o=0,l=0,h=0,d=0,c=w*e,g=c+e,m=C*e,v=m+e,p=0,n=c;n<g;n+=1)if(!(n>=t))for(a=m;a<v;a+=1)a>=r||(s=(t*a+n)*4,o+=_[s+0],l+=_[s+1],h+=_[s+2],d+=_[s+3],p+=1);for(o=o/p,l=l/p,h=h/p,d=d/p,n=c;n<g;n+=1)if(!(n>=t))for(a=m;a<v;a+=1)a>=r||(s=(t*a+n)*4,_[s+0]=o,_[s+1]=l,_[s+2]=h,_[s+3]=d)}};fn.Pixelate=nf;Os.Factory.addGetterSetter(tf.Node,"pixelSize",8,(0,rf.getNumberValidator)(),Os.Factory.afterSetFilter);var gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.Posterize=void 0;const Ls=me,af=Ve,sf=oe,of=function(i){var e=Math.round(this.levels()*254)+1,t=i.data,r=t.length,n=255/e,a;for(a=0;a<r;a+=1)t[a]=Math.floor(t[a]/n)*n};gn.Posterize=of;Ls.Factory.addGetterSetter(af.Node,"levels",.5,(0,sf.getNumberValidator)(),Ls.Factory.afterSetFilter);var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.RGB=void 0;const ki=me,va=Ve,lf=oe,hf=function(i){var e=i.data,t=e.length,r=this.red(),n=this.green(),a=this.blue(),s,o;for(s=0;s<t;s+=4)o=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255,e[s]=o*r,e[s+1]=o*n,e[s+2]=o*a,e[s+3]=e[s+3]};mn.RGB=hf;ki.Factory.addGetterSetter(va.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)});ki.Factory.addGetterSetter(va.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)});ki.Factory.addGetterSetter(va.Node,"blue",0,lf.RGBComponent,ki.Factory.afterSetFilter);var pn={};Object.defineProperty(pn,"__esModule",{value:!0});pn.RGBA=void 0;const jr=me,_n=Ve,df=oe,cf=function(i){var e=i.data,t=e.length,r=this.red(),n=this.green(),a=this.blue(),s=this.alpha(),o,l;for(o=0;o<t;o+=4)l=1-s,e[o]=r*s+e[o]*l,e[o+1]=n*s+e[o+1]*l,e[o+2]=a*s+e[o+2]*l};pn.RGBA=cf;jr.Factory.addGetterSetter(_n.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)});jr.Factory.addGetterSetter(_n.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)});jr.Factory.addGetterSetter(_n.Node,"blue",0,df.RGBComponent,jr.Factory.afterSetFilter);jr.Factory.addGetterSetter(_n.Node,"alpha",1,function(i){return this._filterUpToDate=!1,i>1?1:i<0?0:i});var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.Sepia=void 0;const uf=function(i){var e=i.data,t=e.length,r,n,a,s;for(r=0;r<t;r+=4)n=e[r+0],a=e[r+1],s=e[r+2],e[r+0]=Math.min(255,n*.393+a*.769+s*.189),e[r+1]=Math.min(255,n*.349+a*.686+s*.168),e[r+2]=Math.min(255,n*.272+a*.534+s*.131)};vn.Sepia=uf;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.Solarize=void 0;const ff=function(i){var e=i.data,t=i.width,r=i.height,n=t*4,a=r;do{var s=(a-1)*n,o=t;do{var l=s+(o-1)*4,h=e[l],d=e[l+1],u=e[l+2];h>127&&(h=255-h),d>127&&(d=255-d),u>127&&(u=255-u),e[l]=h,e[l+1]=d,e[l+2]=u}while(--o)}while(--a)};bn.Solarize=ff;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});yn.Threshold=void 0;const Gs=me,gf=Ve,mf=oe,pf=function(i){var e=this.threshold()*255,t=i.data,r=t.length,n;for(n=0;n<r;n+=1)t[n]=t[n]<e?0:255};yn.Threshold=pf;Gs.Factory.addGetterSetter(gf.Node,"threshold",.5,(0,mf.getNumberValidator)(),Gs.Factory.afterSetFilter);Object.defineProperty(Ai,"__esModule",{value:!0});Ai.Konva=void 0;const Ds=go,_f=Li,vf=xi,bf=Vi,yf=zi,wf=Bi,xs=Pr,kf=$r,Cf=Gr,Sf=ti,Pf=ji,Ef=Yi,Tf=Xi,Af=Ki,Rf=nr,Mf=qi,Ff=Qi,Nf=Ji,Of=$i,Lf=en,Gf=tn,Df=rn,xf=an,If=sn,Uf=on,Vf=ln,zf=hn,Bf=dn,Hf=cn,Wf=un,jf=fn,Yf=gn,Xf=mn,Kf=pn,qf=vn,Qf=bn,Jf=yn;Ai.Konva=Ds.Konva.Util._assign(Ds.Konva,{Arc:_f.Arc,Arrow:vf.Arrow,Circle:bf.Circle,Ellipse:yf.Ellipse,Image:wf.Image,Label:xs.Label,Tag:xs.Tag,Line:kf.Line,Path:Cf.Path,Rect:Sf.Rect,RegularPolygon:Pf.RegularPolygon,Ring:Ef.Ring,Sprite:Tf.Sprite,Star:Af.Star,Text:Rf.Text,TextPath:Mf.TextPath,Transformer:Ff.Transformer,Wedge:Nf.Wedge,Filters:{Blur:Of.Blur,Brighten:Lf.Brighten,Contrast:Gf.Contrast,Emboss:Df.Emboss,Enhance:xf.Enhance,Grayscale:If.Grayscale,HSL:Uf.HSL,HSV:Vf.HSV,Invert:zf.Invert,Kaleidoscope:Bf.Kaleidoscope,Mask:Hf.Mask,Noise:Wf.Noise,Pixelate:jf.Pixelate,Posterize:Yf.Posterize,RGB:Xf.RGB,RGBA:Kf.RGBA,Sepia:qf.Sepia,Solarize:Qf.Solarize,Threshold:Jf.Threshold}});var Zf=na.exports;Object.defineProperty(Zf,"__esModule",{value:!0});const $f=Ai;na.exports=$f.Konva;var e1=na.exports;const ri=t0(e1),t1=["mouseover","mouseout","mouseenter","mouseleave","mousemove","mousedown","mouseup","wheel","click","dblclick","touchstart","touchmove","touchend","tap","dbltap","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerenter","pointerout","pointerleave","pointerclick","pointerdblclick","dragstart","dragmove","dragend","transformstart","transform","transformend"];function ii(i,e){t1.forEach(t=>{e.on(t,r=>{i(t,r,{cancelable:!0})||(r.cancelBubble=!0)})})}const Ci=["svelte-konva-stage","svelte-konva-layer","svelte-konva-group","svelte-konva-label"];var Yr;(function(i){i[i.Stage=0]="Stage",i[i.Layer=1]="Layer",i[i.Group=2]="Group",i[i.Label=3]="Label"})(Yr||(Yr={}));const r1="svelte-konva: Component does not have any parent container. Please make sure that the component is wrapped inside a Layer or Group.",i1="svelte-konva: A Layer needs to have a Stage as parent.";function Qo(i,e){Ci.forEach(t=>{Et(t,null)}),Et(Ci[i],e)}function ba(){for(let i=1;i<4;i++){const e=et(Ci[i]);if(e)return e}throw new Error(r1)}function n1(){const i=et(Ci[Yr.Stage]);if(i)return i;throw new Error(i1)}function Ft(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}function a1(i,e,t){let r,{config:n}=e,{handle:a=new ri.Circle(n)}=e,{staticConfig:s=!1}=e,o=ba();Ar(i,o,h=>t(4,r=h));let l=ar();return Wt(()=>{r.add(a),s||(a.on("transformend",()=>{Ft(n,a.getAttrs()),t(1,n)}),a.on("dragend",()=>{Ft(n,a.getAttrs()),t(1,n)})),ii(l,a)}),Xr(()=>{a.destroy()}),i.$$set=h=>{"config"in h&&t(1,n=h.config),"handle"in h&&t(2,a=h.handle),"staticConfig"in h&&t(3,s=h.staticConfig)},i.$$.update=()=>{i.$$.dirty&6&&a.setAttrs(n)},[o,n,a,s]}class s1 extends Ce{constructor(e){super(),Se(this,e,a1,null,ge,{config:1,handle:2,staticConfig:3})}}function o1(i,e,t){let r,{config:n}=e,{handle:a=new ri.Image(n)}=e,{staticConfig:s=!1}=e,o=ba();Ar(i,o,h=>t(4,r=h));let l=ar();return Wt(()=>{r.add(a),s||(a.on("transformend",()=>{Ft(n,a.getAttrs()),t(1,n)}),a.on("dragend",()=>{Ft(n,a.getAttrs()),t(1,n)})),ii(l,a)}),Xr(()=>{a.destroy()}),i.$$set=h=>{"config"in h&&t(1,n=h.config),"handle"in h&&t(2,a=h.handle),"staticConfig"in h&&t(3,s=h.staticConfig)},i.$$.update=()=>{i.$$.dirty&6&&a.setAttrs(n)},[o,n,a,s]}class l1 extends Ce{constructor(e){super(),Se(this,e,o1,null,ge,{config:1,handle:2,staticConfig:3})}}function Is(i){let e;const t=i[6].default,r=Re(t,i,i[5],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&32)&&Me(r,t,n,n[5],e?Ne(t,n[5],a,null):Fe(n[5]),null)},i(n){e||(O(r,n),e=!0)},o(n){L(r,n),e=!1},d(n){r&&r.d(n)}}}function h1(i){let e,t,r=i[0]&&Is(i);return{c(){r&&r.c(),e=pe()},l(n){r&&r.l(n),e=pe()},m(n,a){r&&r.m(n,a),D(n,e,a),t=!0},p(n,[a]){n[0]?r?(r.p(n,a),a&1&&O(r,1)):(r=Is(n),r.c(),O(r,1),r.m(e.parentNode,e)):r&&(je(),L(r,1,1,()=>{r=null}),Ye())},i(n){t||(O(r),t=!0)},o(n){L(r),t=!1},d(n){n&&M(e),r&&r.d(n)}}}function d1(i,e,t){let r,{$$slots:n={},$$scope:a}=e,{config:s={}}=e,{handle:o=new ri.Layer(s)}=e,{staticConfig:l=!1}=e,h=sr(null),d=ar(),u=!1,f=n1();return Ar(i,f,c=>t(7,r=c)),Wt(()=>{r.add(o),l||(o.on("transformend",()=>{Ft(s,o.getAttrs()),t(2,s)}),o.on("dragend",()=>{Ft(s,o.getAttrs()),t(2,s)})),ii(d,o),h.set(o),t(0,u=!0)}),Xr(()=>{o&&o.destroy()}),Qo(Yr.Layer,h),i.$$set=c=>{"config"in c&&t(2,s=c.config),"handle"in c&&t(3,o=c.handle),"staticConfig"in c&&t(4,l=c.staticConfig),"$$scope"in c&&t(5,a=c.$$scope)},i.$$.update=()=>{i.$$.dirty&12&&o&&o.setAttrs(s)},[u,f,s,o,l,a,n]}class c1 extends Ce{constructor(e){super(),Se(this,e,d1,h1,ge,{config:2,handle:3,staticConfig:4})}}function u1(i,e,t){let r,{config:n}=e,{handle:a=new ri.Rect(n)}=e,{staticConfig:s=!1}=e,o=ba();Ar(i,o,h=>t(4,r=h));let l=ar();return Wt(()=>{r.add(a),s||(a.on("transformend",()=>{Ft(n,a.getAttrs()),t(1,n)}),a.on("dragend",()=>{Ft(n,a.getAttrs()),t(1,n)})),ii(l,a)}),Xr(()=>{a.destroy()}),i.$$set=h=>{"config"in h&&t(1,n=h.config),"handle"in h&&t(2,a=h.handle),"staticConfig"in h&&t(3,s=h.staticConfig)},i.$$.update=()=>{i.$$.dirty&6&&a.setAttrs(n)},[o,n,a,s]}class f1 extends Ce{constructor(e){super(),Se(this,e,u1,null,ge,{config:1,handle:2,staticConfig:3})}}function Us(i){let e;const t=i[7].default,r=Re(t,i,i[6],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&64)&&Me(r,t,n,n[6],e?Ne(t,n[6],a,null):Fe(n[6]),null)},i(n){e||(O(r,n),e=!0)},o(n){L(r,n),e=!1},d(n){r&&r.d(n)}}}function g1(i){let e,t,r=i[1]&&Us(i),n=[i[2]],a={};for(let s=0;s<n.length;s+=1)a=X(a,n[s]);return{c(){e=$("div"),r&&r.c(),this.h()},l(s){e=ee(s,"DIV",{});var o=te(e);r&&r.l(o),o.forEach(M),this.h()},h(){Ie(e,a)},m(s,o){D(s,e,o),r&&r.m(e,null),i[8](e),t=!0},p(s,[o]){s[1]?r?(r.p(s,o),o&2&&O(r,1)):(r=Us(s),r.c(),O(r,1),r.m(e,null)):r&&(je(),L(r,1,1,()=>{r=null}),Ye()),Ie(e,a=De(n,[o&4&&s[2]]))},i(s){t||(O(r),t=!0)},o(s){L(r),t=!1},d(s){s&&M(e),r&&r.d(),i[8](null)}}}function m1(i,e,t){const r=["config","handle","staticConfig"];let n=he(e,r),{$$slots:a={},$$scope:s}=e,{config:o}=e,{handle:l=null}=e,{staticConfig:h=!1}=e,d=sr(null),u,f=ar(),c=!1;Wt(()=>{t(4,l=new ri.Stage({container:u,...o})),h||l.on("dragend",()=>{Ft(o,l.getAttrs()),t(3,o)}),ii(f,l),d.set(l),t(1,c=!0)}),Xr(()=>{l&&l.destroy()}),Qo(Yr.Stage,d);function g(m){We[m?"unshift":"push"](()=>{u=m,t(0,u)})}return i.$$set=m=>{e=X(X({},e),de(m)),t(2,n=he(e,r)),"config"in m&&t(3,o=m.config),"handle"in m&&t(4,l=m.handle),"staticConfig"in m&&t(5,h=m.staticConfig),"$$scope"in m&&t(6,s=m.$$scope)},i.$$.update=()=>{i.$$.dirty&24&&l&&l.setAttrs(o)},[u,c,n,o,l,h,s,a,g]}class p1 extends Ce{constructor(e){super(),Se(this,e,m1,g1,ge,{config:3,handle:4,staticConfig:5})}}function _1(i){let e;return{c(){e=we("Diameter (mm)")},l(t){e=ke(t,"Diameter (mm)")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function v1(i){let e;return{c(){e=we("Depth (mm)")},l(t){e=ke(t,"Depth (mm)")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function b1(i){let e;return{c(){e=we("OK")},l(t){e=ke(t,"OK")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function y1(i){let e;return{c(){e=we("Cancel")},l(t){e=ke(t,"Cancel")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function w1(i){let e,t,r="PCB settings",n,a,s,o,l,h,d,u,f,c,g,m,v,w,C,p,_,b,y;o=new Ct({props:{class:"mb-2",$$slots:{default:[_1]},$$scope:{ctx:i}}});function N(E){i[4](E)}let S={};i[0].diameter!==void 0&&(S.value=i[0].diameter),h=new St({props:S}),We.push(()=>ot(h,"value",N)),c=new Ct({props:{class:"mb-2",$$slots:{default:[v1]},$$scope:{ctx:i}}});function P(E){i[5](E)}let A={};return i[0].depth!==void 0&&(A.value=i[0].depth),m=new St({props:A}),We.push(()=>ot(m,"value",P)),p=new Rt({props:{color:"green",class:"me-2",$$slots:{default:[b1]},$$scope:{ctx:i}}}),p.$on("click",i[6]),b=new Rt({props:{color:"alternative",$$slots:{default:[y1]},$$scope:{ctx:i}}}),b.$on("click",i[7]),{c(){e=$("div"),t=$("h3"),t.textContent=r,n=ae(),a=$("div"),s=$("div"),q(o.$$.fragment),l=ae(),q(h.$$.fragment),u=ae(),f=$("div"),q(c.$$.fragment),g=ae(),q(m.$$.fragment),w=ae(),C=$("div"),q(p.$$.fragment),_=ae(),q(b.$$.fragment),this.h()},l(E){e=ee(E,"DIV",{class:!0});var T=te(e);t=ee(T,"H3",{class:!0,"data-svelte-h":!0}),$t(t)!=="svelte-17krbxy"&&(t.textContent=r),n=se(T),a=ee(T,"DIV",{class:!0});var G=te(a);s=ee(G,"DIV",{});var R=te(s);Q(o.$$.fragment,R),l=se(R),Q(h.$$.fragment,R),R.forEach(M),u=se(G),f=ee(G,"DIV",{});var F=te(f);Q(c.$$.fragment,F),g=se(F),Q(m.$$.fragment,F),F.forEach(M),G.forEach(M),T.forEach(M),w=se(E),C=ee(E,"DIV",{class:!0});var V=te(C);Q(p.$$.fragment,V),_=se(V),Q(b.$$.fragment,V),V.forEach(M),this.h()},h(){B(t,"class","text-xl font-medium text-gray-900 dark:text-white"),B(a,"class","grid gap-6 mb-6 md:grid-cols-2"),B(e,"class","flex flex-col space-y-6"),B(C,"class","text-center")},m(E,T){D(E,e,T),ie(e,t),ie(e,n),ie(e,a),ie(a,s),J(o,s,null),ie(s,l),J(h,s,null),ie(a,u),ie(a,f),J(c,f,null),ie(f,g),J(m,f,null),D(E,w,T),D(E,C,T),J(p,C,null),ie(C,_),J(b,C,null),y=!0},p(E,T){const G={};T&256&&(G.$$scope={dirty:T,ctx:E}),o.$set(G);const R={};!d&&T&1&&(d=!0,R.value=E[0].diameter,st(()=>d=!1)),h.$set(R);const F={};T&256&&(F.$$scope={dirty:T,ctx:E}),c.$set(F);const V={};!v&&T&1&&(v=!0,V.value=E[0].depth,st(()=>v=!1)),m.$set(V);const j={};T&256&&(j.$$scope={dirty:T,ctx:E}),p.$set(j);const ne={};T&256&&(ne.$$scope={dirty:T,ctx:E}),b.$set(ne)},i(E){y||(O(o.$$.fragment,E),O(h.$$.fragment,E),O(c.$$.fragment,E),O(m.$$.fragment,E),O(p.$$.fragment,E),O(b.$$.fragment,E),y=!0)},o(E){L(o.$$.fragment,E),L(h.$$.fragment,E),L(c.$$.fragment,E),L(m.$$.fragment,E),L(p.$$.fragment,E),L(b.$$.fragment,E),y=!1},d(E){E&&(M(e),M(w),M(C)),Z(o),Z(h),Z(c),Z(m),Z(p),Z(b)}}}function k1(i){let e,t;return e=new Ti({props:{open:i[2],size:"xs",dismissable:!1,$$slots:{default:[w1]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,[n]){const a={};n&4&&(a.open=r[2]),n&263&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function C1(i,e,t){let r,n,a=!1;const s=(u,f)=>{t(0,r=u),t(1,n=f),t(2,a=!0)};function o(u){i.$$.not_equal(r.diameter,u)&&(r.diameter=u,t(0,r))}function l(u){i.$$.not_equal(r.depth,u)&&(r.depth=u,t(0,r))}return[r,n,a,s,o,l,()=>{t(2,a=!1),n(r)},()=>t(2,a=!1)]}class S1 extends Ce{constructor(e){super(),Se(this,e,C1,k1,ge,{open:3})}get open(){return this.$$.ctx[3]}}function P1(i){let e;return{c(){e=we("Yes")},l(t){e=ke(t,"Yes")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function E1(i){let e;return{c(){e=we("Cancel")},l(t){e=ke(t,"Cancel")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function T1(i){let e,t,r,n,a,s,o,l,h,d;return t=new e0({props:{class:"mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200"}}),o=new Rt({props:{color:"red",class:"me-2",$$slots:{default:[P1]},$$scope:{ctx:i}}}),o.$on("click",i[4]),h=new Rt({props:{color:"alternative",$$slots:{default:[E1]},$$scope:{ctx:i}}}),h.$on("click",i[5]),{c(){e=$("div"),q(t.$$.fragment),r=ae(),n=$("h3"),a=we(i[0]),s=ae(),q(o.$$.fragment),l=ae(),q(h.$$.fragment),this.h()},l(u){e=ee(u,"DIV",{class:!0});var f=te(e);Q(t.$$.fragment,f),r=se(f),n=ee(f,"H3",{class:!0});var c=te(n);a=ke(c,i[0]),c.forEach(M),s=se(f),Q(o.$$.fragment,f),l=se(f),Q(h.$$.fragment,f),f.forEach(M),this.h()},h(){B(n,"class","mb-5 text-lg font-normal text-gray-500 dark:text-gray-400"),B(e,"class","text-center")},m(u,f){D(u,e,f),J(t,e,null),ie(e,r),ie(e,n),ie(n,a),ie(e,s),J(o,e,null),ie(e,l),J(h,e,null),d=!0},p(u,f){(!d||f&1)&&tr(a,u[0]);const c={};f&64&&(c.$$scope={dirty:f,ctx:u}),o.$set(c);const g={};f&64&&(g.$$scope={dirty:f,ctx:u}),h.$set(g)},i(u){d||(O(t.$$.fragment,u),O(o.$$.fragment,u),O(h.$$.fragment,u),d=!0)},o(u){L(t.$$.fragment,u),L(o.$$.fragment,u),L(h.$$.fragment,u),d=!1},d(u){u&&M(e),Z(t),Z(o),Z(h)}}}function A1(i){let e,t;return e=new Ti({props:{open:i[2],size:"xs",dismissable:!1,$$slots:{default:[T1]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,[n]){const a={};n&4&&(a.open=r[2]),n&71&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function R1(i,e,t){let r,n,a=!1;return[r,n,a,(h,d)=>{t(0,r=h),t(1,n=d),t(2,a=!0)},()=>{t(2,a=!1),n&&n()},()=>t(2,a=!1)]}class M1 extends Ce{constructor(e){super(),Se(this,e,R1,A1,ge,{open:3})}get open(){return this.$$.ctx[3]}}function F1(i){let e;return{c(){e=we("Panel width (mm)")},l(t){e=ke(t,"Panel width (mm)")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function N1(i){let e;return{c(){e=we("Panel height (mm)")},l(t){e=ke(t,"Panel height (mm)")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function O1(i){let e;return{c(){e=we("PCB thickness (mm)")},l(t){e=ke(t,"PCB thickness (mm)")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function L1(i){let e;return{c(){e=we("SMD height (mm)")},l(t){e=ke(t,"SMD height (mm)")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function G1(i){let e;return{c(){e=we("OK")},l(t){e=ke(t,"OK")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function D1(i){let e;return{c(){e=we("Cancel")},l(t){e=ke(t,"Cancel")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function x1(i){let e,t,r="PCB settings",n,a,s,o,l,h,d,u,f,c,g,m,v,w,C,p,_,b,y,N,S,P,A,E,T,G,R,F,V,j,ne;o=new Ct({props:{class:"mb-2",$$slots:{default:[F1]},$$scope:{ctx:i}}});function H(k){i[4](k)}let W={};i[0].width!==void 0&&(W.value=i[0].width),h=new St({props:W}),We.push(()=>ot(h,"value",H)),c=new Ct({props:{class:"mb-2",$$slots:{default:[N1]},$$scope:{ctx:i}}});function K(k){i[5](k)}let le={};i[0].height!==void 0&&(le.value=i[0].height),m=new St({props:le}),We.push(()=>ot(m,"value",K)),p=new Ct({props:{class:"mb-2",$$slots:{default:[O1]},$$scope:{ctx:i}}});function Y(k){i[6](k)}let z={};i[0].pcbThickness!==void 0&&(z.value=i[0].pcbThickness),b=new St({props:z}),We.push(()=>ot(b,"value",Y)),P=new Ct({props:{class:"mb-2",$$slots:{default:[L1]},$$scope:{ctx:i}}});function ye(k){i[7](k)}let Ee={};return i[0].smdHeight!==void 0&&(Ee.value=i[0].smdHeight),E=new St({props:Ee}),We.push(()=>ot(E,"value",ye)),F=new Rt({props:{color:"green",class:"me-2",$$slots:{default:[G1]},$$scope:{ctx:i}}}),F.$on("click",i[8]),j=new Rt({props:{color:"alternative",$$slots:{default:[D1]},$$scope:{ctx:i}}}),j.$on("click",i[9]),{c(){e=$("div"),t=$("h3"),t.textContent=r,n=ae(),a=$("div"),s=$("div"),q(o.$$.fragment),l=ae(),q(h.$$.fragment),u=ae(),f=$("div"),q(c.$$.fragment),g=ae(),q(m.$$.fragment),w=ae(),C=$("div"),q(p.$$.fragment),_=ae(),q(b.$$.fragment),N=ae(),S=$("div"),q(P.$$.fragment),A=ae(),q(E.$$.fragment),G=ae(),R=$("div"),q(F.$$.fragment),V=ae(),q(j.$$.fragment),this.h()},l(k){e=ee(k,"DIV",{class:!0});var x=te(e);t=ee(x,"H3",{class:!0,"data-svelte-h":!0}),$t(t)!=="svelte-17krbxy"&&(t.textContent=r),n=se(x),a=ee(x,"DIV",{class:!0});var re=te(a);s=ee(re,"DIV",{});var Te=te(s);Q(o.$$.fragment,Te),l=se(Te),Q(h.$$.fragment,Te),Te.forEach(M),u=se(re),f=ee(re,"DIV",{});var ve=te(f);Q(c.$$.fragment,ve),g=se(ve),Q(m.$$.fragment,ve),ve.forEach(M),w=se(re),C=ee(re,"DIV",{});var Oe=te(C);Q(p.$$.fragment,Oe),_=se(Oe),Q(b.$$.fragment,Oe),Oe.forEach(M),N=se(re),S=ee(re,"DIV",{});var Ke=te(S);Q(P.$$.fragment,Ke),A=se(Ke),Q(E.$$.fragment,Ke),Ke.forEach(M),re.forEach(M),x.forEach(M),G=se(k),R=ee(k,"DIV",{class:!0});var Ze=te(R);Q(F.$$.fragment,Ze),V=se(Ze),Q(j.$$.fragment,Ze),Ze.forEach(M),this.h()},h(){B(t,"class","text-xl font-medium text-gray-900 dark:text-white"),B(a,"class","grid gap-6 mb-6 md:grid-cols-2"),B(e,"class","flex flex-col space-y-6"),B(R,"class","text-center")},m(k,x){D(k,e,x),ie(e,t),ie(e,n),ie(e,a),ie(a,s),J(o,s,null),ie(s,l),J(h,s,null),ie(a,u),ie(a,f),J(c,f,null),ie(f,g),J(m,f,null),ie(a,w),ie(a,C),J(p,C,null),ie(C,_),J(b,C,null),ie(a,N),ie(a,S),J(P,S,null),ie(S,A),J(E,S,null),D(k,G,x),D(k,R,x),J(F,R,null),ie(R,V),J(j,R,null),ne=!0},p(k,x){const re={};x&1024&&(re.$$scope={dirty:x,ctx:k}),o.$set(re);const Te={};!d&&x&1&&(d=!0,Te.value=k[0].width,st(()=>d=!1)),h.$set(Te);const ve={};x&1024&&(ve.$$scope={dirty:x,ctx:k}),c.$set(ve);const Oe={};!v&&x&1&&(v=!0,Oe.value=k[0].height,st(()=>v=!1)),m.$set(Oe);const Ke={};x&1024&&(Ke.$$scope={dirty:x,ctx:k}),p.$set(Ke);const Ze={};!y&&x&1&&(y=!0,Ze.value=k[0].pcbThickness,st(()=>y=!1)),b.$set(Ze);const Le={};x&1024&&(Le.$$scope={dirty:x,ctx:k}),P.$set(Le);const vt={};!T&&x&1&&(T=!0,vt.value=k[0].smdHeight,st(()=>T=!1)),E.$set(vt);const nt={};x&1024&&(nt.$$scope={dirty:x,ctx:k}),F.$set(nt);const bt={};x&1024&&(bt.$$scope={dirty:x,ctx:k}),j.$set(bt)},i(k){ne||(O(o.$$.fragment,k),O(h.$$.fragment,k),O(c.$$.fragment,k),O(m.$$.fragment,k),O(p.$$.fragment,k),O(b.$$.fragment,k),O(P.$$.fragment,k),O(E.$$.fragment,k),O(F.$$.fragment,k),O(j.$$.fragment,k),ne=!0)},o(k){L(o.$$.fragment,k),L(h.$$.fragment,k),L(c.$$.fragment,k),L(m.$$.fragment,k),L(p.$$.fragment,k),L(b.$$.fragment,k),L(P.$$.fragment,k),L(E.$$.fragment,k),L(F.$$.fragment,k),L(j.$$.fragment,k),ne=!1},d(k){k&&(M(e),M(G),M(R)),Z(o),Z(h),Z(c),Z(m),Z(p),Z(b),Z(P),Z(E),Z(F),Z(j)}}}function I1(i){let e,t;return e=new Ti({props:{open:i[2],size:"xs",dismissable:!1,$$slots:{default:[x1]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,[n]){const a={};n&4&&(a.open=r[2]),n&1031&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function U1(i,e,t){let r,n,a=!1;const s=(c,g)=>{t(0,r=c),t(1,n=g),t(2,a=!0)};function o(c){i.$$.not_equal(r.width,c)&&(r.width=c,t(0,r))}function l(c){i.$$.not_equal(r.height,c)&&(r.height=c,t(0,r))}function h(c){i.$$.not_equal(r.pcbThickness,c)&&(r.pcbThickness=c,t(0,r))}function d(c){i.$$.not_equal(r.smdHeight,c)&&(r.smdHeight=c,t(0,r))}return[r,n,a,s,o,l,h,d,()=>{t(2,a=!1),n(r)},()=>t(2,a=!1)]}class V1 extends Ce{constructor(e){super(),Se(this,e,U1,I1,ge,{open:3})}get open(){return this.$$.ctx[3]}}function z1(i){let e;return{c(){e=we("Size X (mm)")},l(t){e=ke(t,"Size X (mm)")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function B1(i){let e;return{c(){e=we("Size Y (mm)")},l(t){e=ke(t,"Size Y (mm)")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function H1(i){let e;return{c(){e=we("Depth (mm)")},l(t){e=ke(t,"Depth (mm)")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function W1(i){let e;return{c(){e=we("OK")},l(t){e=ke(t,"OK")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function j1(i){let e;return{c(){e=we("Cancel")},l(t){e=ke(t,"Cancel")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function Y1(i){let e,t,r="PCB settings",n,a,s,o,l,h,d,u,f,c,g,m,v,w,C,p,_,b,y,N,S,P,A,E,T;o=new Ct({props:{class:"mb-2",$$slots:{default:[z1]},$$scope:{ctx:i}}});function G(H){i[4](H)}let R={};i[0].sizeX!==void 0&&(R.value=i[0].sizeX),h=new St({props:R}),We.push(()=>ot(h,"value",G)),c=new Ct({props:{class:"mb-2",$$slots:{default:[B1]},$$scope:{ctx:i}}});function F(H){i[5](H)}let V={};i[0].sizeY!==void 0&&(V.value=i[0].sizeY),m=new St({props:V}),We.push(()=>ot(m,"value",F)),p=new Ct({props:{class:"mb-2",$$slots:{default:[H1]},$$scope:{ctx:i}}});function j(H){i[6](H)}let ne={};return i[0].depth!==void 0&&(ne.value=i[0].depth),b=new St({props:ne}),We.push(()=>ot(b,"value",j)),P=new Rt({props:{color:"green",class:"me-2",$$slots:{default:[W1]},$$scope:{ctx:i}}}),P.$on("click",i[7]),E=new Rt({props:{color:"alternative",$$slots:{default:[j1]},$$scope:{ctx:i}}}),E.$on("click",i[8]),{c(){e=$("div"),t=$("h3"),t.textContent=r,n=ae(),a=$("div"),s=$("div"),q(o.$$.fragment),l=ae(),q(h.$$.fragment),u=ae(),f=$("div"),q(c.$$.fragment),g=ae(),q(m.$$.fragment),w=ae(),C=$("div"),q(p.$$.fragment),_=ae(),q(b.$$.fragment),N=ae(),S=$("div"),q(P.$$.fragment),A=ae(),q(E.$$.fragment),this.h()},l(H){e=ee(H,"DIV",{class:!0});var W=te(e);t=ee(W,"H3",{class:!0,"data-svelte-h":!0}),$t(t)!=="svelte-17krbxy"&&(t.textContent=r),n=se(W),a=ee(W,"DIV",{class:!0});var K=te(a);s=ee(K,"DIV",{});var le=te(s);Q(o.$$.fragment,le),l=se(le),Q(h.$$.fragment,le),le.forEach(M),u=se(K),f=ee(K,"DIV",{});var Y=te(f);Q(c.$$.fragment,Y),g=se(Y),Q(m.$$.fragment,Y),Y.forEach(M),w=se(K),C=ee(K,"DIV",{});var z=te(C);Q(p.$$.fragment,z),_=se(z),Q(b.$$.fragment,z),z.forEach(M),K.forEach(M),W.forEach(M),N=se(H),S=ee(H,"DIV",{class:!0});var ye=te(S);Q(P.$$.fragment,ye),A=se(ye),Q(E.$$.fragment,ye),ye.forEach(M),this.h()},h(){B(t,"class","text-xl font-medium text-gray-900 dark:text-white"),B(a,"class","grid gap-6 mb-6 md:grid-cols-2"),B(e,"class","flex flex-col space-y-6"),B(S,"class","text-center")},m(H,W){D(H,e,W),ie(e,t),ie(e,n),ie(e,a),ie(a,s),J(o,s,null),ie(s,l),J(h,s,null),ie(a,u),ie(a,f),J(c,f,null),ie(f,g),J(m,f,null),ie(a,w),ie(a,C),J(p,C,null),ie(C,_),J(b,C,null),D(H,N,W),D(H,S,W),J(P,S,null),ie(S,A),J(E,S,null),T=!0},p(H,W){const K={};W&512&&(K.$$scope={dirty:W,ctx:H}),o.$set(K);const le={};!d&&W&1&&(d=!0,le.value=H[0].sizeX,st(()=>d=!1)),h.$set(le);const Y={};W&512&&(Y.$$scope={dirty:W,ctx:H}),c.$set(Y);const z={};!v&&W&1&&(v=!0,z.value=H[0].sizeY,st(()=>v=!1)),m.$set(z);const ye={};W&512&&(ye.$$scope={dirty:W,ctx:H}),p.$set(ye);const Ee={};!y&&W&1&&(y=!0,Ee.value=H[0].depth,st(()=>y=!1)),b.$set(Ee);const k={};W&512&&(k.$$scope={dirty:W,ctx:H}),P.$set(k);const x={};W&512&&(x.$$scope={dirty:W,ctx:H}),E.$set(x)},i(H){T||(O(o.$$.fragment,H),O(h.$$.fragment,H),O(c.$$.fragment,H),O(m.$$.fragment,H),O(p.$$.fragment,H),O(b.$$.fragment,H),O(P.$$.fragment,H),O(E.$$.fragment,H),T=!0)},o(H){L(o.$$.fragment,H),L(h.$$.fragment,H),L(c.$$.fragment,H),L(m.$$.fragment,H),L(p.$$.fragment,H),L(b.$$.fragment,H),L(P.$$.fragment,H),L(E.$$.fragment,H),T=!1},d(H){H&&(M(e),M(N),M(S)),Z(o),Z(h),Z(c),Z(m),Z(p),Z(b),Z(P),Z(E)}}}function X1(i){let e,t;return e=new Ti({props:{open:i[2],size:"xs",dismissable:!1,$$slots:{default:[Y1]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,[n]){const a={};n&4&&(a.open=r[2]),n&519&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function K1(i,e,t){let r,n,a=!1;const s=(f,c)=>{t(0,r=f),t(1,n=c),t(2,a=!0)};function o(f){i.$$.not_equal(r.sizeX,f)&&(r.sizeX=f,t(0,r))}function l(f){i.$$.not_equal(r.sizeY,f)&&(r.sizeY=f,t(0,r))}function h(f){i.$$.not_equal(r.depth,f)&&(r.depth=f,t(0,r))}return[r,n,a,s,o,l,h,()=>{t(2,a=!1),n(r)},()=>t(2,a=!1)]}class q1 extends Ce{constructor(e){super(),Se(this,e,K1,X1,ge,{open:3})}get open(){return this.$$.ctx[3]}}function Q1(i){let e,t="<b>Top view</b> PCB image",r,n,a,s,o,l='<span class="font-semibold">Click to upload</span> or drag and drop an image',h,d,u="PNG, JPG or SVG";return{c(){e=$("p"),e.innerHTML=t,r=ae(),n=Tt("svg"),a=Tt("path"),s=ae(),o=$("p"),o.innerHTML=l,h=ae(),d=$("p"),d.textContent=u,this.h()},l(f){e=ee(f,"P",{class:!0,"data-svelte-h":!0}),$t(e)!=="svelte-bbaoxm"&&(e.innerHTML=t),r=se(f),n=At(f,"svg",{"aria-hidden":!0,class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var c=te(n);a=At(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),te(a).forEach(M),c.forEach(M),s=se(f),o=ee(f,"P",{class:!0,"data-svelte-h":!0}),$t(o)!=="svelte-gb24ud"&&(o.innerHTML=l),h=se(f),d=ee(f,"P",{class:!0,"data-svelte-h":!0}),$t(d)!=="svelte-1ova63w"&&(d.textContent=u),this.h()},h(){B(e,"class","mb-2 text-lg text-gray-500 dark:text-gray-400"),B(a,"stroke-linecap","round"),B(a,"stroke-linejoin","round"),B(a,"stroke-width","2"),B(a,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),B(n,"aria-hidden","true"),B(n,"class","mb-3 w-10 h-10 text-gray-400"),B(n,"fill","none"),B(n,"stroke","currentColor"),B(n,"viewBox","0 0 24 24"),B(n,"xmlns","http://www.w3.org/2000/svg"),B(o,"class","mb-2 text-sm text-gray-500 dark:text-gray-400"),B(d,"class","text-xs text-gray-500 dark:text-gray-400")},m(f,c){D(f,e,c),D(f,r,c),D(f,n,c),ie(n,a),D(f,s,c),D(f,o,c),D(f,h,c),D(f,d,c)},p:it,d(f){f&&(M(e),M(r),M(n),M(s),M(o),M(h),M(d))}}}function J1(i){let e,t;return e=new ed({props:{class:"max-w-96",$$slots:{default:[Q1]},$$scope:{ctx:i}}}),e.$on("dragover",Z1),e.$on("drop",i[0]),e.$on("change",i[1]),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,[n]){const a={};n&16&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}const Z1=i=>i.preventDefault();function $1(i,e,t){let{onUpload:r}=e;Wt(()=>{});const n=o=>{const l=new FileReader;l.addEventListener("load",h=>{h.target&&h.target.result&&!(h.target.result instanceof ArrayBuffer)&&r(h.target.result,o.name)}),l.readAsDataURL(o)},a=o=>{if(o.preventDefault(),o.dataTransfer){if(o.dataTransfer.items&&o.dataTransfer.items.length>0){if(o.dataTransfer.items[0].kind==="file"){const l=o.dataTransfer.items[0].getAsFile();l&&n(l)}}else if(o.dataTransfer.files&&o.dataTransfer.files.length>0){const l=o.dataTransfer.files[0];l&&n(l)}}},s=o=>{const l=o.target.files;l&&l.length>0&&n(l[0])};return i.$$set=o=>{"onUpload"in o&&t(2,r=o.onUpload)},[a,s,r]}class eg extends Ce{constructor(e){super(),Se(this,e,$1,J1,ge,{onUpload:2})}}var In={local:{},session:{}};function tg(i){return i==="local"?localStorage:sessionStorage}function rg(i,e,t){var r,n,a;const s=(r=t?.serializer)!=null?r:JSON,o=(n=t?.storage)!=null?n:"local",l=(a=t?.syncTabs)!=null?a:!0,h=typeof window<"u"&&typeof document<"u",d=h?tg(o):null;function u(f,c){d?.setItem(f,s.stringify(c))}if(!In[o][i]){const f=sr(e,m=>{const v=d?.getItem(i);if(v&&m(s.parse(v)),h&&o=="local"&&l){const w=C=>{C.key===i&&m(C.newValue?s.parse(C.newValue):null)};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)}}),{subscribe:c,set:g}=f;In[o][i]={set(m){u(i,m),g(m)},update(m){return f.update(v=>{const w=m(v);return u(i,w),w})},subscribe:c}}return In[o][i]}const br=rg("project",{image:"",filename:"",panelSettings:{width:0,height:0,pcbThickness:0,smdHeight:0},circles:[],rectangles:[]});function Vs(i,e,t){const r=i.slice();return r[27]=e[t],r[28]=e,r[29]=t,r}function zs(i,e,t){const r=i.slice();return r[30]=e[t],r[31]=e,r[32]=t,r}function ig(i){let e,t,r,n,a="PCB THT Holder";return{c(){e=$("img"),r=ae(),n=$("span"),n.textContent=a,this.h()},l(s){e=ee(s,"IMG",{src:!0,class:!0,alt:!0}),r=se(s),n=ee(s,"SPAN",{class:!0,"data-svelte-h":!0}),$t(n)!=="svelte-yf58ke"&&(n.textContent=a),this.h()},h(){rl(e.src,t=il+"/favicon.png")||B(e,"src",t),B(e,"class","me-3 h-6 sm:h-9"),B(e,"alt","PCB THT Holder Logo"),B(n,"class","self-center whitespace-nowrap text-xl font-semibold dark:text-white")},m(s,o){D(s,e,o),D(s,r,o),D(s,n,o)},p:it,d(s){s&&(M(e),M(r),M(n))}}}function ng(i){let e;return{c(){e=we("Download STL")},l(t){e=ke(t,"Download STL")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function Bs(i){let e,t,r,n,a,s,o,l;return e=new Tn({props:{class:"cursor-pointer",$$slots:{default:[ag]},$$scope:{ctx:i}}}),r=new xh({props:{class:"w-44 z-20",$$slots:{default:[hg]},$$scope:{ctx:i}}}),a=new Tn({props:{href:"#",$$slots:{default:[dg]},$$scope:{ctx:i}}}),a.$on("click",i[12]),o=new Tn({props:{href:"#",$$slots:{default:[cg]},$$scope:{ctx:i}}}),o.$on("click",i[11]),{c(){q(e.$$.fragment),t=ae(),q(r.$$.fragment),n=ae(),q(a.$$.fragment),s=ae(),q(o.$$.fragment)},l(h){Q(e.$$.fragment,h),t=se(h),Q(r.$$.fragment,h),n=se(h),Q(a.$$.fragment,h),s=se(h),Q(o.$$.fragment,h)},m(h,d){J(e,h,d),D(h,t,d),J(r,h,d),D(h,n,d),J(a,h,d),D(h,s,d),J(o,h,d),l=!0},p(h,d){const u={};d[1]&4&&(u.$$scope={dirty:d,ctx:h}),e.$set(u);const f={};d[1]&4&&(f.$$scope={dirty:d,ctx:h}),r.$set(f);const c={};d[1]&4&&(c.$$scope={dirty:d,ctx:h}),a.$set(c);const g={};d[1]&4&&(g.$$scope={dirty:d,ctx:h}),o.$set(g)},i(h){l||(O(e.$$.fragment,h),O(r.$$.fragment,h),O(a.$$.fragment,h),O(o.$$.fragment,h),l=!0)},o(h){L(e.$$.fragment,h),L(r.$$.fragment,h),L(a.$$.fragment,h),L(o.$$.fragment,h),l=!1},d(h){h&&(M(t),M(n),M(s)),Z(e,h),Z(r,h),Z(a,h),Z(o,h)}}}function ag(i){let e,t,r;return t=new Jd({props:{class:"w-3 h-3 ms-2 text-primary-800 dark:text-white inline"}}),{c(){e=we("Add"),q(t.$$.fragment)},l(n){e=ke(n,"Add"),Q(t.$$.fragment,n)},m(n,a){D(n,e,a),J(t,n,a),r=!0},p:it,i(n){r||(O(t.$$.fragment,n),r=!0)},o(n){L(t.$$.fragment,n),r=!1},d(n){n&&M(e),Z(t,n)}}}function sg(i){let e;return{c(){e=we("Circle")},l(t){e=ke(t,"Circle")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function og(i){let e;return{c(){e=we("Rectangle")},l(t){e=ke(t,"Rectangle")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function lg(i){let e;return{c(){e=we("Leg")},l(t){e=ke(t,"Leg")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function hg(i){let e,t,r,n,a,s,o,l;return e=new Pn({props:{href:"#",$$slots:{default:[sg]},$$scope:{ctx:i}}}),e.$on("click",i[13]),r=new Pn({props:{href:"#",$$slots:{default:[og]},$$scope:{ctx:i}}}),r.$on("click",i[16]),a=new Vh({}),o=new Pn({props:{href:"#",$$slots:{default:[lg]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment),t=ae(),q(r.$$.fragment),n=ae(),q(a.$$.fragment),s=ae(),q(o.$$.fragment)},l(h){Q(e.$$.fragment,h),t=se(h),Q(r.$$.fragment,h),n=se(h),Q(a.$$.fragment,h),s=se(h),Q(o.$$.fragment,h)},m(h,d){J(e,h,d),D(h,t,d),J(r,h,d),D(h,n,d),J(a,h,d),D(h,s,d),J(o,h,d),l=!0},p(h,d){const u={};d[1]&4&&(u.$$scope={dirty:d,ctx:h}),e.$set(u);const f={};d[1]&4&&(f.$$scope={dirty:d,ctx:h}),r.$set(f);const c={};d[1]&4&&(c.$$scope={dirty:d,ctx:h}),o.$set(c)},i(h){l||(O(e.$$.fragment,h),O(r.$$.fragment,h),O(a.$$.fragment,h),O(o.$$.fragment,h),l=!0)},o(h){L(e.$$.fragment,h),L(r.$$.fragment,h),L(a.$$.fragment,h),L(o.$$.fragment,h),l=!1},d(h){h&&(M(t),M(n),M(s)),Z(e,h),Z(r,h),Z(a,h),Z(o,h)}}}function dg(i){let e;return{c(){e=we("Panel settings")},l(t){e=ke(t,"Panel settings")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function cg(i){let e;return{c(){e=we("Reset")},l(t){e=ke(t,"Reset")},m(t,r){D(t,e,r)},d(t){t&&M(e)}}}function ug(i){let e,t,r=i[2]&&Bs(i);return{c(){r&&r.c(),e=pe()},l(n){r&&r.l(n),e=pe()},m(n,a){r&&r.m(n,a),D(n,e,a),t=!0},p(n,a){n[2]?r?(r.p(n,a),a[0]&4&&O(r,1)):(r=Bs(n),r.c(),O(r,1),r.m(e.parentNode,e)):r&&(je(),L(r,1,1,()=>{r=null}),Ye())},i(n){t||(O(r),t=!0)},o(n){L(r),t=!1},d(n){n&&M(e),r&&r.d(n)}}}function fg(i){let e,t,r,n,a,s,o,l,h;return e=new Od({props:{href:"#",$$slots:{default:[ig]},$$scope:{ctx:i}}}),n=new Rt({props:{size:"sm",disabled:!i[2],$$slots:{default:[ng]},$$scope:{ctx:i}}}),s=new Vd({}),l=new Kd({props:{class:"order-1",$$slots:{default:[ug]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment),t=ae(),r=$("div"),q(n.$$.fragment),a=ae(),q(s.$$.fragment),o=ae(),q(l.$$.fragment),this.h()},l(d){Q(e.$$.fragment,d),t=se(d),r=ee(d,"DIV",{class:!0});var u=te(r);Q(n.$$.fragment,u),a=se(u),Q(s.$$.fragment,u),u.forEach(M),o=se(d),Q(l.$$.fragment,d),this.h()},h(){B(r,"class","flex md:order-2")},m(d,u){J(e,d,u),D(d,t,u),D(d,r,u),J(n,r,null),ie(r,a),J(s,r,null),D(d,o,u),J(l,d,u),h=!0},p(d,u){const f={};u[1]&4&&(f.$$scope={dirty:u,ctx:d}),e.$set(f);const c={};u[0]&4&&(c.disabled=!d[2]),u[1]&4&&(c.$$scope={dirty:u,ctx:d}),n.$set(c);const g={};u[0]&4|u[1]&4&&(g.$$scope={dirty:u,ctx:d}),l.$set(g)},i(d){h||(O(e.$$.fragment,d),O(n.$$.fragment,d),O(s.$$.fragment,d),O(l.$$.fragment,d),h=!0)},o(d){L(e.$$.fragment,d),L(n.$$.fragment,d),L(s.$$.fragment,d),L(l.$$.fragment,d),h=!1},d(d){d&&(M(t),M(r),M(o)),Z(e,d),Z(n),Z(s),Z(l,d)}}}function Hs(i){let e,t,r=i[4].width+"",n,a,s=i[4].height+"",o,l;return{c(){e=$("p"),t=we("("),n=we(r),a=we("x"),o=we(s),l=we(")"),this.h()},l(h){e=ee(h,"P",{class:!0});var d=te(e);t=ke(d,"("),n=ke(d,r),a=ke(d,"x"),o=ke(d,s),l=ke(d,")"),d.forEach(M),this.h()},h(){B(e,"class","text-sm text-gray-500")},m(h,d){D(h,e,d),ie(e,t),ie(e,n),ie(e,a),ie(e,o),ie(e,l)},p(h,d){d[0]&16&&r!==(r=h[4].width+"")&&tr(n,r),d[0]&16&&s!==(s=h[4].height+"")&&tr(o,s)},d(h){h&&M(e)}}}function gg(i){let e,t;return e=new p1({props:{config:{width:i[4].width,height:i[4].height,scaleX:i[4].width/i[9].width,scaleY:i[4].height/i[9].height},$$slots:{default:[_g]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n[0]&528&&(a.config={width:r[4].width,height:r[4].height,scaleX:r[4].width/r[9].width,scaleY:r[4].height/r[9].height}),n[0]&535|n[1]&4&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function mg(i){let e,t;return e=new eg({props:{onUpload:i[10]}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p:it,i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Ws(i){let e,t,r;function n(o){i[23](o,i[30])}function a(){return i[24](i[30])}let s={};return i[30].konvaConfig!==void 0&&(s.config=i[30].konvaConfig),e=new s1({props:s}),We.push(()=>ot(e,"config",n)),e.$on("dblclick",a),e.$on("dragend",i[15]),{c(){q(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,l){J(e,o,l),r=!0},p(o,l){i=o;const h={};!t&&l[0]&1&&(t=!0,h.config=i[30].konvaConfig,st(()=>t=!1)),e.$set(h)},i(o){r||(O(e.$$.fragment,o),r=!0)},o(o){L(e.$$.fragment,o),r=!1},d(o){Z(e,o)}}}function js(i){let e,t,r;function n(o){i[25](o,i[27])}function a(){return i[26](i[27])}let s={};return i[27].konvaConfig!==void 0&&(s.config=i[27].konvaConfig),e=new f1({props:s}),We.push(()=>ot(e,"config",n)),e.$on("dblclick",a),e.$on("dragend",i[18]),{c(){q(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,l){J(e,o,l),r=!0},p(o,l){i=o;const h={};!t&&l[0]&2&&(t=!0,h.config=i[27].konvaConfig,st(()=>t=!1)),e.$set(h)},i(o){r||(O(e.$$.fragment,o),r=!0)},o(o){L(e.$$.fragment,o),r=!1},d(o){Z(e,o)}}}function pg(i){let e,t,r,n,a;e=new l1({props:{config:{image:i[2],scaleX:i[9].width/i[4].width,scaleY:-1*i[9].height/i[4].height,offsetY:i[4].height,opacity:.25}}});let s=ni(i[0]),o=[];for(let f=0;f<s.length;f+=1)o[f]=Ws(zs(i,s,f));const l=f=>L(o[f],1,1,()=>{o[f]=null});let h=ni(i[1]),d=[];for(let f=0;f<h.length;f+=1)d[f]=js(Vs(i,h,f));const u=f=>L(d[f],1,1,()=>{d[f]=null});return{c(){q(e.$$.fragment),t=ae();for(let f=0;f<o.length;f+=1)o[f].c();r=ae();for(let f=0;f<d.length;f+=1)d[f].c();n=pe()},l(f){Q(e.$$.fragment,f),t=se(f);for(let c=0;c<o.length;c+=1)o[c].l(f);r=se(f);for(let c=0;c<d.length;c+=1)d[c].l(f);n=pe()},m(f,c){J(e,f,c),D(f,t,c);for(let g=0;g<o.length;g+=1)o[g]&&o[g].m(f,c);D(f,r,c);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(f,c);D(f,n,c),a=!0},p(f,c){const g={};if(c[0]&532&&(g.config={image:f[2],scaleX:f[9].width/f[4].width,scaleY:-1*f[9].height/f[4].height,offsetY:f[4].height,opacity:.25}),e.$set(g),c[0]&49153){s=ni(f[0]);let m;for(m=0;m<s.length;m+=1){const v=zs(f,s,m);o[m]?(o[m].p(v,c),O(o[m],1)):(o[m]=Ws(v),o[m].c(),O(o[m],1),o[m].m(r.parentNode,r))}for(je(),m=s.length;m<o.length;m+=1)l(m);Ye()}if(c[0]&393218){h=ni(f[1]);let m;for(m=0;m<h.length;m+=1){const v=Vs(f,h,m);d[m]?(d[m].p(v,c),O(d[m],1)):(d[m]=js(v),d[m].c(),O(d[m],1),d[m].m(n.parentNode,n))}for(je(),m=h.length;m<d.length;m+=1)u(m);Ye()}},i(f){if(!a){O(e.$$.fragment,f);for(let c=0;c<s.length;c+=1)O(o[c]);for(let c=0;c<h.length;c+=1)O(d[c]);a=!0}},o(f){L(e.$$.fragment,f),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)L(o[c]);d=d.filter(Boolean);for(let c=0;c<d.length;c+=1)L(d[c]);a=!1},d(f){f&&(M(t),M(r),M(n)),Z(e,f),wa(o,f),wa(d,f)}}}function _g(i){let e,t;return e=new c1({props:{$$slots:{default:[pg]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n[0]&535|n[1]&4&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(O(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function vg(i){let e,t,r,n,a,s,o,l,h,d,u,f,c,g,m,v,w,C,p,_={};e=new M1({props:_}),i[19](e);let b={};r=new V1({props:b}),i[20](r);let y={};a=new S1({props:y}),i[21](a);let N={};o=new q1({props:N}),i[22](o),h=new Md({props:{$$slots:{default:[fg]},$$scope:{ctx:i}}});let S=i[4]&&Hs(i);const P=[mg,gg],A=[];function E(T,G){return T[2]?typeof window<"u"&&T[4]?1:-1:0}return~(w=E(i))&&(C=A[w]=P[w](i)),{c(){q(e.$$.fragment),t=ae(),q(r.$$.fragment),n=ae(),q(a.$$.fragment),s=ae(),q(o.$$.fragment),l=ae(),q(h.$$.fragment),d=ae(),u=$("div"),f=$("p"),c=we(i[3]),g=ae(),S&&S.c(),m=ae(),v=$("div"),C&&C.c(),this.h()},l(T){Q(e.$$.fragment,T),t=se(T),Q(r.$$.fragment,T),n=se(T),Q(a.$$.fragment,T),s=se(T),Q(o.$$.fragment,T),l=se(T),Q(h.$$.fragment,T),d=se(T),u=ee(T,"DIV",{class:!0});var G=te(u);f=ee(G,"P",{class:!0});var R=te(f);c=ke(R,i[3]),R.forEach(M),g=se(G),S&&S.l(G),G.forEach(M),m=se(T),v=ee(T,"DIV",{class:!0});var F=te(v);C&&C.l(F),F.forEach(M),this.h()},h(){B(f,"class","text-sm"),B(u,"class","flex justify-center"),B(v,"class","flex justify-center")},m(T,G){J(e,T,G),D(T,t,G),J(r,T,G),D(T,n,G),J(a,T,G),D(T,s,G),J(o,T,G),D(T,l,G),J(h,T,G),D(T,d,G),D(T,u,G),ie(u,f),ie(f,c),ie(u,g),S&&S.m(u,null),D(T,m,G),D(T,v,G),~w&&A[w].m(v,null),p=!0},p(T,G){const R={};e.$set(R);const F={};r.$set(F);const V={};a.$set(V);const j={};o.$set(j);const ne={};G[0]&4|G[1]&4&&(ne.$$scope={dirty:G,ctx:T}),h.$set(ne),(!p||G[0]&8)&&tr(c,T[3]),T[4]?S?S.p(T,G):(S=Hs(T),S.c(),S.m(u,null)):S&&(S.d(1),S=null);let H=w;w=E(T),w===H?~w&&A[w].p(T,G):(C&&(je(),L(A[H],1,1,()=>{A[H]=null}),Ye()),~w?(C=A[w],C?C.p(T,G):(C=A[w]=P[w](T),C.c()),O(C,1),C.m(v,null)):C=null)},i(T){p||(O(e.$$.fragment,T),O(r.$$.fragment,T),O(a.$$.fragment,T),O(o.$$.fragment,T),O(h.$$.fragment,T),O(C),p=!0)},o(T){L(e.$$.fragment,T),L(r.$$.fragment,T),L(a.$$.fragment,T),L(o.$$.fragment,T),L(h.$$.fragment,T),L(C),p=!1},d(T){T&&(M(t),M(n),M(s),M(l),M(d),M(u),M(m),M(v)),i[19](null),Z(e,T),i[20](null),Z(r,T),i[21](null),Z(a,T),i[22](null),Z(o,T),Z(h,T),S&&S.d(),~w&&A[w].d()}}}function bg(i,e,t){Wt(()=>{const R=tl(br);R.image&&R.filename&&(t(0,r=R.circles),t(1,n=R.rectangles),c(R.image,R.filename,!1),t(9,f=R.panelSettings))});let r=[],n=[],a,s="",o,l,h,d,u,f={width:100,height:80,pcbThickness:1.6,smdHeight:3};const c=(R,F,V=!0)=>{t(2,a=document.createElement("img")),a.addEventListener("load",()=>{t(3,s=F),a&&(t(4,o={width:a.width,height:a.height}),V&&t(9,f.height=Math.round(f.width*(o.height/o.width)),f)),V&&(br.update(j=>(j.image=R,j.filename=F,j)),m())}),a.addEventListener("error",()=>{t(2,a=void 0),t(3,s="")}),t(2,a.src=R,a)},g=()=>l.open("Are you sure to reset PCB panel?",()=>{t(2,a=void 0),t(3,s=""),t(4,o=void 0),t(0,r=[]),t(1,n=[]),br.update(R=>(R.image="",R.filename="",R.circles=[],R.rectangles=[],R))}),m=()=>h.open(f,R=>{t(9,f=R),br.update(F=>(F.panelSettings=R,F))}),v=()=>{const R={depth:5,diameter:10,konvaConfig:{draggable:!0,fill:"orange",opacity:.75,x:f.width/2,y:f.height/2,radius:10}};r.push(R),t(0,r),C(),d.open(R,F=>{R.diameter=F.diameter,R.depth=F.depth,R.konvaConfig.radius=R.diameter/2,t(0,r),C()})},w=R=>{d.open(R,F=>{R.diameter=F.diameter,R.depth=F.depth,R.konvaConfig.radius=R.diameter/2,t(0,r),C()})},C=()=>br.update(R=>(R.circles=r,R)),p=()=>{const R={depth:5,sizeX:10,sizeY:5,konvaConfig:{draggable:!0,fill:"green",opacity:.75,x:f.width/2,y:f.height/2,width:10,height:5}};n.push(R),t(1,n),b(),u.open(R,F=>{R.sizeX=F.sizeX,R.sizeY=F.sizeY,R.depth=F.depth,R.konvaConfig.width=R.sizeX,R.konvaConfig.height=R.sizeY,t(1,n),b()})},_=R=>{u.open(R,F=>{R.sizeX=F.sizeX,R.sizeY=F.sizeY,R.depth=F.depth,R.konvaConfig.width=R.sizeX,R.konvaConfig.height=R.sizeY,t(1,n),b()})},b=()=>br.update(R=>(R.rectangles=n,R));function y(R){We[R?"unshift":"push"](()=>{l=R,t(5,l)})}function N(R){We[R?"unshift":"push"](()=>{h=R,t(6,h)})}function S(R){We[R?"unshift":"push"](()=>{d=R,t(7,d)})}function P(R){We[R?"unshift":"push"](()=>{u=R,t(8,u)})}function A(R,F){i.$$.not_equal(F.konvaConfig,R)&&(F.konvaConfig=R,t(0,r))}const E=R=>w(R);function T(R,F){i.$$.not_equal(F.konvaConfig,R)&&(F.konvaConfig=R,t(1,n))}return[r,n,a,s,o,l,h,d,u,f,c,g,m,v,w,C,p,_,b,y,N,S,P,A,E,T,R=>_(R)]}class Ag extends Ce{constructor(e){super(),Se(this,e,bg,vg,ge,{},null,[-1,-1])}}export{Ag as component};
