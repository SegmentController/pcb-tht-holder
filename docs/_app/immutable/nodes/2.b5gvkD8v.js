import{s as ge,e as pe,i as G,d as R,A as he,B as Et,C as X,D as de,r as Re,f as $,g as ee,h as te,E as gt,F as zr,G as I,u as Me,v as Fe,w as Ne,H as vr,I as ht,J as U,p as We,K as et,a as ae,c as se,L as Ie,x as ie,l as we,m as ke,j as z,n as tr,M as Tt,N as At,O as ar,o as Wt,y as it,P as st,Q as qn,R as gi,S as Ws,T as qo,U as va,z as Er,V as Qo,W as Jo,X as yr,Y as Zo,Z as Yr,_ as $t,$ as $o,a0 as ba}from"../chunks/scheduler.vdNBqtRQ.js";import{S as Ce,i as Se,a as F,t as O,g as je,c as Ye,b as q,d as Q,m as J,e as Z,f as ot,h as ya}from"../chunks/index.X8LT44nd.js";import{w as Tr,b as el}from"../chunks/paths.ua0sdvs4.js";function ii(i){return i?.length!==void 0?i:Array.from(i)}function De(i,e){const t={},r={},n={$$scope:1};let a=i.length;for(;a--;){const s=i[a],o=e[a];if(o){for(const l in s)l in o||(r[l]=1);for(const l in o)n[l]||(t[l]=o[l],n[l]=1);i[a]=o}else for(const l in s)n[l]=1}for(const s in r)s in t||(t[s]=void 0);return t}function sr(i){return typeof i=="object"&&i!==null?i:{}}const Qn="-";function tl(i){const e=il(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=i;function n(s){const o=s.split(Qn);return o[0]===""&&o.length!==1&&o.shift(),js(o,e)||rl(s)}function a(s,o){const l=t[s]||[];return o&&r[s]?[...l,...r[s]]:l}return{getClassGroupId:n,getConflictingClassGroupIds:a}}function js(i,e){if(i.length===0)return e.classGroupId;const t=i[0],r=e.nextPart.get(t),n=r?js(i.slice(1),r):void 0;if(n)return n;if(e.validators.length===0)return;const a=i.join(Qn);return e.validators.find(({validator:s})=>s(a))?.classGroupId}const wa=/^\[(.+)\]$/;function rl(i){if(wa.test(i)){const e=wa.exec(i)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}}function il(i){const{theme:e,prefix:t}=i,r={nextPart:new Map,validators:[]};return al(Object.entries(i.classGroups),t).forEach(([a,s])=>{xn(s,r,a,e)}),r}function xn(i,e,t,r){i.forEach(n=>{if(typeof n=="string"){const a=n===""?e:ka(e,n);a.classGroupId=t;return}if(typeof n=="function"){if(nl(n)){xn(n(r),e,t,r);return}e.validators.push({validator:n,classGroupId:t});return}Object.entries(n).forEach(([a,s])=>{xn(s,ka(e,a),t,r)})})}function ka(i,e){let t=i;return e.split(Qn).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t}function nl(i){return i.isThemeGetter}function al(i,e){return e?i.map(([t,r])=>{const n=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[t,n]}):i}function sl(i){if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;function n(a,s){t.set(a,s),e++,e>i&&(e=0,r=t,t=new Map)}return{get(a){let s=t.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return n(a,s),s},set(a,s){t.has(a)?t.set(a,s):n(a,s)}}}const Ys="!";function ol(i){const e=i.separator,t=e.length===1,r=e[0],n=e.length;return function(s){const o=[];let l=0,h=0,d;for(let m=0;m<s.length;m++){let v=s[m];if(l===0){if(v===r&&(t||s.slice(m,m+n)===e)){o.push(s.slice(h,m)),h=m+n;continue}if(v==="/"){d=m;continue}}v==="["?l++:v==="]"&&l--}const u=o.length===0?s:s.substring(h),f=u.startsWith(Ys),c=f?u.substring(1):u,g=d&&d>h?d-h:void 0;return{modifiers:o,hasImportantModifier:f,baseClassName:c,maybePostfixModifierPosition:g}}}function ll(i){if(i.length<=1)return i;const e=[];let t=[];return i.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e}function hl(i){return{cache:sl(i.cacheSize),splitModifiers:ol(i),...tl(i)}}const dl=/\s+/;function cl(i,e){const{splitModifiers:t,getClassGroupId:r,getConflictingClassGroupIds:n}=e,a=new Set;return i.trim().split(dl).map(s=>{const{modifiers:o,hasImportantModifier:l,baseClassName:h,maybePostfixModifierPosition:d}=t(s);let u=r(d?h.substring(0,d):h),f=!!d;if(!u){if(!d)return{isTailwindClass:!1,originalClassName:s};if(u=r(h),!u)return{isTailwindClass:!1,originalClassName:s};f=!1}const c=ll(o).join(":");return{isTailwindClass:!0,modifierId:l?c+Ys:c,classGroupId:u,originalClassName:s,hasPostfixModifier:f}}).reverse().filter(s=>{if(!s.isTailwindClass)return!0;const{modifierId:o,classGroupId:l,hasPostfixModifier:h}=s,d=o+l;return a.has(d)?!1:(a.add(d),n(l,h).forEach(u=>a.add(o+u)),!0)}).reverse().map(s=>s.originalClassName).join(" ")}function Xs(){let i=0,e,t,r="";for(;i<arguments.length;)(e=arguments[i++])&&(t=Ks(e))&&(r&&(r+=" "),r+=t);return r}function Ks(i){if(typeof i=="string")return i;let e,t="";for(let r=0;r<i.length;r++)i[r]&&(e=Ks(i[r]))&&(t&&(t+=" "),t+=e);return t}function ul(i,...e){let t,r,n,a=s;function s(l){const h=e.reduce((d,u)=>u(d),i());return t=hl(h),r=t.cache.get,n=t.cache.set,a=o,o(l)}function o(l){const h=r(l);if(h)return h;const d=cl(l,t);return n(l,d),d}return function(){return a(Xs.apply(null,arguments))}}function Ue(i){const e=t=>t[i]||[];return e.isThemeGetter=!0,e}const qs=/^\[(?:([a-z-]+):)?(.+)\]$/i,fl=/^\d+\/\d+$/,gl=new Set(["px","full","screen"]),ml=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_l=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function yt(i){return Zt(i)||gl.has(i)||fl.test(i)}function xt(i){return Ar(i,"length",El)}function Zt(i){return!!i&&!Number.isNaN(Number(i))}function ni(i){return Ar(i,"number",Zt)}function Dr(i){return!!i&&Number.isInteger(Number(i))}function bl(i){return i.endsWith("%")&&Zt(i.slice(0,-1))}function fe(i){return qs.test(i)}function It(i){return ml.test(i)}const yl=new Set(["length","size","percentage"]);function wl(i){return Ar(i,yl,Qs)}function kl(i){return Ar(i,"position",Qs)}const Cl=new Set(["image","url"]);function Sl(i){return Ar(i,Cl,Al)}function Pl(i){return Ar(i,"",Tl)}function xr(){return!0}function Ar(i,e,t){const r=qs.exec(i);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1}function El(i){return pl.test(i)}function Qs(){return!1}function Tl(i){return _l.test(i)}function Al(i){return vl.test(i)}function Rl(){const i=Ue("colors"),e=Ue("spacing"),t=Ue("blur"),r=Ue("brightness"),n=Ue("borderColor"),a=Ue("borderRadius"),s=Ue("borderSpacing"),o=Ue("borderWidth"),l=Ue("contrast"),h=Ue("grayscale"),d=Ue("hueRotate"),u=Ue("invert"),f=Ue("gap"),c=Ue("gradientColorStops"),g=Ue("gradientColorStopPositions"),m=Ue("inset"),v=Ue("margin"),k=Ue("opacity"),C=Ue("padding"),p=Ue("saturate"),_=Ue("scale"),b=Ue("sepia"),y=Ue("skew"),M=Ue("space"),P=Ue("translate"),E=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",fe,e],S=()=>[fe,e],N=()=>["",yt,xt],D=()=>["auto",Zt,fe],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],ne=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",fe],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Zt,ni],le=()=>[Zt,fe];return{cacheSize:500,separator:":",theme:{colors:[xr],spacing:[yt,xt],blur:["none","",It,fe],brightness:K(),borderColor:[i],borderRadius:["none","","full",It,fe],borderSpacing:S(),borderWidth:N(),contrast:K(),grayscale:H(),hueRotate:le(),invert:H(),gap:S(),gradientColorStops:[i],gradientColorStopPositions:[bl,xt],inset:T(),margin:T(),opacity:K(),padding:S(),saturate:K(),scale:K(),sepia:H(),skew:le(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[It]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),fe]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dr,fe]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Dr,fe]}],"grid-cols":[{"grid-cols":[xr]}],"col-start-end":[{col:["auto",{span:["full",Dr,fe]},fe]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[xr]}],"row-start-end":[{row:["auto",{span:[Dr,fe]},fe]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[It]},It]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",It,xt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ni]}],"font-family":[{font:[xr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Zt,ni]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yt,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yt,xt]}],"underline-offset":[{"underline-offset":["auto",yt,fe]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),kl]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wl]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sl]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[c]}],"gradient-via":[{via:[c]}],"gradient-to":[{to:[c]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:B()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[yt,fe]}],"outline-w":[{outline:[yt,xt]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[yt,xt]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",It,Pl]}],"shadow-color":[{shadow:[xr]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":Y()}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",It,fe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[p]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Dr,fe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[y]}],"skew-y":[{"skew-y":[y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[yt,xt,ni]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const ce=ul(Rl);function yn(i){let e,t,r,n,a;const s=i[12].default,o=Re(s,i,i[11],null);let l=[{role:i[4]},i[6],{class:i[5]}],h={};for(let d=0;d<l.length;d+=1)h=X(h,l[d]);return{c(){e=$(i[1]),o&&o.c(),this.h()},l(d){e=ee(d,(i[1]||"null").toUpperCase(),{role:!0,class:!0});var u=te(e);o&&o.l(u),u.forEach(R),this.h()},h(){gt(i[1])(e,h)},m(d,u){G(d,e,u),o&&o.m(e,null),i[18](e),r=!0,n||(a=[zr(t=i[2].call(null,e,i[3])),I(e,"click",i[13]),I(e,"mouseenter",i[14]),I(e,"mouseleave",i[15]),I(e,"focusin",i[16]),I(e,"focusout",i[17])],n=!0)},p(d,u){o&&o.p&&(!r||u&2048)&&Me(o,s,d,d[11],r?Ne(s,d[11],u,null):Fe(d[11]),null),gt(d[1])(e,h=De(l,[(!r||u&16)&&{role:d[4]},u&64&&d[6],(!r||u&32)&&{class:d[5]}])),t&&vr(t.update)&&u&8&&t.update.call(null,d[3])},i(d){r||(F(o,d),r=!0)},o(d){O(o,d),r=!1},d(d){d&&R(e),o&&o.d(d),i[18](null),n=!1,ht(a)}}}function Ml(i){let e=i[1],t,r,n=i[1]&&yn(i);return{c(){n&&n.c(),t=pe()},l(a){n&&n.l(a),t=pe()},m(a,s){n&&n.m(a,s),G(a,t,s),r=!0},p(a,[s]){a[1]?e?ge(e,a[1])?(n.d(1),n=yn(a),e=a[1],n.c(),n.m(t.parentNode,t)):n.p(a,s):(n=yn(a),e=a[1],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=a[1])},i(a){r||(F(n,a),r=!0)},o(a){O(n,a),r=!1},d(a){a&&R(t),n&&n.d(a)}}}function Fl(i,e,t){const r=["tag","color","rounded","border","shadow","node","use","options","role"];let n=he(e,r),{$$slots:a={},$$scope:s}=e;const o=()=>{};Et("background",!0);let{tag:l=n.href?"a":"div"}=e,{color:h="default"}=e,{rounded:d=!1}=e,{border:u=!1}=e,{shadow:f=!1}=e,{node:c=void 0}=e,{use:g=o}=e,{options:m={}}=e,{role:v=void 0}=e;const k={gray:"bg-gray-50 dark:bg-gray-800",red:"bg-red-50 dark:bg-gray-800",yellow:"bg-yellow-50 dark:bg-gray-800 ",green:"bg-green-50 dark:bg-gray-800 ",indigo:"bg-indigo-50 dark:bg-gray-800 ",purple:"bg-purple-50 dark:bg-gray-800 ",pink:"bg-pink-50 dark:bg-gray-800 ",blue:"bg-blue-50 dark:bg-gray-800 ",light:"bg-gray-50 dark:bg-gray-700",dark:"bg-gray-50 dark:bg-gray-800",default:"bg-white dark:bg-gray-800",dropdown:"bg-white dark:bg-gray-700",navbar:"bg-white dark:bg-gray-900",navbarUl:"bg-gray-50 dark:bg-gray-800",form:"bg-gray-50 dark:bg-gray-700",primary:"bg-primary-50 dark:bg-gray-800 ",orange:"bg-orange-50 dark:bg-orange-800",none:""},C={gray:"text-gray-800 dark:text-gray-300",red:"text-red-800 dark:text-red-400",yellow:"text-yellow-800 dark:text-yellow-300",green:"text-green-800 dark:text-green-400",indigo:"text-indigo-800 dark:text-indigo-400",purple:"text-purple-800 dark:text-purple-400",pink:"text-pink-800 dark:text-pink-400",blue:"text-blue-800 dark:text-blue-400",light:"text-gray-700 dark:text-gray-300",dark:"text-gray-700 dark:text-gray-300",default:"text-gray-500 dark:text-gray-400",dropdown:"text-gray-700 dark:text-gray-200",navbar:"text-gray-700 dark:text-gray-200",navbarUl:"text-gray-700 dark:text-gray-400",form:"text-gray-900 dark:text-white",primary:"text-primary-800 dark:text-primary-400",orange:"text-orange-800 dark:text-orange-400",none:""},p={gray:"border-gray-300 dark:border-gray-800 divide-gray-300 dark:divide-gray-800",red:"border-red-300 dark:border-red-800 divide-red-300 dark:divide-red-800",yellow:"border-yellow-300 dark:border-yellow-800 divide-yellow-300 dark:divide-yellow-800",green:"border-green-300 dark:border-green-800 divide-green-300 dark:divide-green-800",indigo:"border-indigo-300 dark:border-indigo-800 divide-indigo-300 dark:divide-indigo-800",purple:"border-purple-300 dark:border-purple-800 divide-purple-300 dark:divide-purple-800",pink:"border-pink-300 dark:border-pink-800 divide-pink-300 dark:divide-pink-800",blue:"border-blue-300 dark:border-blue-800 divide-blue-300 dark:divide-blue-800",light:"border-gray-500 divide-gray-500",dark:"border-gray-500 divide-gray-500",default:"border-gray-200 dark:border-gray-700 divide-gray-200 dark:divide-gray-700",dropdown:"border-gray-100 dark:border-gray-600 divide-gray-100 dark:divide-gray-600",navbar:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",navbarUl:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",form:"border-gray-300 dark:border-gray-700 divide-gray-300 dark:divide-gray-700",primary:"border-primary-500 dark:border-primary-200  divide-primary-500 dark:divide-primary-200 ",orange:"border-orange-300 dark:border-orange-800 divide-orange-300 dark:divide-orange-800",none:""};let _;function b(T){U.call(this,i,T)}function y(T){U.call(this,i,T)}function M(T){U.call(this,i,T)}function P(T){U.call(this,i,T)}function E(T){U.call(this,i,T)}function A(T){We[T?"unshift":"push"](()=>{c=T,t(0,c)})}return i.$$set=T=>{t(23,e=X(X({},e),de(T))),t(6,n=he(e,r)),"tag"in T&&t(1,l=T.tag),"color"in T&&t(7,h=T.color),"rounded"in T&&t(8,d=T.rounded),"border"in T&&t(9,u=T.border),"shadow"in T&&t(10,f=T.shadow),"node"in T&&t(0,c=T.node),"use"in T&&t(2,g=T.use),"options"in T&&t(3,m=T.options),"role"in T&&t(4,v=T.role),"$$scope"in T&&t(11,s=T.$$scope)},i.$$.update=()=>{i.$$.dirty&128&&t(7,h=h??"default"),i.$$.dirty&128&&Et("color",h),t(5,_=ce(k[h],C[h],d&&"rounded-lg",u&&"border",p[h],f&&"shadow-md",e.class))},e=de(e),[c,l,g,m,v,_,n,h,d,u,f,s,a,b,y,M,P,E,A]}class Rr extends Ce{constructor(e){super(),Se(this,e,Fl,Ml,ge,{tag:1,color:7,rounded:8,border:9,shadow:10,node:0,use:2,options:3,role:4})}}function Nl(i){const e=i-1;return e*e*e+1}function Ol(i){return--i*i*i*i*i+1}function Ca(i,{delay:e=0,duration:t=400,easing:r=Nl,axis:n="y"}={}){const a=getComputedStyle(i),s=+a.opacity,o=n==="y"?"height":"width",l=parseFloat(a[o]),h=n==="y"?["top","bottom"]:["left","right"],d=h.map(k=>`${k[0].toUpperCase()}${k.slice(1)}`),u=parseFloat(a[`padding${d[0]}`]),f=parseFloat(a[`padding${d[1]}`]),c=parseFloat(a[`margin${d[0]}`]),g=parseFloat(a[`margin${d[1]}`]),m=parseFloat(a[`border${d[0]}Width`]),v=parseFloat(a[`border${d[1]}Width`]);return{delay:e,duration:t,easing:r,css:k=>`overflow: hidden;opacity: ${Math.min(k*20,1)*s};${o}: ${k*l}px;padding-${h[0]}: ${k*u}px;padding-${h[1]}: ${k*f}px;margin-${h[0]}: ${k*c}px;margin-${h[1]}: ${k*g}px;border-${h[0]}-width: ${k*m}px;border-${h[1]}-width: ${k*v}px;`}}const Ll=i=>({svgSize:i&4}),Sa=i=>({svgSize:i[5][i[2]]}),Gl=i=>({svgSize:i&4}),Pa=i=>({svgSize:i[5][i[2]]});function Dl(i){let e,t,r,n,a,s,o=i[0]&&Ea(i);const l=i[9].default,h=Re(l,i,i[8],Sa);let d=[{type:"button"},i[6],{class:i[4]},{"aria-label":r=i[1]??i[0]}],u={};for(let f=0;f<d.length;f+=1)u=X(u,d[f]);return{c(){e=$("button"),o&&o.c(),t=ae(),h&&h.c(),this.h()},l(f){e=ee(f,"BUTTON",{type:!0,class:!0,"aria-label":!0});var c=te(e);o&&o.l(c),t=se(c),h&&h.l(c),c.forEach(R),this.h()},h(){Ie(e,u)},m(f,c){G(f,e,c),o&&o.m(e,null),ie(e,t),h&&h.m(e,null),e.autofocus&&e.focus(),n=!0,a||(s=I(e,"click",i[10]),a=!0)},p(f,c){f[0]?o?o.p(f,c):(o=Ea(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),h&&h.p&&(!n||c&260)&&Me(h,l,f,f[8],n?Ne(l,f[8],c,Ll):Fe(f[8]),Sa),Ie(e,u=De(d,[{type:"button"},c&64&&f[6],(!n||c&16)&&{class:f[4]},(!n||c&3&&r!==(r=f[1]??f[0]))&&{"aria-label":r}]))},i(f){n||(F(h,f),n=!0)},o(f){O(h,f),n=!1},d(f){f&&R(e),o&&o.d(),h&&h.d(f),a=!1,s()}}}function xl(i){let e,t,r,n,a=i[0]&&Ta(i);const s=i[9].default,o=Re(s,i,i[8],Pa);let l=[{href:i[3]},i[6],{class:i[4]},{"aria-label":r=i[1]??i[0]}],h={};for(let d=0;d<l.length;d+=1)h=X(h,l[d]);return{c(){e=$("a"),a&&a.c(),t=ae(),o&&o.c(),this.h()},l(d){e=ee(d,"A",{href:!0,class:!0,"aria-label":!0});var u=te(e);a&&a.l(u),t=se(u),o&&o.l(u),u.forEach(R),this.h()},h(){Ie(e,h)},m(d,u){G(d,e,u),a&&a.m(e,null),ie(e,t),o&&o.m(e,null),n=!0},p(d,u){d[0]?a?a.p(d,u):(a=Ta(d),a.c(),a.m(e,t)):a&&(a.d(1),a=null),o&&o.p&&(!n||u&260)&&Me(o,s,d,d[8],n?Ne(s,d[8],u,Gl):Fe(d[8]),Pa),Ie(e,h=De(l,[(!n||u&8)&&{href:d[3]},u&64&&d[6],(!n||u&16)&&{class:d[4]},(!n||u&3&&r!==(r=d[1]??d[0]))&&{"aria-label":r}]))},i(d){n||(F(o,d),n=!0)},o(d){O(o,d),n=!1},d(d){d&&R(e),a&&a.d(),o&&o.d(d)}}}function Ea(i){let e,t;return{c(){e=$("span"),t=we(i[0]),this.h()},l(r){e=ee(r,"SPAN",{class:!0});var n=te(e);t=ke(n,i[0]),n.forEach(R),this.h()},h(){z(e,"class","sr-only")},m(r,n){G(r,e,n),ie(e,t)},p(r,n){n&1&&tr(t,r[0])},d(r){r&&R(e)}}}function Ta(i){let e,t;return{c(){e=$("span"),t=we(i[0]),this.h()},l(r){e=ee(r,"SPAN",{class:!0});var n=te(e);t=ke(n,i[0]),n.forEach(R),this.h()},h(){z(e,"class","sr-only")},m(r,n){G(r,e,n),ie(e,t)},p(r,n){n&1&&tr(t,r[0])},d(r){r&&R(e)}}}function Il(i){let e,t,r,n;const a=[xl,Dl],s=[];function o(l,h){return l[3]?0:1}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),r=pe()},l(l){t.l(l),r=pe()},m(l,h){s[e].m(l,h),G(l,r,h),n=!0},p(l,[h]){let d=e;e=o(l),e===d?s[e].p(l,h):(je(),O(s[d],1,1,()=>{s[d]=null}),Ye(),t=s[e],t?t.p(l,h):(t=s[e]=a[e](l),t.c()),F(t,1),t.m(r.parentNode,r))},i(l){n||(F(t),n=!0)},o(l){O(t),n=!1},d(l){l&&R(r),s[e].d(l)}}}function Ul(i,e,t){const r=["color","name","ariaLabel","size","href"];let n=he(e,r),{$$slots:a={},$$scope:s}=e;const o=et("background");let{color:l="default"}=e,{name:h=void 0}=e,{ariaLabel:d=void 0}=e,{size:u="md"}=e,{href:f=void 0}=e;const c={dark:"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600",gray:"text-gray-500 focus:ring-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 dark:hover:text-gray-300",red:"text-red-500 focus:ring-red-400 hover:bg-red-200 dark:hover:bg-red-800 dark:hover:text-red-300",yellow:"text-yellow-500 focus:ring-yellow-400 hover:bg-yellow-200 dark:hover:bg-yellow-800 dark:hover:text-yellow-300",green:"text-green-500 focus:ring-green-400 hover:bg-green-200 dark:hover:bg-green-800 dark:hover:text-green-300",indigo:"text-indigo-500 focus:ring-indigo-400 hover:bg-indigo-200 dark:hover:bg-indigo-800 dark:hover:text-indigo-300",purple:"text-purple-500 focus:ring-purple-400 hover:bg-purple-200 dark:hover:bg-purple-800 dark:hover:text-purple-300",pink:"text-pink-500 focus:ring-pink-400 hover:bg-pink-200 dark:hover:bg-pink-800 dark:hover:text-pink-300",blue:"text-blue-500 focus:ring-blue-400 hover:bg-blue-200 dark:hover:bg-blue-800 dark:hover:text-blue-300",primary:"text-primary-500 focus:ring-primary-400 hover:bg-primary-200 dark:hover:bg-primary-800 dark:hover:text-primary-300",default:"focus:ring-gray-400"},g={xs:"m-0.5 rounded-sm focus:ring-1 p-0.5",sm:"m-0.5 rounded focus:ring-1 p-0.5",md:"m-0.5 rounded-lg focus:ring-2 p-1.5",lg:"m-0.5 rounded-lg focus:ring-2 p-2.5"};let m;const v={xs:"w-3 h-3",sm:"w-3.5 h-3.5",md:"w-5 h-5",lg:"w-5 h-5"};function k(C){U.call(this,i,C)}return i.$$set=C=>{t(14,e=X(X({},e),de(C))),t(6,n=he(e,r)),"color"in C&&t(7,l=C.color),"name"in C&&t(0,h=C.name),"ariaLabel"in C&&t(1,d=C.ariaLabel),"size"in C&&t(2,u=C.size),"href"in C&&t(3,f=C.href),"$$scope"in C&&t(8,s=C.$$scope)},i.$$.update=()=>{t(4,m=ce("focus:outline-none whitespace-normal",g[u],c[l],l==="default"&&(o?"hover:bg-gray-100 dark:hover:bg-gray-600":"hover:bg-gray-100 dark:hover:bg-gray-700"),e.class))},e=de(e),[h,d,u,f,m,v,n,l,s,a,k]}class Js extends Ce{constructor(e){super(),Se(this,e,Ul,Il,ge,{color:7,name:0,ariaLabel:1,size:2,href:3})}}function Vl(i){let e,t,r;return{c(){e=Tt("svg"),t=Tt("path"),this.h()},l(n){e=At(n,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var a=te(e);t=At(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),te(t).forEach(R),a.forEach(R),this.h()},h(){z(t,"fill-rule","evenodd"),z(t,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),z(t,"clip-rule","evenodd"),z(e,"class",r=i[4]),z(e,"fill","currentColor"),z(e,"viewBox","0 0 20 20"),z(e,"xmlns","http://www.w3.org/2000/svg")},m(n,a){G(n,e,a),ie(e,t)},p(n,a){a&16&&r!==(r=n[4])&&z(e,"class",r)},d(n){n&&R(e)}}}function zl(i){let e,t;const r=[{name:i[0]},i[1],{class:ce("ms-auto",i[2].class)}];let n={$$slots:{default:[Vl,({svgSize:a})=>({4:a}),({svgSize:a})=>a?16:0]},$$scope:{ctx:i}};for(let a=0;a<r.length;a+=1)n=X(n,r[a]);return e=new Js({props:n}),e.$on("click",i[3]),{c(){q(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,s){J(e,a,s),t=!0},p(a,[s]){const o=s&7?De(r,[s&1&&{name:a[0]},s&2&&sr(a[1]),s&4&&{class:ce("ms-auto",a[2].class)}]):{};s&48&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){O(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}function Bl(i,e,t){const r=["name"];let n=he(e,r),{name:a="Close"}=e;function s(o){U.call(this,i,o)}return i.$$set=o=>{t(2,e=X(X({},e),de(o))),t(1,n=he(e,r)),"name"in o&&t(0,a=o.name)},e=de(e),[a,n,e,s]}class Zs extends Ce{constructor(e){super(),Se(this,e,Bl,zl,ge,{name:0})}}function Hl(i){let e=i[2],t,r,n=i[2]&&wn(i);return{c(){n&&n.c(),t=pe()},l(a){n&&n.l(a),t=pe()},m(a,s){n&&n.m(a,s),G(a,t,s),r=!0},p(a,s){a[2]?e?ge(e,a[2])?(n.d(1),n=wn(a),e=a[2],n.c(),n.m(t.parentNode,t)):n.p(a,s):(n=wn(a),e=a[2],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=a[2])},i(a){r||(F(n,a),r=!0)},o(a){O(n,a),r=!1},d(a){a&&R(t),n&&n.d(a)}}}function Wl(i){let e,t,r,n;const a=i[12].default,s=Re(a,i,i[11],null);let o=[{type:i[1]},i[4],{class:i[3]}],l={};for(let h=0;h<o.length;h+=1)l=X(l,o[h]);return{c(){e=$("button"),s&&s.c(),this.h()},l(h){e=ee(h,"BUTTON",{type:!0,class:!0});var d=te(e);s&&s.l(d),d.forEach(R),this.h()},h(){Ie(e,l)},m(h,d){G(h,e,d),s&&s.m(e,null),e.autofocus&&e.focus(),t=!0,r||(n=[I(e,"click",i[22]),I(e,"change",i[23]),I(e,"keydown",i[24]),I(e,"keyup",i[25]),I(e,"touchstart",i[26],{passive:!0}),I(e,"touchend",i[27]),I(e,"touchcancel",i[28]),I(e,"mouseenter",i[29]),I(e,"mouseleave",i[30])],r=!0)},p(h,d){s&&s.p&&(!t||d[0]&2048)&&Me(s,a,h,h[11],t?Ne(a,h[11],d,null):Fe(h[11]),null),Ie(e,l=De(o,[(!t||d[0]&2)&&{type:h[1]},d[0]&16&&h[4],(!t||d[0]&8)&&{class:h[3]}]))},i(h){t||(F(s,h),t=!0)},o(h){O(s,h),t=!1},d(h){h&&R(e),s&&s.d(h),r=!1,ht(n)}}}function jl(i){let e,t,r,n;const a=i[12].default,s=Re(a,i,i[11],null);let o=[{href:i[0]},i[4],{class:i[3]},{role:"button"}],l={};for(let h=0;h<o.length;h+=1)l=X(l,o[h]);return{c(){e=$("a"),s&&s.c(),this.h()},l(h){e=ee(h,"A",{href:!0,class:!0,role:!0});var d=te(e);s&&s.l(d),d.forEach(R),this.h()},h(){Ie(e,l)},m(h,d){G(h,e,d),s&&s.m(e,null),t=!0,r||(n=[I(e,"click",i[13]),I(e,"change",i[14]),I(e,"keydown",i[15]),I(e,"keyup",i[16]),I(e,"touchstart",i[17],{passive:!0}),I(e,"touchend",i[18]),I(e,"touchcancel",i[19]),I(e,"mouseenter",i[20]),I(e,"mouseleave",i[21])],r=!0)},p(h,d){s&&s.p&&(!t||d[0]&2048)&&Me(s,a,h,h[11],t?Ne(a,h[11],d,null):Fe(h[11]),null),Ie(e,l=De(o,[(!t||d[0]&1)&&{href:h[0]},d[0]&16&&h[4],(!t||d[0]&8)&&{class:h[3]},{role:"button"}]))},i(h){t||(F(s,h),t=!0)},o(h){O(s,h),t=!1},d(h){h&&R(e),s&&s.d(h),r=!1,ht(n)}}}function wn(i){let e,t;const r=i[12].default,n=Re(r,i,i[11],null);let a=[i[4],{class:i[3]}],s={};for(let o=0;o<a.length;o+=1)s=X(s,a[o]);return{c(){e=$(i[2]),n&&n.c(),this.h()},l(o){e=ee(o,(i[2]||"null").toUpperCase(),{class:!0});var l=te(e);n&&n.l(l),l.forEach(R),this.h()},h(){gt(i[2])(e,s)},m(o,l){G(o,e,l),n&&n.m(e,null),t=!0},p(o,l){n&&n.p&&(!t||l[0]&2048)&&Me(n,r,o,o[11],t?Ne(r,o[11],l,null):Fe(o[11]),null),gt(o[2])(e,s=De(a,[l[0]&16&&o[4],(!t||l[0]&8)&&{class:o[3]}]))},i(o){t||(F(n,o),t=!0)},o(o){O(n,o),t=!1},d(o){o&&R(e),n&&n.d(o)}}}function Yl(i){let e,t,r,n;const a=[jl,Wl,Hl],s=[];function o(l,h){return l[0]?0:l[2]==="button"?1:2}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),r=pe()},l(l){t.l(l),r=pe()},m(l,h){s[e].m(l,h),G(l,r,h),n=!0},p(l,h){let d=e;e=o(l),e===d?s[e].p(l,h):(je(),O(s[d],1,1,()=>{s[d]=null}),Ye(),t=s[e],t?t.p(l,h):(t=s[e]=a[e](l),t.c()),F(t,1),t.m(r.parentNode,r))},i(l){n||(F(t),n=!0)},o(l){O(t),n=!1},d(l){l&&R(r),s[e].d(l)}}}function Xl(i,e,t){const r=["pill","outline","size","href","type","color","shadow","tag","checked"];let n=he(e,r),{$$slots:a={},$$scope:s}=e;const o=et("group");let{pill:l=!1}=e,{outline:h=!1}=e,{size:d=o?"sm":"md"}=e,{href:u=void 0}=e,{type:f="button"}=e,{color:c=o?h?"dark":"alternative":"primary"}=e,{shadow:g=!1}=e,{tag:m="button"}=e,{checked:v=void 0}=e;const k={alternative:"text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 dark:bg-gray-800 dark:text-gray-400 hover:text-primary-700 focus-within:text-primary-700 dark:focus-within:text-white dark:hover:text-white",blue:"text-white bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700",dark:"text-white bg-gray-800 hover:bg-gray-900 dark:bg-gray-800 dark:hover:bg-gray-700",green:"text-white bg-green-700 hover:bg-green-800 dark:bg-green-600 dark:hover:bg-green-700",light:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600",primary:"text-white bg-primary-700 hover:bg-primary-800 dark:bg-primary-600 dark:hover:bg-primary-700",purple:"text-white bg-purple-700 hover:bg-purple-800 dark:bg-purple-600 dark:hover:bg-purple-700",red:"text-white bg-red-700 hover:bg-red-800 dark:bg-red-600 dark:hover:bg-red-700",yellow:"text-white bg-yellow-400 hover:bg-yellow-500 ",none:""},C={alternative:"text-primary-700 border dark:text-primary-500 bg-gray-100 dark:bg-gray-700 border-gray-300 shadow-gray-300 dark:shadow-gray-800 shadow-inner",blue:"text-blue-900 bg-blue-400 dark:bg-blue-500 shadow-blue-700 dark:shadow-blue-800 shadow-inner",dark:"text-white bg-gray-500 dark:bg-gray-600 shadow-gray-800 dark:shadow-gray-900 shadow-inner",green:"text-green-900 bg-green-400 dark:bg-green-500 shadow-green-700 dark:shadow-green-800 shadow-inner",light:"text-gray-900 bg-gray-100 border border-gray-300 dark:bg-gray-500 dark:text-gray-900 dark:border-gray-700 shadow-gray-300 dark:shadow-gray-700 shadow-inner",primary:"text-primary-900 bg-primary-400 dark:bg-primary-500 shadow-primary-700 dark:shadow-primary-800 shadow-inner",purple:"text-purple-900 bg-purple-400 dark:bg-purple-500 shadow-purple-700 dark:shadow-purple-800 shadow-inner",red:"text-red-900 bg-red-400 dark:bg-red-500 shadow-red-700 dark:shadow-red-800 shadow-inner",yellow:"text-yellow-900 bg-yellow-300 dark:bg-yellow-400 shadow-yellow-500 dark:shadow-yellow-700 shadow-inner",none:""},p={alternative:"focus-within:ring-gray-200 dark:focus-within:ring-gray-700",blue:"focus-within:ring-blue-300 dark:focus-within:ring-blue-800",dark:"focus-within:ring-gray-300 dark:focus-within:ring-gray-700",green:"focus-within:ring-green-300 dark:focus-within:ring-green-800",light:"focus-within:ring-gray-200 dark:focus-within:ring-gray-700",primary:"focus-within:ring-primary-300 dark:focus-within:ring-primary-800",purple:"focus-within:ring-purple-300 dark:focus-within:ring-purple-900",red:"focus-within:ring-red-300 dark:focus-within:ring-red-900",yellow:"focus-within:ring-yellow-300 dark:focus-within:ring-yellow-900",none:""},_={alternative:"shadow-gray-500/50 dark:shadow-gray-800/80",blue:"shadow-blue-500/50 dark:shadow-blue-800/80",dark:"shadow-gray-500/50 dark:shadow-gray-800/80",green:"shadow-green-500/50 dark:shadow-green-800/80",light:"shadow-gray-500/50 dark:shadow-gray-800/80",primary:"shadow-primary-500/50 dark:shadow-primary-800/80",purple:"shadow-purple-500/50 dark:shadow-purple-800/80",red:"shadow-red-500/50 dark:shadow-red-800/80 ",yellow:"shadow-yellow-500/50 dark:shadow-yellow-800/80 ",none:""},b={alternative:"text-gray-900 dark:text-gray-400 hover:text-white border border-gray-800 hover:bg-gray-900 focus-within:bg-gray-900 focus-within:text-white focus-within:ring-gray-300 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600 dark:focus-within:ring-gray-800",blue:"text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-600",dark:"text-gray-900 hover:text-white border border-gray-800 hover:bg-gray-900 focus-within:bg-gray-900 focus-within:text-white dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600",green:"text-green-700 hover:text-white border border-green-700 hover:bg-green-800 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600",light:"text-gray-500 hover:text-gray-900 bg-white border border-gray-200 dark:border-gray-600 dark:hover:text-white dark:text-gray-400 hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600",primary:"text-primary-700 hover:text-white border border-primary-700 hover:bg-primary-700 dark:border-primary-500 dark:text-primary-500 dark:hover:text-white dark:hover:bg-primary-600",purple:"text-purple-700 hover:text-white border border-purple-700 hover:bg-purple-800 dark:border-purple-400 dark:text-purple-400 dark:hover:text-white dark:hover:bg-purple-500",red:"text-red-700 hover:text-white border border-red-700 hover:bg-red-800 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600",yellow:"text-yellow-400 hover:text-white border border-yellow-400 hover:bg-yellow-500 dark:border-yellow-300 dark:text-yellow-300 dark:hover:text-white dark:hover:bg-yellow-400",none:""},y={xs:"px-3 py-2 text-xs",sm:"px-4 py-2 text-sm",md:"px-5 py-2.5 text-sm",lg:"px-5 py-3 text-base",xl:"px-6 py-3.5 text-base"},M=()=>h||c==="alternative"||c==="light";let P;function E(w){U.call(this,i,w)}function A(w){U.call(this,i,w)}function T(w){U.call(this,i,w)}function S(w){U.call(this,i,w)}function N(w){U.call(this,i,w)}function D(w){U.call(this,i,w)}function L(w){U.call(this,i,w)}function B(w){U.call(this,i,w)}function Y(w){U.call(this,i,w)}function ne(w){U.call(this,i,w)}function H(w){U.call(this,i,w)}function W(w){U.call(this,i,w)}function K(w){U.call(this,i,w)}function le(w){U.call(this,i,w)}function j(w){U.call(this,i,w)}function V(w){U.call(this,i,w)}function ye(w){U.call(this,i,w)}function Ee(w){U.call(this,i,w)}return i.$$set=w=>{t(39,e=X(X({},e),de(w))),t(4,n=he(e,r)),"pill"in w&&t(5,l=w.pill),"outline"in w&&t(6,h=w.outline),"size"in w&&t(7,d=w.size),"href"in w&&t(0,u=w.href),"type"in w&&t(1,f=w.type),"color"in w&&t(8,c=w.color),"shadow"in w&&t(9,g=w.shadow),"tag"in w&&t(2,m=w.tag),"checked"in w&&t(10,v=w.checked),"$$scope"in w&&t(11,s=w.$$scope)},i.$$.update=()=>{t(3,P=ce("text-center font-medium",o?"focus-within:ring-2":"focus-within:ring-4",o&&"focus-within:z-10",o||"focus-within:outline-none","inline-flex items-center justify-center "+y[d],h&&v&&"border dark:border-gray-900",h&&v&&C[c],h&&!v&&b[c],!h&&v&&C[c],!h&&!v&&k[c],c==="alternative"&&(o&&!v?"dark:bg-gray-700 dark:text-white dark:border-gray-700 dark:hover:border-gray-600 dark:hover:bg-gray-600":"dark:bg-transparent dark:border-gray-600 dark:hover:border-gray-700"),h&&c==="dark"&&(o?v?"bg-gray-900 border-gray-800 dark:border-white dark:bg-gray-600":"dark:text-white border-gray-800 dark:border-white":"dark:text-gray-400 dark:border-gray-700"),p[c],M()&&o&&"border-s-0 first:border-s",o?l&&"first:rounded-s-full last:rounded-e-full"||"first:rounded-s-lg last:rounded-e-lg":l&&"rounded-full"||"rounded-lg",g&&"shadow-lg",g&&_[c],e.disabled&&"cursor-not-allowed opacity-50",e.class))},e=de(e),[u,f,m,P,n,l,h,d,c,g,v,s,a,E,A,T,S,N,D,L,B,Y,ne,H,W,K,le,j,V,ye,Ee]}class Rt extends Ce{constructor(e){super(),Se(this,e,Xl,Yl,ge,{pill:5,outline:6,size:7,href:0,type:1,color:8,shadow:9,tag:2,checked:10},null,[-1,-1])}}const wr=Math.min,er=Math.max,mi=Math.round,ai=Math.floor,zt=i=>({x:i,y:i}),Kl={left:"right",right:"left",bottom:"top",top:"bottom"},ql={start:"end",end:"start"};function In(i,e,t){return er(i,wr(e,t))}function Xr(i,e){return typeof i=="function"?i(e):i}function rr(i){return i.split("-")[0]}function Kr(i){return i.split("-")[1]}function $s(i){return i==="x"?"y":"x"}function Jn(i){return i==="y"?"height":"width"}function Ci(i){return["top","bottom"].includes(rr(i))?"y":"x"}function Zn(i){return $s(Ci(i))}function Ql(i,e,t){t===void 0&&(t=!1);const r=Kr(i),n=Zn(i),a=Jn(n);let s=n==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=pi(s)),[s,pi(s)]}function Jl(i){const e=pi(i);return[Un(i),e,Un(e)]}function Un(i){return i.replace(/start|end/g,e=>ql[e])}function Zl(i,e,t){const r=["left","right"],n=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(i){case"top":case"bottom":return t?e?n:r:e?r:n;case"left":case"right":return e?a:s;default:return[]}}function $l(i,e,t,r){const n=Kr(i);let a=Zl(rr(i),t==="start",r);return n&&(a=a.map(s=>s+"-"+n),e&&(a=a.concat(a.map(Un)))),a}function pi(i){return i.replace(/left|right|bottom|top/g,e=>Kl[e])}function eh(i){return{top:0,right:0,bottom:0,left:0,...i}}function eo(i){return typeof i!="number"?eh(i):{top:i,right:i,bottom:i,left:i}}function _i(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}function Aa(i,e,t){let{reference:r,floating:n}=i;const a=Ci(e),s=Zn(e),o=Jn(s),l=rr(e),h=a==="y",d=r.x+r.width/2-n.width/2,u=r.y+r.height/2-n.height/2,f=r[o]/2-n[o]/2;let c;switch(l){case"top":c={x:d,y:r.y-n.height};break;case"bottom":c={x:d,y:r.y+r.height};break;case"right":c={x:r.x+r.width,y:u};break;case"left":c={x:r.x-n.width,y:u};break;default:c={x:r.x,y:r.y}}switch(Kr(e)){case"start":c[s]-=f*(t&&h?-1:1);break;case"end":c[s]+=f*(t&&h?-1:1);break}return c}const th=async(i,e,t)=>{const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:s}=t,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let h=await s.getElementRects({reference:i,floating:e,strategy:n}),{x:d,y:u}=Aa(h,r,l),f=r,c={},g=0;for(let m=0;m<o.length;m++){const{name:v,fn:k}=o[m],{x:C,y:p,data:_,reset:b}=await k({x:d,y:u,initialPlacement:r,placement:f,strategy:n,middlewareData:c,rects:h,platform:s,elements:{reference:i,floating:e}});if(d=C??d,u=p??u,c={...c,[v]:{...c[v],..._}},b&&g<=50){g++,typeof b=="object"&&(b.placement&&(f=b.placement),b.rects&&(h=b.rects===!0?await s.getElementRects({reference:i,floating:e,strategy:n}):b.rects),{x:d,y:u}=Aa(h,f,l)),m=-1;continue}}return{x:d,y:u,placement:f,strategy:n,middlewareData:c}};async function to(i,e){var t;e===void 0&&(e={});const{x:r,y:n,platform:a,rects:s,elements:o,strategy:l}=i,{boundary:h="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:c=0}=Xr(e,i),g=eo(c),v=o[f?u==="floating"?"reference":"floating":u],k=_i(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(v)))==null||t?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:h,rootBoundary:d,strategy:l})),C=u==="floating"?{...s.floating,x:r,y:n}:s.reference,p=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),_=await(a.isElement==null?void 0:a.isElement(p))?await(a.getScale==null?void 0:a.getScale(p))||{x:1,y:1}:{x:1,y:1},b=_i(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:C,offsetParent:p,strategy:l}):C);return{top:(k.top-b.top+g.top)/_.y,bottom:(b.bottom-k.bottom+g.bottom)/_.y,left:(k.left-b.left+g.left)/_.x,right:(b.right-k.right+g.right)/_.x}}const rh=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:r,placement:n,rects:a,platform:s,elements:o,middlewareData:l}=e,{element:h,padding:d=0}=Xr(i,e)||{};if(h==null)return{};const u=eo(d),f={x:t,y:r},c=Zn(n),g=Jn(c),m=await s.getDimensions(h),v=c==="y",k=v?"top":"left",C=v?"bottom":"right",p=v?"clientHeight":"clientWidth",_=a.reference[g]+a.reference[c]-f[c]-a.floating[g],b=f[c]-a.reference[c],y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(h));let M=y?y[p]:0;(!M||!await(s.isElement==null?void 0:s.isElement(y)))&&(M=o.floating[p]||a.floating[g]);const P=_/2-b/2,E=M/2-m[g]/2-1,A=wr(u[k],E),T=wr(u[C],E),S=A,N=M-m[g]-T,D=M/2-m[g]/2+P,L=In(S,D,N),B=!l.arrow&&Kr(n)!=null&&D!=L&&a.reference[g]/2-(D<S?A:T)-m[g]/2<0,Y=B?D<S?D-S:D-N:0;return{[c]:f[c]+Y,data:{[c]:L,centerOffset:D-L-Y,...B&&{alignmentOffset:Y}},reset:B}}}),ih=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,r;const{placement:n,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:h}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:c="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=Xr(i,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const k=rr(n),C=rr(o)===o,p=await(l.isRTL==null?void 0:l.isRTL(h.floating)),_=f||(C||!m?[pi(o)]:Jl(o));!f&&g!=="none"&&_.push(...$l(o,m,g,p));const b=[o,..._],y=await to(e,v),M=[];let P=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&M.push(y[k]),u){const S=Ql(n,s,p);M.push(y[S[0]],y[S[1]])}if(P=[...P,{placement:n,overflows:M}],!M.every(S=>S<=0)){var E,A;const S=(((E=a.flip)==null?void 0:E.index)||0)+1,N=b[S];if(N)return{data:{index:S,overflows:P},reset:{placement:N}};let D=(A=P.filter(L=>L.overflows[0]<=0).sort((L,B)=>L.overflows[1]-B.overflows[1])[0])==null?void 0:A.placement;if(!D)switch(c){case"bestFit":{var T;const L=(T=P.map(B=>[B.placement,B.overflows.filter(Y=>Y>0).reduce((Y,ne)=>Y+ne,0)]).sort((B,Y)=>B[1]-Y[1])[0])==null?void 0:T[0];L&&(D=L);break}case"initialPlacement":D=o;break}if(n!==D)return{reset:{placement:D}}}return{}}}};async function nh(i,e){const{placement:t,platform:r,elements:n}=i,a=await(r.isRTL==null?void 0:r.isRTL(n.floating)),s=rr(t),o=Kr(t),l=Ci(t)==="y",h=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,u=Xr(e,i);let{mainAxis:f,crossAxis:c,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return o&&typeof g=="number"&&(c=o==="end"?g*-1:g),l?{x:c*d,y:f*h}:{x:f*h,y:c*d}}const ah=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,r;const{x:n,y:a,placement:s,middlewareData:o}=e,l=await nh(e,i);return s===((t=o.offset)==null?void 0:t.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:n+l.x,y:a+l.y,data:{...l,placement:s}}}}},sh=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:t,y:r,placement:n}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x:k,y:C}=v;return{x:k,y:C}}},...l}=Xr(i,e),h={x:t,y:r},d=await to(e,l),u=Ci(rr(n)),f=$s(u);let c=h[f],g=h[u];if(a){const v=f==="y"?"top":"left",k=f==="y"?"bottom":"right",C=c+d[v],p=c-d[k];c=In(C,c,p)}if(s){const v=u==="y"?"top":"left",k=u==="y"?"bottom":"right",C=g+d[v],p=g-d[k];g=In(C,g,p)}const m=o.fn({...e,[f]:c,[u]:g});return{...m,data:{x:m.x-t,y:m.y-r}}}}};function Bt(i){return ro(i)?(i.nodeName||"").toLowerCase():"#document"}function rt(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function Nt(i){var e;return(e=(ro(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function ro(i){return i instanceof Node||i instanceof rt(i).Node}function Mt(i){return i instanceof Element||i instanceof rt(i).Element}function mt(i){return i instanceof HTMLElement||i instanceof rt(i).HTMLElement}function Ra(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof rt(i).ShadowRoot}function qr(i){const{overflow:e,overflowX:t,overflowY:r,display:n}=lt(i);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(n)}function oh(i){return["table","td","th"].includes(Bt(i))}function $n(i){const e=ea(),t=lt(i);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function lh(i){let e=kr(i);for(;mt(e)&&!Si(e);){if($n(e))return e;e=kr(e)}return null}function ea(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Si(i){return["html","body","#document"].includes(Bt(i))}function lt(i){return rt(i).getComputedStyle(i)}function Pi(i){return Mt(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function kr(i){if(Bt(i)==="html")return i;const e=i.assignedSlot||i.parentNode||Ra(i)&&i.host||Nt(i);return Ra(e)?e.host:e}function io(i){const e=kr(i);return Si(e)?i.ownerDocument?i.ownerDocument.body:i.body:mt(e)&&qr(e)?e:io(e)}function Br(i,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const n=io(i),a=n===((r=i.ownerDocument)==null?void 0:r.body),s=rt(n);return a?e.concat(s,s.visualViewport||[],qr(n)?n:[],s.frameElement&&t?Br(s.frameElement):[]):e.concat(n,Br(n,[],t))}function no(i){const e=lt(i);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const n=mt(i),a=n?i.offsetWidth:t,s=n?i.offsetHeight:r,o=mi(t)!==a||mi(r)!==s;return o&&(t=a,r=s),{width:t,height:r,$:o}}function ta(i){return Mt(i)?i:i.contextElement}function br(i){const e=ta(i);if(!mt(e))return zt(1);const t=e.getBoundingClientRect(),{width:r,height:n,$:a}=no(e);let s=(a?mi(t.width):t.width)/r,o=(a?mi(t.height):t.height)/n;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const hh=zt(0);function ao(i){const e=rt(i);return!ea()||!e.visualViewport?hh:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dh(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==rt(i)?!1:e}function ir(i,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const n=i.getBoundingClientRect(),a=ta(i);let s=zt(1);e&&(r?Mt(r)&&(s=br(r)):s=br(i));const o=dh(a,t,r)?ao(a):zt(0);let l=(n.left+o.x)/s.x,h=(n.top+o.y)/s.y,d=n.width/s.x,u=n.height/s.y;if(a){const f=rt(a),c=r&&Mt(r)?rt(r):r;let g=f.frameElement;for(;g&&r&&c!==f;){const m=br(g),v=g.getBoundingClientRect(),k=lt(g),C=v.left+(g.clientLeft+parseFloat(k.paddingLeft))*m.x,p=v.top+(g.clientTop+parseFloat(k.paddingTop))*m.y;l*=m.x,h*=m.y,d*=m.x,u*=m.y,l+=C,h+=p,g=rt(g).frameElement}}return _i({width:d,height:u,x:l,y:h})}function ch(i){let{rect:e,offsetParent:t,strategy:r}=i;const n=mt(t),a=Nt(t);if(t===a)return e;let s={scrollLeft:0,scrollTop:0},o=zt(1);const l=zt(0);if((n||!n&&r!=="fixed")&&((Bt(t)!=="body"||qr(a))&&(s=Pi(t)),mt(t))){const h=ir(t);o=br(t),l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}return{width:e.width*o.x,height:e.height*o.y,x:e.x*o.x-s.scrollLeft*o.x+l.x,y:e.y*o.y-s.scrollTop*o.y+l.y}}function uh(i){return Array.from(i.getClientRects())}function so(i){return ir(Nt(i)).left+Pi(i).scrollLeft}function fh(i){const e=Nt(i),t=Pi(i),r=i.ownerDocument.body,n=er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+so(i);const o=-t.scrollTop;return lt(r).direction==="rtl"&&(s+=er(e.clientWidth,r.clientWidth)-n),{width:n,height:a,x:s,y:o}}function gh(i,e){const t=rt(i),r=Nt(i),n=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(n){a=n.width,s=n.height;const h=ea();(!h||h&&e==="fixed")&&(o=n.offsetLeft,l=n.offsetTop)}return{width:a,height:s,x:o,y:l}}function mh(i,e){const t=ir(i,!0,e==="fixed"),r=t.top+i.clientTop,n=t.left+i.clientLeft,a=mt(i)?br(i):zt(1),s=i.clientWidth*a.x,o=i.clientHeight*a.y,l=n*a.x,h=r*a.y;return{width:s,height:o,x:l,y:h}}function Ma(i,e,t){let r;if(e==="viewport")r=gh(i,t);else if(e==="document")r=fh(Nt(i));else if(Mt(e))r=mh(e,t);else{const n=ao(i);r={...e,x:e.x-n.x,y:e.y-n.y}}return _i(r)}function oo(i,e){const t=kr(i);return t===e||!Mt(t)||Si(t)?!1:lt(t).position==="fixed"||oo(t,e)}function ph(i,e){const t=e.get(i);if(t)return t;let r=Br(i,[],!1).filter(o=>Mt(o)&&Bt(o)!=="body"),n=null;const a=lt(i).position==="fixed";let s=a?kr(i):i;for(;Mt(s)&&!Si(s);){const o=lt(s),l=$n(s);!l&&o.position==="fixed"&&(n=null),(a?!l&&!n:!l&&o.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||qr(s)&&!l&&oo(i,s))?r=r.filter(d=>d!==s):n=o,s=kr(s)}return e.set(i,r),r}function _h(i){let{element:e,boundary:t,rootBoundary:r,strategy:n}=i;const s=[...t==="clippingAncestors"?ph(e,this._c):[].concat(t),r],o=s[0],l=s.reduce((h,d)=>{const u=Ma(e,d,n);return h.top=er(u.top,h.top),h.right=wr(u.right,h.right),h.bottom=wr(u.bottom,h.bottom),h.left=er(u.left,h.left),h},Ma(e,o,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function vh(i){return no(i)}function bh(i,e,t){const r=mt(e),n=Nt(e),a=t==="fixed",s=ir(i,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=zt(0);if(r||!r&&!a)if((Bt(e)!=="body"||qr(n))&&(o=Pi(e)),r){const h=ir(e,!0,a,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else n&&(l.x=so(n));return{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function Fa(i,e){return!mt(i)||lt(i).position==="fixed"?null:e?e(i):i.offsetParent}function lo(i,e){const t=rt(i);if(!mt(i))return t;let r=Fa(i,e);for(;r&&oh(r)&&lt(r).position==="static";)r=Fa(r,e);return r&&(Bt(r)==="html"||Bt(r)==="body"&&lt(r).position==="static"&&!$n(r))?t:r||lh(i)||t}const yh=async function(i){let{reference:e,floating:t,strategy:r}=i;const n=this.getOffsetParent||lo,a=this.getDimensions;return{reference:bh(e,await n(t),r),floating:{x:0,y:0,...await a(t)}}};function wh(i){return lt(i).direction==="rtl"}const kh={convertOffsetParentRelativeRectToViewportRelativeRect:ch,getDocumentElement:Nt,getClippingRect:_h,getOffsetParent:lo,getElementRects:yh,getClientRects:uh,getDimensions:vh,getScale:br,isElement:Mt,isRTL:wh};function Ch(i,e){let t=null,r;const n=Nt(i);function a(){clearTimeout(r),t&&t.disconnect(),t=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:h,top:d,width:u,height:f}=i.getBoundingClientRect();if(o||e(),!u||!f)return;const c=ai(d),g=ai(n.clientWidth-(h+u)),m=ai(n.clientHeight-(d+f)),v=ai(h),C={rootMargin:-c+"px "+-g+"px "+-m+"px "+-v+"px",threshold:er(0,wr(1,l))||1};let p=!0;function _(b){const y=b[0].intersectionRatio;if(y!==l){if(!p)return s();y?s(!1,y):r=setTimeout(()=>{s(!1,1e-7)},100)}p=!1}try{t=new IntersectionObserver(_,{...C,root:n.ownerDocument})}catch{t=new IntersectionObserver(_,C)}t.observe(i)}return s(!0),a}function Na(i,e,t,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,h=ta(i),d=n||a?[...h?Br(h):[],...Br(e)]:[];d.forEach(k=>{n&&k.addEventListener("scroll",t,{passive:!0}),a&&k.addEventListener("resize",t)});const u=h&&o?Ch(h,t):null;let f=-1,c=null;s&&(c=new ResizeObserver(k=>{let[C]=k;C&&C.target===h&&c&&(c.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{c&&c.observe(e)})),t()}),h&&!l&&c.observe(h),c.observe(e));let g,m=l?ir(i):null;l&&v();function v(){const k=ir(i);m&&(k.x!==m.x||k.y!==m.y||k.width!==m.width||k.height!==m.height)&&t(),m=k,g=requestAnimationFrame(v)}return t(),()=>{d.forEach(k=>{n&&k.removeEventListener("scroll",t),a&&k.removeEventListener("resize",t)}),u&&u(),c&&c.disconnect(),c=null,l&&cancelAnimationFrame(g)}}const Sh=(i,e,t)=>{const r=new Map,n={platform:kh,...t},a={...n.platform,_c:r};return th(i,e,{...n,platform:a})};function Oa(i){let e;return{c(){e=$("div")},l(t){e=ee(t,"DIV",{}),te(e).forEach(R)},m(t,r){G(t,e,r),i[23](e)},p:it,d(t){t&&R(e),i[23](null)}}}function La(i){let e,t;const r=[{use:i[9]},{options:i[3]},{role:"tooltip"},{tabindex:i[1]?-1:void 0},i[11]];let n={$$slots:{default:[Ph]},$$scope:{ctx:i}};for(let a=0;a<r.length;a+=1)n=X(n,r[a]);return e=new Rr({props:n}),e.$on("focusin",function(){vr(Ut(i[1],i[7]))&&Ut(i[1],i[7]).apply(this,arguments)}),e.$on("focusout",function(){vr(Ut(i[1],i[8]))&&Ut(i[1],i[8]).apply(this,arguments)}),e.$on("mouseenter",function(){vr(Ut(i[1]&&!i[4],i[7]))&&Ut(i[1]&&!i[4],i[7]).apply(this,arguments)}),e.$on("mouseleave",function(){vr(Ut(i[1]&&!i[4],i[8]))&&Ut(i[1]&&!i[4],i[8]).apply(this,arguments)}),{c(){q(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,s){J(e,a,s),t=!0},p(a,s){i=a;const o=s[0]&2570?De(r,[s[0]&512&&{use:i[9]},s[0]&8&&{options:i[3]},r[2],s[0]&2&&{tabindex:i[1]?-1:void 0},s[0]&2048&&sr(i[11])]):{};s[0]&16777284&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){O(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}function Ga(i){let e,t,r;return{c(){e=$("div"),this.h()},l(n){e=ee(n,"DIV",{class:!0}),te(e).forEach(R),this.h()},h(){z(e,"class",i[6])},m(n,a){G(n,e,a),t||(r=zr(i[10].call(null,e)),t=!0)},p(n,a){a[0]&64&&z(e,"class",n[6])},d(n){n&&R(e),t=!1,r()}}}function Ph(i){let e,t,r;const n=i[22].default,a=Re(n,i,i[24],null);let s=i[2]&&Ga(i);return{c(){a&&a.c(),e=ae(),s&&s.c(),t=pe()},l(o){a&&a.l(o),e=se(o),s&&s.l(o),t=pe()},m(o,l){a&&a.m(o,l),G(o,e,l),s&&s.m(o,l),G(o,t,l),r=!0},p(o,l){a&&a.p&&(!r||l[0]&16777216)&&Me(a,n,o,o[24],r?Ne(n,o[24],l,null):Fe(o[24]),null),o[2]?s?s.p(o,l):(s=Ga(o),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i(o){r||(F(a,o),r=!0)},o(o){O(a,o),r=!1},d(o){o&&(R(e),R(t)),a&&a.d(o),s&&s.d(o)}}}function Eh(i){let e,t,r,n=!i[3]&&Oa(i),a=i[0]&&i[3]&&La(i);return{c(){n&&n.c(),e=ae(),a&&a.c(),t=pe()},l(s){n&&n.l(s),e=se(s),a&&a.l(s),t=pe()},m(s,o){n&&n.m(s,o),G(s,e,o),a&&a.m(s,o),G(s,t,o),r=!0},p(s,o){s[3]?n&&(n.d(1),n=null):n?n.p(s,o):(n=Oa(s),n.c(),n.m(e.parentNode,e)),s[0]&&s[3]?a?(a.p(s,o),o[0]&9&&F(a,1)):(a=La(s),a.c(),F(a,1),a.m(t.parentNode,t)):a&&(je(),O(a,1,1,()=>{a=null}),Ye())},i(s){r||(F(a),r=!0)},o(s){O(a),r=!1},d(s){s&&(R(e),R(t)),n&&n.d(s),a&&a.d(s)}}}function Ut(i,e){return i?e:()=>{}}function Th(i,e,t){let r;const n=["activeContent","arrow","offset","placement","trigger","triggeredBy","reference","strategy","open","yOnly","middlewares"];let a=he(e,n),{$$slots:s={},$$scope:o}=e,{activeContent:l=!1}=e,{arrow:h=!0}=e,{offset:d=8}=e,{placement:u="top"}=e,{trigger:f="hover"}=e,{triggeredBy:c=void 0}=e,{reference:g=void 0}=e,{strategy:m="absolute"}=e,{open:v=!1}=e,{yOnly:k=!1}=e,{middlewares:C=[ih(),sh()]}=e;const p=ar();let _,b,y,M,P,E=[],A=!1;const T=()=>(A=!0,setTimeout(()=>A=!1,250)),S=V=>{b===void 0&&console.error("trigger undefined"),!g&&E.includes(V.target)&&b!==V.target&&(t(3,b=V.target),T()),_&&V.type==="focusin"&&!v&&T(),t(0,v=_&&V.type==="click"&&!A?!v:!0)},N=V=>V.matches(":hover"),D=V=>V.contains(document.activeElement),L=V=>V!=null?`${V}px`:"",B=V=>{l?setTimeout(()=>{const ye=[b,y,...E].filter(Boolean);V.type==="mouseleave"&&ye.some(N)||V.type==="focusout"&&ye.some(D)||t(0,v=!1)},100):t(0,v=!1)};let Y;const ne={left:"right",right:"left",bottom:"top",top:"bottom"};function H(){Sh(b,y,{placement:u,strategy:m,middleware:r}).then(({x:V,y:ye,middlewareData:Ee,placement:w,strategy:x})=>{y.style.position=x,y.style.left=k?"0":L(V),y.style.top=L(ye),Ee.arrow&&M instanceof HTMLDivElement&&(t(20,M.style.left=L(Ee.arrow.x),M),t(20,M.style.top=L(Ee.arrow.y),M),t(21,Y=ne[w.split("-")[0]]),t(20,M.style[Y]=L(-M.offsetWidth/2-(e.border?1:0)),M))})}function W(V,ye){y=V;let Ee=Na(ye,y,H);return{update(w){Ee(),Ee=Na(w,y,H)},destroy(){Ee()}}}Wt(()=>{const V=[["focusin",S,!0],["focusout",B,!0],["click",S,_],["mouseenter",S,!_],["mouseleave",B,!_]];return c?E=[...document.querySelectorAll(c)]:E=P.previousElementSibling?[P.previousElementSibling]:[],E.length||console.error("No triggers found."),E.forEach(ye=>{ye.tabIndex<0&&(ye.tabIndex=0);for(const[Ee,w,x]of V)x&&ye.addEventListener(Ee,w)}),g?(t(3,b=document.querySelector(g)??document.body),b===document.body?console.error(`Popup reference not found: '${g}'`):(b.addEventListener("focusout",B),_||b.addEventListener("mouseleave",B))):t(3,b=E[0]),()=>{E.forEach(ye=>{if(ye)for(const[Ee,w]of V)ye.removeEventListener(Ee,w)}),b&&(b.removeEventListener("focusout",B),b.removeEventListener("mouseleave",B))}});let K;function le(V){return t(20,M=V),{destroy(){t(20,M=null)}}}function j(V){We[V?"unshift":"push"](()=>{P=V,t(5,P)})}return i.$$set=V=>{t(36,e=X(X({},e),de(V))),t(11,a=he(e,n)),"activeContent"in V&&t(1,l=V.activeContent),"arrow"in V&&t(2,h=V.arrow),"offset"in V&&t(12,d=V.offset),"placement"in V&&t(13,u=V.placement),"trigger"in V&&t(14,f=V.trigger),"triggeredBy"in V&&t(15,c=V.triggeredBy),"reference"in V&&t(16,g=V.reference),"strategy"in V&&t(17,m=V.strategy),"open"in V&&t(0,v=V.open),"yOnly"in V&&t(18,k=V.yOnly),"middlewares"in V&&t(19,C=V.middlewares),"$$scope"in V&&t(24,o=V.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&16384&&t(4,_=f==="click"),i.$$.dirty[0]&1&&p("show",v),i.$$.dirty[0]&8200&&u&&(t(3,b),t(13,u)),i.$$.dirty[0]&1576960&&(r=[...C,ah(+d),M&&rh({element:M,padding:10})]),t(6,K=Xs("absolute pointer-events-none block w-[10px] h-[10px] rotate-45 bg-inherit border-inherit",e.border&&Y==="bottom"&&"border-b border-e",e.border&&Y==="top"&&"border-t border-s ",e.border&&Y==="right"&&"border-t border-e ",e.border&&Y==="left"&&"border-b border-s "))},e=de(e),[v,l,h,b,_,P,K,S,B,W,le,a,d,u,f,c,g,m,k,C,M,Y,s,j,o]}class Ah extends Ce{constructor(e){super(),Se(this,e,Th,Eh,ge,{activeContent:1,arrow:2,offset:12,placement:13,trigger:14,triggeredBy:15,reference:16,strategy:17,open:0,yOnly:18,middlewares:19},null,[-1,-1])}}const Rh=i=>({}),Da=i=>({}),Mh=i=>({}),xa=i=>({});function Ia(i){let e,t;const r=i[12].header,n=Re(r,i,i[15],xa);return{c(){e=$("div"),n&&n.c(),this.h()},l(a){e=ee(a,"DIV",{class:!0});var s=te(e);n&&n.l(s),s.forEach(R),this.h()},h(){z(e,"class",i[2])},m(a,s){G(a,e,s),n&&n.m(e,null),t=!0},p(a,s){n&&n.p&&(!t||s&32768)&&Me(n,r,a,a[15],t?Ne(r,a[15],s,Mh):Fe(a[15]),xa)},i(a){t||(F(n,a),t=!0)},o(a){O(n,a),t=!1},d(a){a&&R(e),n&&n.d(a)}}}function Ua(i){let e,t;const r=i[12].footer,n=Re(r,i,i[15],Da);return{c(){e=$("div"),n&&n.c(),this.h()},l(a){e=ee(a,"DIV",{class:!0});var s=te(e);n&&n.l(s),s.forEach(R),this.h()},h(){z(e,"class",i[4])},m(a,s){G(a,e,s),n&&n.m(e,null),t=!0},p(a,s){n&&n.p&&(!t||s&32768)&&Me(n,r,a,a[15],t?Ne(r,a[15],s,Rh):Fe(a[15]),Da)},i(a){t||(F(n,a),t=!0)},o(a){O(n,a),t=!1},d(a){a&&R(e),n&&n.d(a)}}}function Fh(i){let e,t,r,n,a,s=i[6].header&&Ia(i);const o=i[12].default,l=Re(o,i,i[15],null);let h=i[6].footer&&Ua(i);return{c(){s&&s.c(),e=ae(),t=$("ul"),l&&l.c(),r=ae(),h&&h.c(),n=pe(),this.h()},l(d){s&&s.l(d),e=se(d),t=ee(d,"UL",{class:!0});var u=te(t);l&&l.l(u),u.forEach(R),r=se(d),h&&h.l(d),n=pe(),this.h()},h(){z(t,"class",i[3])},m(d,u){s&&s.m(d,u),G(d,e,u),G(d,t,u),l&&l.m(t,null),G(d,r,u),h&&h.m(d,u),G(d,n,u),a=!0},p(d,u){d[6].header?s?(s.p(d,u),u&64&&F(s,1)):(s=Ia(d),s.c(),F(s,1),s.m(e.parentNode,e)):s&&(je(),O(s,1,1,()=>{s=null}),Ye()),l&&l.p&&(!a||u&32768)&&Me(l,o,d,d[15],a?Ne(o,d[15],u,null):Fe(d[15]),null),d[6].footer?h?(h.p(d,u),u&64&&F(h,1)):(h=Ua(d),h.c(),F(h,1),h.m(n.parentNode,n)):h&&(je(),O(h,1,1,()=>{h=null}),Ye())},i(d){a||(F(s),F(l,d),F(h),a=!0)},o(d){O(s),O(l,d),O(h),a=!1},d(d){d&&(R(e),R(t),R(r),R(n)),s&&s.d(d),l&&l.d(d),h&&h.d(d)}}}function Nh(i){let e,t,r;const n=[{activeContent:!0},i[5],{class:i[1]}];function a(o){i[13](o)}let s={$$slots:{default:[Fh]},$$scope:{ctx:i}};for(let o=0;o<n.length;o+=1)s=X(s,n[o]);return i[0]!==void 0&&(s.open=i[0]),e=new Ah({props:s}),We.push(()=>ot(e,"open",a)),e.$on("show",i[14]),{c(){q(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,l){J(e,o,l),r=!0},p(o,[l]){const h=l&34?De(n,[n[0],l&32&&sr(o[5]),l&2&&{class:o[1]}]):{};l&32832&&(h.$$scope={dirty:l,ctx:o}),!t&&l&1&&(t=!0,h.open=o[0],st(()=>t=!1)),e.$set(h)},i(o){r||(F(e.$$.fragment,o),r=!0)},o(o){O(e.$$.fragment,o),r=!1},d(o){Z(e,o)}}}function Oh(i,e,t){const r=["activeUrl","open","containerClass","headerClass","footerClass","activeClass"];let n=he(e,r),{$$slots:a={},$$scope:s}=e;const o=qn(a),l=Tr("");let{activeUrl:h=""}=e,{open:d=!1}=e,{containerClass:u="divide-y z-50"}=e,{headerClass:f="py-1 overflow-hidden rounded-t-lg"}=e,{footerClass:c="py-1 overflow-hidden rounded-b-lg"}=e,{activeClass:g="text-primary-700 dark:text-primary-700 hover:text-primary-900 dark:hover:text-primary-900"}=e,m=ce(g,e.classActive);Et("DropdownType",{activeClass:m}),Et("activeUrl",l);let v=ce(u,e.classContainer),k=ce(f,e.classHeader),C=ce("py-1",e.class),p=ce(c,e.classFooter);function _(y){d=y,t(0,d)}function b(y){U.call(this,i,y)}return i.$$set=y=>{t(18,e=X(X({},e),de(y))),t(5,n=he(e,r)),"activeUrl"in y&&t(7,h=y.activeUrl),"open"in y&&t(0,d=y.open),"containerClass"in y&&t(8,u=y.containerClass),"headerClass"in y&&t(9,f=y.headerClass),"footerClass"in y&&t(10,c=y.footerClass),"activeClass"in y&&t(11,g=y.activeClass),"$$scope"in y&&t(15,s=y.$$scope)},i.$$.update=()=>{i.$$.dirty&128&&l.set(h),t(5,n.arrow=n.arrow??!1,n),t(5,n.trigger=n.trigger??"click",n),t(5,n.placement=n.placement??"bottom",n),t(5,n.color=n.color??"dropdown",n),t(5,n.shadow=n.shadow??!0,n),t(5,n.rounded=n.rounded??!0,n)},e=de(e),[d,v,k,C,p,n,o,h,u,f,c,g,a,_,b,s]}class Lh extends Ce{constructor(e){super(),Se(this,e,Oh,Nh,ge,{activeUrl:7,open:0,containerClass:8,headerClass:9,footerClass:10,activeClass:11})}}function Gh(i){let e,t,r=[i[1],{class:t=ce(i[0],i[2].class)}],n={};for(let a=0;a<r.length;a+=1)n=X(n,r[a]);return{c(){e=$("div"),this.h()},l(a){e=ee(a,"DIV",{class:!0}),te(e).forEach(R),this.h()},h(){Ie(e,n)},m(a,s){G(a,e,s)},p(a,[s]){Ie(e,n=De(r,[s&2&&a[1],s&5&&t!==(t=ce(a[0],a[2].class))&&{class:t}]))},i:it,o:it,d(a){a&&R(e)}}}function Dh(i,e,t){const r=["divClass"];let n=he(e,r),{divClass:a="my-1 h-px bg-gray-100 dark:bg-gray-600"}=e;return i.$$set=s=>{t(2,e=X(X({},e),de(s))),t(1,n=he(e,r)),"divClass"in s&&t(0,a=s.divClass)},e=de(e),[a,n,e]}class xh extends Ce{constructor(e){super(),Se(this,e,Dh,Gh,ge,{divClass:0})}}function Ih(i){let e;const t=i[5].default,r=Re(t,i,i[4],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&16)&&Me(r,t,n,n[4],e?Ne(t,n[4],a,null):Fe(n[4]),null)},i(n){e||(F(r,n),e=!0)},o(n){O(r,n),e=!1},d(n){r&&r.d(n)}}}function Uh(i){let e=i[0],t,r,n=i[0]&&kn(i);return{c(){n&&n.c(),t=pe()},l(a){n&&n.l(a),t=pe()},m(a,s){n&&n.m(a,s),G(a,t,s),r=!0},p(a,s){a[0]?e?ge(e,a[0])?(n.d(1),n=kn(a),e=a[0],n.c(),n.m(t.parentNode,t)):n.p(a,s):(n=kn(a),e=a[0],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=a[0])},i(a){r||(F(n,a),r=!0)},o(a){O(n,a),r=!1},d(a){a&&R(t),n&&n.d(a)}}}function kn(i){let e,t,r,n;const a=i[5].default,s=Re(a,i,i[4],null);let o=[i[3]],l={};for(let h=0;h<o.length;h+=1)l=X(l,o[h]);return{c(){e=$(i[0]),s&&s.c(),this.h()},l(h){e=ee(h,(i[0]||"null").toUpperCase(),{});var d=te(e);s&&s.l(d),d.forEach(R),this.h()},h(){gt(i[0])(e,l)},m(h,d){G(h,e,d),s&&s.m(e,null),t=!0,r||(n=zr(i[2].call(null,e)),r=!0)},p(h,d){s&&s.p&&(!t||d&16)&&Me(s,a,h,h[4],t?Ne(a,h[4],d,null):Fe(h[4]),null),gt(h[0])(e,l=De(o,[d&8&&h[3]]))},i(h){t||(F(s,h),t=!0)},o(h){O(s,h),t=!1},d(h){h&&R(e),s&&s.d(h),r=!1,n()}}}function Vh(i){let e,t,r,n;const a=[Uh,Ih],s=[];function o(l,h){return l[1]?0:1}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),r=pe()},l(l){t.l(l),r=pe()},m(l,h){s[e].m(l,h),G(l,r,h),n=!0},p(l,[h]){let d=e;e=o(l),e===d?s[e].p(l,h):(je(),O(s[d],1,1,()=>{s[d]=null}),Ye(),t=s[e],t?t.p(l,h):(t=s[e]=a[e](l),t.c()),F(t,1),t.m(r.parentNode,r))},i(l){n||(F(t),n=!0)},o(l){O(t),n=!1},d(l){l&&R(r),s[e].d(l)}}}function zh(i,e,t){const r=["tag","show","use"];let n=he(e,r),{$$slots:a={},$$scope:s}=e,{tag:o="div"}=e,{show:l}=e,{use:h=()=>{}}=e;return i.$$set=d=>{e=X(X({},e),de(d)),t(3,n=he(e,r)),"tag"in d&&t(0,o=d.tag),"show"in d&&t(1,l=d.show),"use"in d&&t(2,h=d.use),"$$scope"in d&&t(4,s=d.$$scope)},[o,l,h,n,s,a]}class ho extends Ce{constructor(e){super(),Se(this,e,zh,Vh,ge,{tag:0,show:1,use:2})}}function Cn(i){let e,t,r,n,a,s;const o=i[9].default,l=Re(o,i,i[18],null);let h=[{href:i[0]},{type:t=i[0]?void 0:"button"},{role:r=i[0]?"link":"button"},i[4],{class:i[2]}],d={};for(let u=0;u<h.length;u+=1)d=X(d,h[u]);return{c(){e=$(i[0]?"a":"button"),l&&l.c(),this.h()},l(u){e=ee(u,((i[0]?"a":"button")||"null").toUpperCase(),{href:!0,type:!0,role:!0,class:!0});var f=te(e);l&&l.l(f),f.forEach(R),this.h()},h(){gt(i[0]?"a":"button")(e,d)},m(u,f){G(u,e,f),l&&l.m(e,null),n=!0,a||(s=[I(e,"click",i[10]),I(e,"change",i[11]),I(e,"keydown",i[12]),I(e,"keyup",i[13]),I(e,"focus",i[14]),I(e,"blur",i[15]),I(e,"mouseenter",i[16]),I(e,"mouseleave",i[17])],a=!0)},p(u,f){l&&l.p&&(!n||f&262144)&&Me(l,o,u,u[18],n?Ne(o,u[18],f,null):Fe(u[18]),null),gt(u[0]?"a":"button")(e,d=De(h,[(!n||f&1)&&{href:u[0]},(!n||f&1&&t!==(t=u[0]?void 0:"button"))&&{type:t},(!n||f&1&&r!==(r=u[0]?"link":"button"))&&{role:r},f&16&&u[4],(!n||f&4)&&{class:u[2]}]))},i(u){n||(F(l,u),n=!0)},o(u){O(l,u),n=!1},d(u){u&&R(e),l&&l.d(u),a=!1,ht(s)}}}function Bh(i){let e=i[0]?"a":"button",t,r,n=(i[0]?"a":"button")&&Cn(i);return{c(){n&&n.c(),t=pe()},l(a){n&&n.l(a),t=pe()},m(a,s){n&&n.m(a,s),G(a,t,s),r=!0},p(a,s){a[0],e?ge(e,a[0]?"a":"button")?(n.d(1),n=Cn(a),e=a[0]?"a":"button",n.c(),n.m(t.parentNode,t)):n.p(a,s):(n=Cn(a),e=a[0]?"a":"button",n.c(),n.m(t.parentNode,t))},i(a){r||(F(n,a),r=!0)},o(a){O(n,a),r=!1},d(a){a&&R(t),n&&n.d(a)}}}function Hh(i){let e,t;return e=new ho({props:{tag:"li",show:i[1],use:i[3],$$slots:{default:[Bh]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,[n]){const a={};n&2&&(a.show=r[1]),n&262165&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Wh(i,e,t){let r,n;const a=["defaultClass","href","activeClass"];let s=he(e,a),{$$slots:o={},$$scope:l}=e,{defaultClass:h="font-medium py-2 px-4 text-sm hover:bg-gray-100 dark:hover:bg-gray-600"}=e,{href:d=void 0}=e,{activeClass:u=void 0}=e;const f=et("DropdownType")??{},c=et("activeUrl");let g="";c.subscribe(E=>{t(7,g=E)});let m=!0;function v(E){t(1,m=E.parentElement?.tagName==="UL")}function k(E){U.call(this,i,E)}function C(E){U.call(this,i,E)}function p(E){U.call(this,i,E)}function _(E){U.call(this,i,E)}function b(E){U.call(this,i,E)}function y(E){U.call(this,i,E)}function M(E){U.call(this,i,E)}function P(E){U.call(this,i,E)}return i.$$set=E=>{t(21,e=X(X({},e),de(E))),t(4,s=he(e,a)),"defaultClass"in E&&t(5,h=E.defaultClass),"href"in E&&t(0,d=E.href),"activeClass"in E&&t(6,u=E.activeClass),"$$scope"in E&&t(18,l=E.$$scope)},i.$$.update=()=>{i.$$.dirty&129&&t(8,r=g?d===g:!1),t(2,n=ce(h,d?"block":"w-full text-left",r&&(u??f.activeClass),e.class))},e=de(e),[d,m,n,v,s,h,u,g,r,o,k,C,p,_,b,y,M,P,l]}class Sn extends Ce{constructor(e){super(),Se(this,e,Wh,Hh,ge,{defaultClass:5,href:0,activeClass:6})}}function jh(i){let e;const t=i[7].default,r=Re(t,i,i[6],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&64)&&Me(r,t,n,n[6],e?Ne(t,n[6],a,null):Fe(n[6]),null)},i(n){e||(F(r,n),e=!0)},o(n){O(r,n),e=!1},d(n){r&&r.d(n)}}}function Yh(i){let e,t;const r=i[7].default,n=Re(r,i,i[6],null);let a=[i[3],{class:i[2]}],s={};for(let o=0;o<a.length;o+=1)s=X(s,a[o]);return{c(){e=$("label"),n&&n.c(),this.h()},l(o){e=ee(o,"LABEL",{class:!0});var l=te(e);n&&n.l(l),l.forEach(R),this.h()},h(){Ie(e,s)},m(o,l){G(o,e,l),n&&n.m(e,null),i[8](e),t=!0},p(o,l){n&&n.p&&(!t||l&64)&&Me(n,r,o,o[6],t?Ne(r,o[6],l,null):Fe(o[6]),null),Ie(e,s=De(a,[l&8&&o[3],(!t||l&4)&&{class:o[2]}]))},i(o){t||(F(n,o),t=!0)},o(o){O(n,o),t=!1},d(o){o&&R(e),n&&n.d(o),i[8](null)}}}function Xh(i){let e,t,r,n;const a=[Yh,jh],s=[];function o(l,h){return l[0]?0:1}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),r=pe()},l(l){t.l(l),r=pe()},m(l,h){s[e].m(l,h),G(l,r,h),n=!0},p(l,[h]){let d=e;e=o(l),e===d?s[e].p(l,h):(je(),O(s[d],1,1,()=>{s[d]=null}),Ye(),t=s[e],t?t.p(l,h):(t=s[e]=a[e](l),t.c()),F(t,1),t.m(r.parentNode,r))},i(l){n||(F(t),n=!0)},o(l){O(t),n=!1},d(l){l&&R(r),s[e].d(l)}}}function Kh(i,e,t){let r;const n=["color","defaultClass","show"];let a=he(e,n),{$$slots:s={},$$scope:o}=e,{color:l="gray"}=e,{defaultClass:h="text-sm rtl:text-right font-medium block"}=e,{show:d=!0}=e,u;const f={gray:"text-gray-900 dark:text-gray-300",green:"text-green-700 dark:text-green-500",red:"text-red-700 dark:text-red-500",disabled:"text-gray-400 dark:text-gray-500"};function c(g){We[g?"unshift":"push"](()=>{u=g,t(1,u)})}return i.$$set=g=>{t(10,e=X(X({},e),de(g))),t(3,a=he(e,n)),"color"in g&&t(4,l=g.color),"defaultClass"in g&&t(5,h=g.defaultClass),"show"in g&&t(0,d=g.show),"$$scope"in g&&t(6,o=g.$$scope)},i.$$.update=()=>{if(i.$$.dirty&18){const g=u?.control;t(4,l=g?.disabled?"disabled":l)}t(2,r=ce(h,f[l],e.class))},e=de(e),[d,u,r,a,l,h,o,s,c]}let Ct=class extends Ce{constructor(e){super(),Se(this,e,Kh,Xh,ge,{color:4,defaultClass:5,show:0})}};function qh(i){let e,t,r,n,a,s,o,l;const h=i[8].default,d=Re(h,i,i[7],null);let u=[i[6],{type:"file"},{class:"hidden"}],f={};for(let c=0;c<u.length;c+=1)f=X(f,u[c]);return{c(){e=$("button"),t=$("label"),d&&d.c(),r=ae(),n=$("input"),this.h()},l(c){e=ee(c,"BUTTON",{class:!0,type:!0});var g=te(e);t=ee(g,"LABEL",{class:!0,tabindex:!0});var m=te(t);d&&d.l(m),r=se(m),n=ee(m,"INPUT",{type:!0,class:!0}),m.forEach(R),g.forEach(R),this.h()},h(){Ie(n,f),z(t,"class","flex flex-col items-center"),z(t,"tabindex","0"),z(e,"class",a=ce(i[2],i[5].class)),z(e,"type","button")},m(c,g){G(c,e,g),ie(e,t),d&&d.m(t,null),ie(t,r),ie(t,n),n.autofocus&&n.focus(),i[21](n),s=!0,o||(l=[I(n,"change",i[20]),I(n,"change",i[18]),I(n,"click",i[19]),I(e,"keydown",i[4]),I(e,"focus",i[9]),I(e,"blur",i[10]),I(e,"mouseenter",i[11]),I(e,"mouseleave",i[12]),I(e,"mouseover",i[13]),I(e,"dragenter",i[14]),I(e,"dragleave",i[15]),I(e,"dragover",i[16]),I(e,"drop",i[17])],o=!0)},p(c,[g]){d&&d.p&&(!s||g&128)&&Me(d,h,c,c[7],s?Ne(h,c[7],g,null):Fe(c[7]),null),Ie(n,f=De(u,[g&64&&c[6],{type:"file"},{class:"hidden"}])),(!s||g&36&&a!==(a=ce(c[2],c[5].class)))&&z(e,"class",a)},i(c){s||(F(d,c),s=!0)},o(c){O(d,c),s=!1},d(c){c&&R(e),d&&d.d(c),i[21](null),o=!1,ht(l)}}}function Qh(i,e,t){const r=["value","files","defaultClass"];let n=he(e,r),{$$slots:a={},$$scope:s}=e,{value:o=""}=e,{files:l=void 0}=e,{defaultClass:h="flex flex-col justify-center items-center w-full h-64 bg-gray-50 rounded-lg border-2 border-gray-300 border-dashed cursor-pointer dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"}=e,d;function u(E){[" ","Enter"].includes(E.key)&&(E.preventDefault(),d.click())}function f(E){U.call(this,i,E)}function c(E){U.call(this,i,E)}function g(E){U.call(this,i,E)}function m(E){U.call(this,i,E)}function v(E){U.call(this,i,E)}function k(E){U.call(this,i,E)}function C(E){U.call(this,i,E)}function p(E){U.call(this,i,E)}function _(E){U.call(this,i,E)}function b(E){U.call(this,i,E)}function y(E){U.call(this,i,E)}function M(){o=this.value,l=this.files,t(0,o),t(1,l)}function P(E){We[E?"unshift":"push"](()=>{d=E,t(3,d)})}return i.$$set=E=>{t(5,e=X(X({},e),de(E))),t(6,n=he(e,r)),"value"in E&&t(0,o=E.value),"files"in E&&t(1,l=E.files),"defaultClass"in E&&t(2,h=E.defaultClass),"$$scope"in E&&t(7,s=E.$$scope)},e=de(e),[o,l,h,d,u,e,n,s,a,f,c,g,m,v,k,C,p,_,b,y,M,P]}class Jh extends Ce{constructor(e){super(),Se(this,e,Qh,qh,ge,{value:0,files:1,defaultClass:2})}}const Zh=i=>({}),Va=i=>({}),$h=i=>({props:i[0]&72}),za=i=>({props:{...i[6],class:i[3]}}),ed=i=>({}),Ba=i=>({});function Ha(i){let e,t,r;const n=i[11].left,a=Re(n,i,i[26],Ba);return{c(){e=$("div"),a&&a.c(),this.h()},l(s){e=ee(s,"DIV",{class:!0});var o=te(e);a&&a.l(o),o.forEach(R),this.h()},h(){z(e,"class",t=ce(i[2],i[4].classLeft)+" start-0 ps-2.5 pointer-events-none")},m(s,o){G(s,e,o),a&&a.m(e,null),r=!0},p(s,o){a&&a.p&&(!r||o[0]&67108864)&&Me(a,n,s,s[26],r?Ne(n,s[26],o,ed):Fe(s[26]),Ba),(!r||o[0]&20&&t!==(t=ce(s[2],s[4].classLeft)+" start-0 ps-2.5 pointer-events-none"))&&z(e,"class",t)},i(s){r||(F(a,s),r=!0)},o(s){O(a,s),r=!1},d(s){s&&R(e),a&&a.d(s)}}}function td(i){let e,t,r,n=[i[6],{type:i[1]},{class:i[3]}],a={};for(let s=0;s<n.length;s+=1)a=X(a,n[s]);return{c(){e=$("input"),this.h()},l(s){e=ee(s,"INPUT",{class:!0}),this.h()},h(){Ie(e,a)},m(s,o){G(s,e,o),e.autofocus&&e.focus(),gi(e,i[0]),t||(r=[I(e,"input",i[25]),I(e,"blur",i[12]),I(e,"change",i[13]),I(e,"click",i[14]),I(e,"contextmenu",i[15]),I(e,"focus",i[16]),I(e,"keydown",i[17]),I(e,"keypress",i[18]),I(e,"keyup",i[19]),I(e,"mouseover",i[20]),I(e,"mouseenter",i[21]),I(e,"mouseleave",i[22]),I(e,"paste",i[23]),I(e,"input",i[24])],t=!0)},p(s,o){Ie(e,a=De(n,[o[0]&64&&s[6],o[0]&2&&{type:s[1]},o[0]&8&&{class:s[3]}])),o[0]&1&&e.value!==s[0]&&gi(e,s[0])},d(s){s&&R(e),t=!1,ht(r)}}}function Wa(i){let e,t,r;const n=i[11].right,a=Re(n,i,i[26],Va);return{c(){e=$("div"),a&&a.c(),this.h()},l(s){e=ee(s,"DIV",{class:!0});var o=te(e);a&&a.l(o),o.forEach(R),this.h()},h(){z(e,"class",t=ce(i[2],i[4].classRight)+" end-0 pe-2.5")},m(s,o){G(s,e,o),a&&a.m(e,null),r=!0},p(s,o){a&&a.p&&(!r||o[0]&67108864)&&Me(a,n,s,s[26],r?Ne(n,s[26],o,Zh):Fe(s[26]),Va),(!r||o[0]&20&&t!==(t=ce(s[2],s[4].classRight)+" end-0 pe-2.5"))&&z(e,"class",t)},i(s){r||(F(a,s),r=!0)},o(s){O(a,s),r=!1},d(s){s&&R(e),a&&a.d(s)}}}function rd(i){let e,t,r,n,a=i[5].left&&Ha(i);const s=i[11].default,o=Re(s,i,i[26],za),l=o||td(i);let h=i[5].right&&Wa(i);return{c(){a&&a.c(),e=ae(),l&&l.c(),t=ae(),h&&h.c(),r=pe()},l(d){a&&a.l(d),e=se(d),l&&l.l(d),t=se(d),h&&h.l(d),r=pe()},m(d,u){a&&a.m(d,u),G(d,e,u),l&&l.m(d,u),G(d,t,u),h&&h.m(d,u),G(d,r,u),n=!0},p(d,u){d[5].left?a?(a.p(d,u),u[0]&32&&F(a,1)):(a=Ha(d),a.c(),F(a,1),a.m(e.parentNode,e)):a&&(je(),O(a,1,1,()=>{a=null}),Ye()),o?o.p&&(!n||u[0]&67108936)&&Me(o,s,d,d[26],n?Ne(s,d[26],u,$h):Fe(d[26]),za):l&&l.p&&(!n||u[0]&75)&&l.p(d,n?u:[-1,-1]),d[5].right?h?(h.p(d,u),u[0]&32&&F(h,1)):(h=Wa(d),h.c(),F(h,1),h.m(r.parentNode,r)):h&&(je(),O(h,1,1,()=>{h=null}),Ye())},i(d){n||(F(a),F(l,d),F(h),n=!0)},o(d){O(a),O(l,d),O(h),n=!1},d(d){d&&(R(e),R(t),R(r)),a&&a.d(d),l&&l.d(d),h&&h.d(d)}}}function id(i){let e,t;return e=new ho({props:{class:"relative w-full",show:i[5].left||i[5].right,$$slots:{default:[rd]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n[0]&32&&(a.show=r[5].left||r[5].right),n[0]&67108991&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function nd(i){return i&&i==="xs"?"sm":i==="xl"?"lg":i}function ad(i,e,t){let r;const n=["type","value","size","defaultClass","color","floatClass"];let a=he(e,n),{$$slots:s={},$$scope:o}=e;const l=qn(s);let{type:h="text"}=e,{value:d=void 0}=e,{size:u=void 0}=e,{defaultClass:f="block w-full disabled:cursor-not-allowed disabled:opacity-50 rtl:text-right"}=e,{color:c="base"}=e,{floatClass:g="flex absolute inset-y-0 items-center text-gray-500 dark:text-gray-400"}=e;const m={base:"border-gray-300 dark:border-gray-600",tinted:"border-gray-300 dark:border-gray-500",green:"border-green-500 dark:border-green-400",red:"border-red-500 dark:border-red-400"},v={base:"focus:border-primary-500 focus:ring-primary-500 dark:focus:border-primary-500 dark:focus:ring-primary-500",green:"focus:ring-green-500 focus:border-green-500 dark:focus:border-green-500 dark:focus:ring-green-500",red:"focus:ring-red-500 focus:border-red-500 dark:focus:ring-red-500 dark:focus:border-red-500"},k={base:"bg-gray-50 text-gray-900 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400",tinted:"bg-gray-50 text-gray-900 dark:bg-gray-600 dark:text-white dark:placeholder-gray-400",green:"bg-green-50 text-green-900 placeholder-green-700 dark:text-green-400 dark:placeholder-green-500 dark:bg-gray-700",red:"bg-red-50 text-red-900 placeholder-red-700 dark:text-red-500 dark:placeholder-red-500 dark:bg-gray-700"};let C=et("background"),p=et("group");const _={sm:"sm:text-xs",md:"text-sm",lg:"sm:text-base"},b={sm:"ps-9",md:"ps-10",lg:"ps-11"},y={sm:"pe-9",md:"pe-10",lg:"pe-11"},M={sm:"p-2",md:"p-2.5",lg:"p-3"};let P;function E(j){U.call(this,i,j)}function A(j){U.call(this,i,j)}function T(j){U.call(this,i,j)}function S(j){U.call(this,i,j)}function N(j){U.call(this,i,j)}function D(j){U.call(this,i,j)}function L(j){U.call(this,i,j)}function B(j){U.call(this,i,j)}function Y(j){U.call(this,i,j)}function ne(j){U.call(this,i,j)}function H(j){U.call(this,i,j)}function W(j){U.call(this,i,j)}function K(j){U.call(this,i,j)}function le(){d=this.value,t(0,d)}return i.$$set=j=>{t(4,e=X(X({},e),de(j))),t(6,a=he(e,n)),"type"in j&&t(1,h=j.type),"value"in j&&t(0,d=j.value),"size"in j&&t(7,u=j.size),"defaultClass"in j&&t(8,f=j.defaultClass),"color"in j&&t(9,c=j.color),"floatClass"in j&&t(2,g=j.floatClass),"$$scope"in j&&t(26,o=j.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&128&&t(10,r=u||nd(p?.size)||"md");{const j=c==="base"&&C?"tinted":c;t(3,P=ce([f,M[r],l.left&&b[r]||l.right&&y[r],v[c],k[j],m[j],_[r],p||"rounded-lg",p&&"first:rounded-s-lg last:rounded-e-lg",p&&"border-s-0 first:border-s last:border-e",e.class]))}},e=de(e),[d,h,g,P,e,l,a,u,f,c,r,s,E,A,T,S,N,D,L,B,Y,ne,H,W,K,le,o]}class sd extends Ce{constructor(e){super(),Se(this,e,ad,id,ge,{type:1,value:0,size:7,defaultClass:8,color:9,floatClass:2},null,[-1,-1])}}function od(i){let e,t,r,n=[i[16],{type:"number"}],a={};for(let s=0;s<n.length;s+=1)a=X(a,n[s]);return{c(){e=$("input"),this.h()},l(s){e=ee(s,"INPUT",{type:!0}),this.h()},h(){Ie(e,a)},m(s,o){G(s,e,o),e.autofocus&&e.focus(),gi(e,i[0]),t||(r=[I(e,"input",i[15]),I(e,"blur",i[2]),I(e,"change",i[3]),I(e,"click",i[4]),I(e,"contextmenu",i[5]),I(e,"focus",i[6]),I(e,"keydown",i[7]),I(e,"keypress",i[8]),I(e,"keyup",i[9]),I(e,"mouseover",i[10]),I(e,"mouseenter",i[11]),I(e,"mouseleave",i[12]),I(e,"paste",i[13]),I(e,"input",i[14])],t=!0)},p(s,o){Ie(e,a=De(n,[o&65536&&s[16],{type:"number"}])),o&1&&Ws(e.value)!==s[0]&&gi(e,s[0])},d(s){s&&R(e),t=!1,ht(r)}}}function ld(i){let e,t;const r=[i[1]];let n={$$slots:{default:[od,({props:a})=>({16:a}),({props:a})=>a?65536:0]},$$scope:{ctx:i}};for(let a=0;a<r.length;a+=1)n=X(n,r[a]);return e=new sd({props:n}),{c(){q(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,s){J(e,a,s),t=!0},p(a,[s]){const o=s&2?De(r,[sr(a[1])]):{};s&196609&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){O(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}function hd(i,e,t){const r=["value"];let n=he(e,r),{value:a=0}=e;function s(_){U.call(this,i,_)}function o(_){U.call(this,i,_)}function l(_){U.call(this,i,_)}function h(_){U.call(this,i,_)}function d(_){U.call(this,i,_)}function u(_){U.call(this,i,_)}function f(_){U.call(this,i,_)}function c(_){U.call(this,i,_)}function g(_){U.call(this,i,_)}function m(_){U.call(this,i,_)}function v(_){U.call(this,i,_)}function k(_){U.call(this,i,_)}function C(_){U.call(this,i,_)}function p(){a=Ws(this.value),t(0,a)}return i.$$set=_=>{e=X(X({},e),de(_)),t(1,n=he(e,r)),"value"in _&&t(0,a=_.value)},[a,n,s,o,l,h,d,u,f,c,g,m,v,k,C,p]}class St extends Ce{constructor(e){super(),Se(this,e,hd,ld,ge,{value:0})}}const dd=`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`;function cd(i){function e(t){if(!(t.key==="Tab"||t.keyCode===9))return;const n=Array.from(i.querySelectorAll(dd));let a=n.indexOf(document.activeElement??i);a===-1&&t.shiftKey&&(a=0),a+=n.length+(t.shiftKey?-1:1),a%=n.length,n[a].focus(),t.preventDefault()}return document.addEventListener("keydown",e,!0),{destroy(){document.removeEventListener("keydown",e,!0)}}}const ud=i=>({}),ja=i=>({}),fd=i=>({}),Ya=i=>({});function Xa(i){let e,t,r,n,a,s,o,l,h,d;const u=[{rounded:!0},{shadow:!0},i[15],{class:i[5]}];let f={$$slots:{default:[_d]},$$scope:{ctx:i}};for(let c=0;c<u.length;c+=1)f=X(f,u[c]);return a=new Rr({props:f}),{c(){e=$("div"),t=ae(),r=$("div"),n=$("div"),q(a.$$.fragment),this.h()},l(c){e=ee(c,"DIV",{class:!0}),te(e).forEach(R),t=se(c),r=ee(c,"DIV",{class:!0,tabindex:!0,"aria-modal":!0,role:!0});var g=te(r);n=ee(g,"DIV",{class:!0});var m=te(n);Q(a.$$.fragment,m),m.forEach(R),g.forEach(R),this.h()},h(){z(e,"class",i[12]),z(n,"class",s="flex relative "+i[8][i[2]]+" w-full max-h-full"),z(r,"class",o=ce(i[4],i[14].classDialog,...i[7]())),z(r,"tabindex","-1"),z(r,"aria-modal","true"),z(r,"role","dialog")},m(c,g){G(c,e,g),G(c,t,g),G(c,r,g),ie(r,n),J(a,n,null),l=!0,h||(d=[I(r,"keydown",i[13]),I(r,"wheel",qo(i[23]),{passive:!1}),zr(i[6].call(null,r)),zr(cd.call(null,r)),I(r,"click",i[9]),I(r,"mousedown",i[10])],h=!0)},p(c,g){const m=g&32800?De(u,[u[0],u[1],g&32768&&sr(c[15]),g&32&&{class:c[5]}]):{};g&33669130&&(m.$$scope={dirty:g,ctx:c}),a.$set(m),(!l||g&4&&s!==(s="flex relative "+c[8][c[2]]+" w-full max-h-full"))&&z(n,"class",s),(!l||g&16400&&o!==(o=ce(c[4],c[14].classDialog,...c[7]())))&&z(r,"class",o)},i(c){l||(F(a.$$.fragment,c),l=!0)},o(c){O(a.$$.fragment,c),l=!1},d(c){c&&(R(e),R(t),R(r)),Z(a),h=!1,ht(d)}}}function Ka(i){let e,t;return e=new Rr({props:{color:i[15].color,class:"flex justify-between items-center p-4 rounded-t-lg",$$slots:{default:[md]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n&32768&&(a.color=r[15].color),n&33587210&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function gd(i){let e,t,r;return{c(){e=$("h3"),t=we(i[1]),this.h()},l(n){e=ee(n,"H3",{class:!0});var a=te(e);t=ke(a,i[1]),a.forEach(R),this.h()},h(){z(e,"class",r="text-xl font-semibold "+(i[15].color?"":"text-gray-900 dark:text-white")+" p-0")},m(n,a){G(n,e,a),ie(e,t)},p(n,a){a&2&&tr(t,n[1]),a&32768&&r!==(r="text-xl font-semibold "+(n[15].color?"":"text-gray-900 dark:text-white")+" p-0")&&z(e,"class",r)},d(n){n&&R(e)}}}function qa(i){let e,t;return e=new Zs({props:{name:"Close modal",color:i[15].color}}),e.$on("click",i[11]),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n&32768&&(a.color=r[15].color),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function md(i){let e,t,r;const n=i[22].header,a=Re(n,i,i[25],Ya),s=a||gd(i);let o=i[3]&&qa(i);return{c(){s&&s.c(),e=ae(),o&&o.c(),t=pe()},l(l){s&&s.l(l),e=se(l),o&&o.l(l),t=pe()},m(l,h){s&&s.m(l,h),G(l,e,h),o&&o.m(l,h),G(l,t,h),r=!0},p(l,h){a?a.p&&(!r||h&33554432)&&Me(a,n,l,l[25],r?Ne(n,l[25],h,fd):Fe(l[25]),Ya):s&&s.p&&(!r||h&32770)&&s.p(l,r?h:-1),l[3]?o?(o.p(l,h),h&8&&F(o,1)):(o=qa(l),o.c(),F(o,1),o.m(t.parentNode,t)):o&&(je(),O(o,1,1,()=>{o=null}),Ye())},i(l){r||(F(s,l),F(o),r=!0)},o(l){O(s,l),O(o),r=!1},d(l){l&&(R(e),R(t)),s&&s.d(l),o&&o.d(l)}}}function Qa(i){let e,t;return e=new Zs({props:{name:"Close modal",class:"absolute top-3 end-2.5",color:i[15].color}}),e.$on("click",i[11]),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n&32768&&(a.color=r[15].color),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Ja(i){let e,t;return e=new Rr({props:{color:i[15].color,class:"flex items-center p-6 space-x-2 rtl:space-x-reverse rounded-b-lg",$$slots:{default:[pd]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n&32768&&(a.color=r[15].color),n&33554432&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function pd(i){let e;const t=i[22].footer,r=Re(t,i,i[25],ja);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&33554432)&&Me(r,t,n,n[25],e?Ne(t,n[25],a,ud):Fe(n[25]),ja)},i(n){e||(F(r,n),e=!0)},o(n){O(r,n),e=!1},d(n){r&&r.d(n)}}}function _d(i){let e,t,r,n,a,s,o,l,h,d=(i[16].header||i[1])&&Ka(i),u=i[3]&&!i[16].header&&!i[1]&&Qa(i);const f=i[22].default,c=Re(f,i,i[25],null);let g=i[16].footer&&Ja(i);return{c(){d&&d.c(),e=ae(),t=$("div"),u&&u.c(),r=ae(),c&&c.c(),a=ae(),g&&g.c(),s=pe(),this.h()},l(m){d&&d.l(m),e=se(m),t=ee(m,"DIV",{class:!0,role:!0});var v=te(t);u&&u.l(v),r=se(v),c&&c.l(v),v.forEach(R),a=se(m),g&&g.l(m),s=pe(),this.h()},h(){z(t,"class",n=ce("p-6 space-y-6 flex-1 overflow-y-auto overscroll-contain",i[14].bodyClass)),z(t,"role","document")},m(m,v){d&&d.m(m,v),G(m,e,v),G(m,t,v),u&&u.m(t,null),ie(t,r),c&&c.m(t,null),G(m,a,v),g&&g.m(m,v),G(m,s,v),o=!0,l||(h=[I(t,"keydown",va(i[13])),I(t,"wheel",va(i[24]),{passive:!0})],l=!0)},p(m,v){m[16].header||m[1]?d?(d.p(m,v),v&65538&&F(d,1)):(d=Ka(m),d.c(),F(d,1),d.m(e.parentNode,e)):d&&(je(),O(d,1,1,()=>{d=null}),Ye()),m[3]&&!m[16].header&&!m[1]?u?(u.p(m,v),v&65546&&F(u,1)):(u=Qa(m),u.c(),F(u,1),u.m(t,r)):u&&(je(),O(u,1,1,()=>{u=null}),Ye()),c&&c.p&&(!o||v&33554432)&&Me(c,f,m,m[25],o?Ne(f,m[25],v,null):Fe(m[25]),null),(!o||v&16384&&n!==(n=ce("p-6 space-y-6 flex-1 overflow-y-auto overscroll-contain",m[14].bodyClass)))&&z(t,"class",n),m[16].footer?g?(g.p(m,v),v&65536&&F(g,1)):(g=Ja(m),g.c(),F(g,1),g.m(s.parentNode,s)):g&&(je(),O(g,1,1,()=>{g=null}),Ye())},i(m){o||(F(d),F(u),F(c,m),F(g),o=!0)},o(m){O(d),O(u),O(c,m),O(g),o=!1},d(m){m&&(R(e),R(t),R(a),R(s)),d&&d.d(m),u&&u.d(),c&&c.d(m),g&&g.d(m),l=!1,ht(h)}}}function vd(i){let e,t,r=i[0]&&Xa(i);return{c(){r&&r.c(),e=pe()},l(n){r&&r.l(n),e=pe()},m(n,a){r&&r.m(n,a),G(n,e,a),t=!0},p(n,[a]){n[0]?r?(r.p(n,a),a&1&&F(r,1)):(r=Xa(n),r.c(),F(r,1),r.m(e.parentNode,e)):r&&(je(),O(r,1,1,()=>{r=null}),Ye())},i(n){t||(F(r),t=!0)},o(n){O(r),t=!1},d(n){n&&R(e),r&&r.d(n)}}}function bd(i,e,t){const r=["open","title","size","placement","autoclose","dismissable","backdropClass","defaultClass","outsideclose","dialogClass"];let n=he(e,r),{$$slots:a={},$$scope:s}=e;const o=qn(a);let{open:l=!1}=e,{title:h=""}=e,{size:d="md"}=e,{placement:u="center"}=e,{autoclose:f=!1}=e,{dismissable:c=!0}=e,{backdropClass:g="fixed inset-0 z-40 bg-gray-900 bg-opacity-50 dark:bg-opacity-80"}=e,{defaultClass:m="relative flex flex-col mx-auto"}=e,{outsideclose:v=!1}=e,{dialogClass:k="fixed top-0 start-0 end-0 h-modal md:inset-0 md:h-full z-50 w-full p-4 flex"}=e;const C=ar();function p(L){const B=document.createTreeWalker(L,NodeFilter.SHOW_ELEMENT);let Y;for(;Y=B.nextNode();)if(Y instanceof HTMLElement){const ne=Y,[H,W]=A(ne);(H||W)&&(ne.tabIndex=0)}L.focus()}const _=()=>{switch(u){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},b={xs:"max-w-md",sm:"max-w-lg",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-7xl"},y=L=>{const B=L.target;f&&B?.tagName==="BUTTON"&&P(L)},M=L=>{const B=L.target;v&&B===L.currentTarget&&P(L)},P=L=>{L.preventDefault(),t(0,l=!1)};let E;const A=L=>[L.scrollWidth>L.clientWidth&&["scroll","auto"].indexOf(getComputedStyle(L).overflowX)>=0,L.scrollHeight>L.clientHeight&&["scroll","auto"].indexOf(getComputedStyle(L).overflowY)>=0];let T=ce(g,e.classBackdrop);function S(L){if(L.key==="Escape"&&c)return P(L)}function N(L){U.call(this,i,L)}function D(L){U.call(this,i,L)}return i.$$set=L=>{t(14,e=X(X({},e),de(L))),t(15,n=he(e,r)),"open"in L&&t(0,l=L.open),"title"in L&&t(1,h=L.title),"size"in L&&t(2,d=L.size),"placement"in L&&t(17,u=L.placement),"autoclose"in L&&t(18,f=L.autoclose),"dismissable"in L&&t(3,c=L.dismissable),"backdropClass"in L&&t(19,g=L.backdropClass),"defaultClass"in L&&t(20,m=L.defaultClass),"outsideclose"in L&&t(21,v=L.outsideclose),"dialogClass"in L&&t(4,k=L.dialogClass),"$$scope"in L&&t(25,s=L.$$scope)},i.$$.update=()=>{i.$$.dirty&1&&C(l?"open":"close"),t(5,E=ce(m,"w-full divide-y",e.class))},e=de(e),[l,h,d,c,k,E,p,_,b,y,M,P,T,S,e,n,o,u,f,g,m,v,a,N,D,s]}class Ei extends Ce{constructor(e){super(),Se(this,e,bd,vd,ge,{open:0,title:1,size:2,placement:17,autoclose:18,dismissable:3,backdropClass:19,defaultClass:20,outsideclose:21,dialogClass:4})}}function yd(i){let e,t,r;const n=i[3].default,a=Re(n,i,i[2],null);return{c(){e=$("div"),a&&a.c(),this.h()},l(s){e=ee(s,"DIV",{class:!0});var o=te(e);a&&a.l(o),o.forEach(R),this.h()},h(){z(e,"class",t=ce("mx-auto flex flex-wrap justify-between items-center ",i[0]?"w-full":"container",i[1].class))},m(s,o){G(s,e,o),a&&a.m(e,null),r=!0},p(s,[o]){a&&a.p&&(!r||o&4)&&Me(a,n,s,s[2],r?Ne(n,s[2],o,null):Fe(s[2]),null),(!r||o&3&&t!==(t=ce("mx-auto flex flex-wrap justify-between items-center ",s[0]?"w-full":"container",s[1].class)))&&z(e,"class",t)},i(s){r||(F(a,s),r=!0)},o(s){O(a,s),r=!1},d(s){s&&R(e),a&&a.d(s)}}}function wd(i,e,t){let{$$slots:r={},$$scope:n}=e,{fluid:a=!1}=e;return i.$$set=s=>{t(1,e=X(X({},e),de(s))),"fluid"in s&&t(0,a=s.fluid),"$$scope"in s&&t(2,n=s.$$scope)},e=de(e),[a,e,n,r]}class co extends Ce{constructor(e){super(),Se(this,e,wd,yd,ge,{fluid:0})}}const kd=i=>({hidden:i&2}),Za=i=>({hidden:i[1],toggle:i[3],NavContainer:co});function Cd(i){let e;const t=i[6].default,r=Re(t,i,i[7],Za);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&130)&&Me(r,t,n,n[7],e?Ne(t,n[7],a,kd):Fe(n[7]),Za)},i(n){e||(F(r,n),e=!0)},o(n){O(r,n),e=!1},d(n){r&&r.d(n)}}}function Sd(i){let e,t;return e=new co({props:{fluid:i[0],$$slots:{default:[Cd]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n&1&&(a.fluid=r[0]),n&130&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Pd(i){let e,t;const r=[{tag:"nav"},i[4],{class:ce("px-2 sm:px-4 py-2.5 w-full",i[5].class)}];let n={$$slots:{default:[Sd]},$$scope:{ctx:i}};for(let a=0;a<r.length;a+=1)n=X(n,r[a]);return e=new Rr({props:n}),{c(){q(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,s){J(e,a,s),t=!0},p(a,[s]){const o=s&48?De(r,[r[0],s&16&&sr(a[4]),s&32&&{class:ce("px-2 sm:px-4 py-2.5 w-full",a[5].class)}]):{};s&131&&(o.$$scope={dirty:s,ctx:a}),e.$set(o)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){O(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}function Ed(i,e,t){const r=["fluid"];let n=he(e,r),a,{$$slots:s={},$$scope:o}=e,{fluid:l=!1}=e,h=Tr(!0);Er(i,h,u=>t(1,a=u)),Et("navHidden",h);let d=()=>h.update(u=>!u);return i.$$set=u=>{t(5,e=X(X({},e),de(u))),t(4,n=he(e,r)),"fluid"in u&&t(0,l=u.fluid),"$$scope"in u&&t(7,o=u.$$scope)},i.$$.update=()=>{t(4,n.color=n.color??"navbar",n)},e=de(e),[l,a,h,d,n,e,s,o]}class Td extends Ce{constructor(e){super(),Se(this,e,Ed,Pd,ge,{fluid:0})}}function Ad(i){let e,t,r;const n=i[4].default,a=Re(n,i,i[3],null);let s=[{href:i[0]},i[1],{class:t=ce("flex items-center",i[2].class)}],o={};for(let l=0;l<s.length;l+=1)o=X(o,s[l]);return{c(){e=$("a"),a&&a.c(),this.h()},l(l){e=ee(l,"A",{href:!0,class:!0});var h=te(e);a&&a.l(h),h.forEach(R),this.h()},h(){Ie(e,o)},m(l,h){G(l,e,h),a&&a.m(e,null),r=!0},p(l,[h]){a&&a.p&&(!r||h&8)&&Me(a,n,l,l[3],r?Ne(n,l[3],h,null):Fe(l[3]),null),Ie(e,o=De(s,[(!r||h&1)&&{href:l[0]},h&2&&l[1],(!r||h&4&&t!==(t=ce("flex items-center",l[2].class)))&&{class:t}]))},i(l){r||(F(a,l),r=!0)},o(l){O(a,l),r=!1},d(l){l&&R(e),a&&a.d(l)}}}function Rd(i,e,t){const r=["href"];let n=he(e,r),{$$slots:a={},$$scope:s}=e,{href:o=""}=e;return i.$$set=l=>{t(2,e=X(X({},e),de(l))),t(1,n=he(e,r)),"href"in l&&t(0,o=l.href),"$$scope"in l&&t(3,s=l.$$scope)},e=de(e),[o,n,e,s,a]}class Md extends Ce{constructor(e){super(),Se(this,e,Rd,Ad,ge,{href:0})}}function Fd(i){let e,t,r,n,a,s=[{xmlns:"http://www.w3.org/2000/svg"},{role:"button"},{tabindex:"0"},{width:i[0]},{height:i[0]},{class:r=i[4].class},i[5],{"aria-label":i[1]},{fill:"none"},{viewBox:i[2]},{"stroke-width":"2"}],o={};for(let l=0;l<s.length;l+=1)o=X(o,s[l]);return{c(){e=Tt("svg"),t=new Qo(!0),this.h()},l(l){e=At(l,"svg",{xmlns:!0,role:!0,tabindex:!0,width:!0,height:!0,class:!0,"aria-label":!0,fill:!0,viewBox:!0,"stroke-width":!0});var h=te(e);t=Jo(h,!0),h.forEach(R),this.h()},h(){t.a=null,yr(e,o)},m(l,h){G(l,e,h),t.m(i[3],e),n||(a=I(e,"click",i[8]),n=!0)},p(l,[h]){h&8&&t.p(l[3]),yr(e,o=De(s,[{xmlns:"http://www.w3.org/2000/svg"},{role:"button"},{tabindex:"0"},h&1&&{width:l[0]},h&1&&{height:l[0]},h&16&&r!==(r=l[4].class)&&{class:r},h&32&&l[5],h&2&&{"aria-label":l[1]},{fill:"none"},h&4&&{viewBox:l[2]},{"stroke-width":"2"}]))},i:it,o:it,d(l){l&&R(e),n=!1,a()}}}function Nd(i,e,t){const r=["size","color","variation","ariaLabel"];let n=he(e,r),{size:a="24"}=e,{color:s="currentColor"}=e,{variation:o="outline"}=e,{ariaLabel:l="bars 3"}=e,h,d,u=`<path stroke="${s}" stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path> `,f=`<path fill="${s}" clip-rule="evenodd" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"></path> `;function c(g){U.call(this,i,g)}return i.$$set=g=>{t(4,e=X(X({},e),de(g))),t(5,n=he(e,r)),"size"in g&&t(0,a=g.size),"color"in g&&t(6,s=g.color),"variation"in g&&t(7,o=g.variation),"ariaLabel"in g&&t(1,l=g.ariaLabel)},i.$$.update=()=>{if(i.$$.dirty&128)switch(o){case"outline":t(3,d=u),t(2,h="0 0 24 24");break;case"solid":t(3,d=f),t(2,h="0 0 24 24");break;default:t(3,d=u),t(2,h="0 0 24 24")}},e=de(e),[a,l,h,d,e,n,s,o,c]}class Od extends Ce{constructor(e){super(),Se(this,e,Nd,Fd,ge,{size:0,color:6,variation:7,ariaLabel:1})}}function Ld(i){let e,t;return e=new Od({props:{class:ce(i[0],i[4].classMenu)}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n&17&&(a.class=ce(r[0],r[4].classMenu)),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Gd(i){let e,t;const r=[{name:"Open main menu"},i[3],{class:ce($a,i[4].class)}];let n={$$slots:{default:[Ld]},$$scope:{ctx:i}};for(let a=0;a<r.length;a+=1)n=X(n,r[a]);return e=new Js({props:n}),e.$on("click",function(){vr(i[1]||i[2])&&(i[1]||i[2]).apply(this,arguments)}),{c(){q(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,s){J(e,a,s),t=!0},p(a,[s]){i=a;const o=s&24?De(r,[r[0],s&8&&sr(i[3]),s&16&&{class:ce($a,i[4].class)}]):{};s&81&&(o.$$scope={dirty:s,ctx:i}),e.$set(o)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){O(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}let $a="ms-3 md:hidden";function Dd(i,e,t){const r=["menuClass","onClick"];let n=he(e,r),{menuClass:a="h-6 w-6 shrink-0"}=e,{onClick:s=void 0}=e,o=et("navHidden")??Tr(!0);const l=h=>o.update(d=>!d);return i.$$set=h=>{t(4,e=X(X({},e),de(h))),t(3,n=he(e,r)),"menuClass"in h&&t(0,a=h.menuClass),"onClick"in h&&t(1,s=h.onClick)},e=de(e),[a,s,l,n,e]}class xd extends Ce{constructor(e){super(),Se(this,e,Dd,Gd,ge,{menuClass:0,onClick:1})}}function Pn(i){let e,t,r,n,a;const s=i[8].default,o=Re(s,i,i[7],null);let l=[{role:t=i[0]?void 0:"link"},{href:i[0]},i[2],{class:i[1]}],h={};for(let d=0;d<l.length;d+=1)h=X(h,l[d]);return{c(){e=$(i[0]?"a":"div"),o&&o.c(),this.h()},l(d){e=ee(d,((i[0]?"a":"div")||"null").toUpperCase(),{role:!0,href:!0,class:!0});var u=te(e);o&&o.l(u),u.forEach(R),this.h()},h(){gt(i[0]?"a":"div")(e,h)},m(d,u){G(d,e,u),o&&o.m(e,null),r=!0,n||(a=[I(e,"blur",i[9]),I(e,"change",i[10]),I(e,"click",i[11]),I(e,"focus",i[12]),I(e,"keydown",i[13]),I(e,"keypress",i[14]),I(e,"keyup",i[15]),I(e,"mouseenter",i[16]),I(e,"mouseleave",i[17]),I(e,"mouseover",i[18])],n=!0)},p(d,u){o&&o.p&&(!r||u&128)&&Me(o,s,d,d[7],r?Ne(s,d[7],u,null):Fe(d[7]),null),gt(d[0]?"a":"div")(e,h=De(l,[(!r||u&1&&t!==(t=d[0]?void 0:"link"))&&{role:t},(!r||u&1)&&{href:d[0]},u&4&&d[2],(!r||u&2)&&{class:d[1]}]))},i(d){r||(F(o,d),r=!0)},o(d){O(o,d),r=!1},d(d){d&&R(e),o&&o.d(d),n=!1,ht(a)}}}function Id(i){let e,t=i[0]?"a":"div",r,n=(i[0]?"a":"div")&&Pn(i);return{c(){e=$("li"),n&&n.c()},l(a){e=ee(a,"LI",{});var s=te(e);n&&n.l(s),s.forEach(R)},m(a,s){G(a,e,s),n&&n.m(e,null),r=!0},p(a,[s]){a[0],t?ge(t,a[0]?"a":"div")?(n.d(1),n=Pn(a),t=a[0]?"a":"div",n.c(),n.m(e,null)):n.p(a,s):(n=Pn(a),t=a[0]?"a":"div",n.c(),n.m(e,null))},i(a){r||(F(n,a),r=!0)},o(a){O(n,a),r=!1},d(a){a&&R(e),n&&n.d(a)}}}function Ud(i,e,t){let r,n;const a=["href","activeClass","nonActiveClass"];let s=he(e,a),{$$slots:o={},$$scope:l}=e,{href:h=""}=e,{activeClass:d=void 0}=e,{nonActiveClass:u=void 0}=e;const f=et("navbarContext")??{},c=et("activeUrl");let g="";c.subscribe(E=>{t(5,g=E)});function m(E){U.call(this,i,E)}function v(E){U.call(this,i,E)}function k(E){U.call(this,i,E)}function C(E){U.call(this,i,E)}function p(E){U.call(this,i,E)}function _(E){U.call(this,i,E)}function b(E){U.call(this,i,E)}function y(E){U.call(this,i,E)}function M(E){U.call(this,i,E)}function P(E){U.call(this,i,E)}return i.$$set=E=>{t(21,e=X(X({},e),de(E))),t(2,s=he(e,a)),"href"in E&&t(0,h=E.href),"activeClass"in E&&t(3,d=E.activeClass),"nonActiveClass"in E&&t(4,u=E.nonActiveClass),"$$scope"in E&&t(7,l=E.$$scope)},i.$$.update=()=>{i.$$.dirty&33&&t(6,r=g?h===g:!1),t(1,n=ce("block py-2 pe-4 ps-3 md:p-0 rounded md:border-0",r?d??f.activeClass:u??f.nonActiveClass,e.class))},e=de(e),[h,n,s,d,u,g,r,l,o,m,v,k,C,p,_,b,y,M,P]}class En extends Ce{constructor(e){super(),Se(this,e,Ud,Id,ge,{href:0,activeClass:3,nonActiveClass:4})}}function Vd(i){let e,t,r;const n=i[13].default,a=Re(n,i,i[15],null);let s=[i[5],{class:i[2]},{hidden:i[1]}],o={};for(let l=0;l<s.length;l+=1)o=X(o,s[l]);return{c(){e=$("div"),t=$("ul"),a&&a.c(),this.h()},l(l){e=ee(l,"DIV",{class:!0});var h=te(e);t=ee(h,"UL",{class:!0});var d=te(t);a&&a.l(d),d.forEach(R),h.forEach(R),this.h()},h(){z(t,"class",i[3]),Ie(e,o)},m(l,h){G(l,e,h),ie(e,t),a&&a.m(t,null),r=!0},p(l,h){a&&a.p&&(!r||h&32768)&&Me(a,n,l,l[15],r?Ne(n,l[15],h,null):Fe(l[15]),null),(!r||h&8)&&z(t,"class",l[3]),Ie(e,o=De(s,[h&32&&l[5],(!r||h&4)&&{class:l[2]},(!r||h&2)&&{hidden:l[1]}]))},i(l){r||(F(a,l),r=!0)},o(l){O(a,l),r=!1},d(l){l&&R(e),a&&a.d(l)}}}function zd(i){let e,t,r,n,a,s;t=new Rr({props:{tag:"ul",border:!0,rounded:!0,color:"navbarUl",class:i[3],$$slots:{default:[Bd]},$$scope:{ctx:i}}});let o=[i[5],{class:i[2]},{role:"button"},{tabindex:"0"}],l={};for(let h=0;h<o.length;h+=1)l=X(l,o[h]);return{c(){e=$("div"),q(t.$$.fragment),this.h()},l(h){e=ee(h,"DIV",{class:!0,role:!0,tabindex:!0});var d=te(e);Q(t.$$.fragment,d),d.forEach(R),this.h()},h(){Ie(e,l)},m(h,d){G(h,e,d),J(t,e,null),n=!0,a||(s=I(e,"click",i[14]),a=!0)},p(h,d){i=h;const u={};d&8&&(u.class=i[3]),d&32768&&(u.$$scope={dirty:d,ctx:i}),t.$set(u),Ie(e,l=De(o,[d&32&&i[5],(!n||d&4)&&{class:i[2]},{role:"button"},{tabindex:"0"}]))},i(h){n||(F(t.$$.fragment,h),h&&Zo(()=>{n&&(r||(r=ya(e,Ca,i[0],!0)),r.run(1))}),n=!0)},o(h){O(t.$$.fragment,h),h&&(r||(r=ya(e,Ca,i[0],!1)),r.run(0)),n=!1},d(h){h&&R(e),Z(t),h&&r&&r.end(),a=!1,s()}}}function Bd(i){let e;const t=i[13].default,r=Re(t,i,i[15],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&32768)&&Me(r,t,n,n[15],e?Ne(t,n[15],a,null):Fe(n[15]),null)},i(n){e||(F(r,n),e=!0)},o(n){O(r,n),e=!1},d(n){r&&r.d(n)}}}function Hd(i){let e,t,r,n;const a=[zd,Vd],s=[];function o(l,h){return l[1]?1:0}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),r=pe()},l(l){t.l(l),r=pe()},m(l,h){s[e].m(l,h),G(l,r,h),n=!0},p(l,[h]){let d=e;e=o(l),e===d?s[e].p(l,h):(je(),O(s[d],1,1,()=>{s[d]=null}),Ye(),t=s[e],t?t.p(l,h):(t=s[e]=a[e](l),t.c()),F(t,1),t.m(r.parentNode,r))},i(l){n||(F(t),n=!0)},o(l){O(t),n=!1},d(l){l&&R(r),s[e].d(l)}}}function Wd(i,e,t){const r=["activeUrl","divClass","ulClass","hidden","slideParams","activeClass","nonActiveClass"];let n=he(e,r),a,{$$slots:s={},$$scope:o}=e;const l=Tr("");let{activeUrl:h=""}=e,{divClass:d="w-full md:block md:w-auto"}=e,{ulClass:u="flex flex-col p-4 mt-4 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:text-sm md:font-medium"}=e,{hidden:f=void 0}=e,{slideParams:c={delay:250,duration:500,easing:Ol}}=e,{activeClass:g="text-white bg-primary-700 md:bg-transparent md:text-primary-700 md:dark:text-white dark:bg-primary-600 md:dark:bg-transparent"}=e,{nonActiveClass:m="text-gray-700 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-primary-700 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent"}=e;Et("navbarContext",{activeClass:g,nonActiveClass:m}),Et("activeUrl",l);let v=et("navHidden");Er(i,v,b=>t(12,a=b));let k,C,p;function _(b){U.call(this,i,b)}return i.$$set=b=>{t(17,e=X(X({},e),de(b))),t(5,n=he(e,r)),"activeUrl"in b&&t(6,h=b.activeUrl),"divClass"in b&&t(7,d=b.divClass),"ulClass"in b&&t(8,u=b.ulClass),"hidden"in b&&t(9,f=b.hidden),"slideParams"in b&&t(0,c=b.slideParams),"activeClass"in b&&t(10,g=b.activeClass),"nonActiveClass"in b&&t(11,m=b.nonActiveClass),"$$scope"in b&&t(15,o=b.$$scope)},i.$$.update=()=>{i.$$.dirty&64&&l.set(h),i.$$.dirty&4608&&t(1,k=f??a??!0),t(2,C=ce(d,e.class)),t(3,p=ce(u,e.classUl))},e=de(e),[c,k,C,p,v,n,h,d,u,f,g,m,a,s,_,o]}class jd extends Ce{constructor(e){super(),Se(this,e,Wd,Hd,ge,{activeUrl:6,divClass:7,ulClass:8,hidden:9,slideParams:0,activeClass:10,nonActiveClass:11})}}function Yd(i){let e,t,r,n,a,s=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},i[7],{class:r=ce("shrink-0",i[6][i[0]],i[8].class)},{role:i[1]},{"aria-label":i[5]},{viewBox:"0 0 10 7"}],o={};for(let l=0;l<s.length;l+=1)o=X(o,s[l]);return{c(){e=Tt("svg"),t=Tt("path"),this.h()},l(l){e=At(l,"svg",{xmlns:!0,fill:!0,class:!0,role:!0,"aria-label":!0,viewBox:!0});var h=te(e);t=At(h,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),te(t).forEach(R),h.forEach(R),this.h()},h(){z(t,"stroke","currentColor"),z(t,"stroke-linecap",i[2]),z(t,"stroke-linejoin",i[3]),z(t,"stroke-width",i[4]),z(t,"d","m1 1.444 4 3.791 4-3.79"),yr(e,o)},m(l,h){G(l,e,h),ie(e,t),n||(a=[I(e,"click",i[9]),I(e,"keydown",i[10]),I(e,"keyup",i[11]),I(e,"focus",i[12]),I(e,"blur",i[13]),I(e,"mouseenter",i[14]),I(e,"mouseleave",i[15]),I(e,"mouseover",i[16]),I(e,"mouseout",i[17])],n=!0)},p(l,[h]){h&4&&z(t,"stroke-linecap",l[2]),h&8&&z(t,"stroke-linejoin",l[3]),h&16&&z(t,"stroke-width",l[4]),yr(e,o=De(s,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},h&128&&l[7],h&257&&r!==(r=ce("shrink-0",l[6][l[0]],l[8].class))&&{class:r},h&2&&{role:l[1]},h&32&&{"aria-label":l[5]},{viewBox:"0 0 10 7"}]))},i:it,o:it,d(l){l&&R(e),n=!1,ht(a)}}}function Xd(i,e,t){const r=["size","role","strokeLinecap","strokeLinejoin","strokeWidth","ariaLabel"];let n=he(e,r);const a=et("iconCtx")??{},s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:o=a.size||"md"}=e,{role:l=a.role||"img"}=e,{strokeLinecap:h=a.strokeLinecap||"round"}=e,{strokeLinejoin:d=a.strokeLinejoin||"round"}=e,{strokeWidth:u=a.strokeWidth||"2"}=e,{ariaLabel:f="chevron down outline"}=e;function c(y){U.call(this,i,y)}function g(y){U.call(this,i,y)}function m(y){U.call(this,i,y)}function v(y){U.call(this,i,y)}function k(y){U.call(this,i,y)}function C(y){U.call(this,i,y)}function p(y){U.call(this,i,y)}function _(y){U.call(this,i,y)}function b(y){U.call(this,i,y)}return i.$$set=y=>{t(8,e=X(X({},e),de(y))),t(7,n=he(e,r)),"size"in y&&t(0,o=y.size),"role"in y&&t(1,l=y.role),"strokeLinecap"in y&&t(2,h=y.strokeLinecap),"strokeLinejoin"in y&&t(3,d=y.strokeLinejoin),"strokeWidth"in y&&t(4,u=y.strokeWidth),"ariaLabel"in y&&t(5,f=y.ariaLabel)},e=de(e),[o,l,h,d,u,f,s,n,e,c,g,m,v,k,C,p,_,b]}class Kd extends Ce{constructor(e){super(),Se(this,e,Xd,Yd,ge,{size:0,role:1,strokeLinecap:2,strokeLinejoin:3,strokeWidth:4,ariaLabel:5})}}function qd(i){let e,t,r,n,a,s=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},i[7],{class:r=ce("shrink-0",i[6][i[0]],i[8].class)},{role:i[1]},{"aria-label":i[5]},{viewBox:"0 0 20 20"}],o={};for(let l=0;l<s.length;l+=1)o=X(o,s[l]);return{c(){e=Tt("svg"),t=Tt("path"),this.h()},l(l){e=At(l,"svg",{xmlns:!0,fill:!0,class:!0,role:!0,"aria-label":!0,viewBox:!0});var h=te(e);t=At(h,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),te(t).forEach(R),h.forEach(R),this.h()},h(){z(t,"stroke","currentColor"),z(t,"stroke-linecap",i[2]),z(t,"stroke-linejoin",i[3]),z(t,"stroke-width",i[4]),z(t,"d","M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"),yr(e,o)},m(l,h){G(l,e,h),ie(e,t),n||(a=[I(e,"click",i[9]),I(e,"keydown",i[10]),I(e,"keyup",i[11]),I(e,"focus",i[12]),I(e,"blur",i[13]),I(e,"mouseenter",i[14]),I(e,"mouseleave",i[15]),I(e,"mouseover",i[16]),I(e,"mouseout",i[17])],n=!0)},p(l,[h]){h&4&&z(t,"stroke-linecap",l[2]),h&8&&z(t,"stroke-linejoin",l[3]),h&16&&z(t,"stroke-width",l[4]),yr(e,o=De(s,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},h&128&&l[7],h&257&&r!==(r=ce("shrink-0",l[6][l[0]],l[8].class))&&{class:r},h&2&&{role:l[1]},h&32&&{"aria-label":l[5]},{viewBox:"0 0 20 20"}]))},i:it,o:it,d(l){l&&R(e),n=!1,ht(a)}}}function Qd(i,e,t){const r=["size","role","strokeLinecap","strokeLinejoin","strokeWidth","ariaLabel"];let n=he(e,r);const a=et("iconCtx")??{},s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:o=a.size||"md"}=e,{role:l=a.role||"img"}=e,{strokeLinecap:h=a.strokeLinecap||"round"}=e,{strokeLinejoin:d=a.strokeLinejoin||"round"}=e,{strokeWidth:u=a.strokeWidth||"2"}=e,{ariaLabel:f="exclamation circle outline"}=e;function c(y){U.call(this,i,y)}function g(y){U.call(this,i,y)}function m(y){U.call(this,i,y)}function v(y){U.call(this,i,y)}function k(y){U.call(this,i,y)}function C(y){U.call(this,i,y)}function p(y){U.call(this,i,y)}function _(y){U.call(this,i,y)}function b(y){U.call(this,i,y)}return i.$$set=y=>{t(8,e=X(X({},e),de(y))),t(7,n=he(e,r)),"size"in y&&t(0,o=y.size),"role"in y&&t(1,l=y.role),"strokeLinecap"in y&&t(2,h=y.strokeLinecap),"strokeLinejoin"in y&&t(3,d=y.strokeLinejoin),"strokeWidth"in y&&t(4,u=y.strokeWidth),"ariaLabel"in y&&t(5,f=y.ariaLabel)},e=de(e),[o,l,h,d,u,f,s,n,e,c,g,m,v,k,C,p,_,b]}class Jd extends Ce{constructor(e){super(),Se(this,e,Qd,qd,ge,{size:0,role:1,strokeLinecap:2,strokeLinejoin:3,strokeWidth:4,ariaLabel:5})}}var es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zd(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ra={exports:{}},Ti={},uo={},_e={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i._registerNode=i.Konva=i.glob=void 0;const e=Math.PI/180;function t(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}i.glob=typeof es<"u"?es:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},i.Konva={_global:i.glob,version:"9.3.0",isBrowser:t(),isUnminified:/param/.test(function(n){}.toString()),dblClickWindow:400,getAngle(n){return i.Konva.angleDeg?n*e:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return i.Konva.DD.isDragging},isDragReady(){return!!i.Konva.DD.node},releaseCanvasOnDestroy:!0,document:i.glob.document,_injectGlobal(n){i.glob.Konva=n}};const r=n=>{i.Konva[n.prototype.getClassName()]=n};i._registerNode=r,i.Konva._injectGlobal(i.Konva)})(_e);var ze={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Util=i.Transform=void 0;const e=_e;class t{constructor(_=[1,0,0,1,0,0]){this.dirty=!1,this.m=_&&_.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(_){_.m[0]=this.m[0],_.m[1]=this.m[1],_.m[2]=this.m[2],_.m[3]=this.m[3],_.m[4]=this.m[4],_.m[5]=this.m[5]}point(_){var b=this.m;return{x:b[0]*_.x+b[2]*_.y+b[4],y:b[1]*_.x+b[3]*_.y+b[5]}}translate(_,b){return this.m[4]+=this.m[0]*_+this.m[2]*b,this.m[5]+=this.m[1]*_+this.m[3]*b,this}scale(_,b){return this.m[0]*=_,this.m[1]*=_,this.m[2]*=b,this.m[3]*=b,this}rotate(_){var b=Math.cos(_),y=Math.sin(_),M=this.m[0]*b+this.m[2]*y,P=this.m[1]*b+this.m[3]*y,E=this.m[0]*-y+this.m[2]*b,A=this.m[1]*-y+this.m[3]*b;return this.m[0]=M,this.m[1]=P,this.m[2]=E,this.m[3]=A,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(_,b){var y=this.m[0]+this.m[2]*b,M=this.m[1]+this.m[3]*b,P=this.m[2]+this.m[0]*_,E=this.m[3]+this.m[1]*_;return this.m[0]=y,this.m[1]=M,this.m[2]=P,this.m[3]=E,this}multiply(_){var b=this.m[0]*_.m[0]+this.m[2]*_.m[1],y=this.m[1]*_.m[0]+this.m[3]*_.m[1],M=this.m[0]*_.m[2]+this.m[2]*_.m[3],P=this.m[1]*_.m[2]+this.m[3]*_.m[3],E=this.m[0]*_.m[4]+this.m[2]*_.m[5]+this.m[4],A=this.m[1]*_.m[4]+this.m[3]*_.m[5]+this.m[5];return this.m[0]=b,this.m[1]=y,this.m[2]=M,this.m[3]=P,this.m[4]=E,this.m[5]=A,this}invert(){var _=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),b=this.m[3]*_,y=-this.m[1]*_,M=-this.m[2]*_,P=this.m[0]*_,E=_*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),A=_*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=b,this.m[1]=y,this.m[2]=M,this.m[3]=P,this.m[4]=E,this.m[5]=A,this}getMatrix(){return this.m}decompose(){var _=this.m[0],b=this.m[1],y=this.m[2],M=this.m[3],P=this.m[4],E=this.m[5],A=_*M-b*y;let T={x:P,y:E,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(_!=0||b!=0){var S=Math.sqrt(_*_+b*b);T.rotation=b>0?Math.acos(_/S):-Math.acos(_/S),T.scaleX=S,T.scaleY=A/S,T.skewX=(_*y+b*M)/A,T.skewY=0}else if(y!=0||M!=0){var N=Math.sqrt(y*y+M*M);T.rotation=Math.PI/2-(M>0?Math.acos(-y/N):-Math.acos(y/N)),T.scaleX=A/N,T.scaleY=N,T.skewX=0,T.skewY=(_*y+b*M)/A}return T.rotation=i.Util._getRotation(T.rotation),T}}i.Transform=t;var r="[object Array]",n="[object Number]",a="[object String]",s="[object Boolean]",o=Math.PI/180,l=180/Math.PI,h="#",d="",u="0",f="Konva warning: ",c="Konva error: ",g="rgb(",m={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},v=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,k=[];const C=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(p){setTimeout(p,60)};i.Util={_isElement(p){return!!(p&&p.nodeType==1)},_isFunction(p){return!!(p&&p.constructor&&p.call&&p.apply)},_isPlainObject(p){return!!p&&p.constructor===Object},_isArray(p){return Object.prototype.toString.call(p)===r},_isNumber(p){return Object.prototype.toString.call(p)===n&&!isNaN(p)&&isFinite(p)},_isString(p){return Object.prototype.toString.call(p)===a},_isBoolean(p){return Object.prototype.toString.call(p)===s},isObject(p){return p instanceof Object},isValidSelector(p){if(typeof p!="string")return!1;var _=p[0];return _==="#"||_==="."||_===_.toUpperCase()},_sign(p){return p===0||p>0?1:-1},requestAnimFrame(p){k.push(p),k.length===1&&C(function(){const _=k;k=[],_.forEach(function(b){b()})})},createCanvasElement(){var p=document.createElement("canvas");try{p.style=p.style||{}}catch{}return p},createImageElement(){return document.createElement("img")},_isInDocument(p){for(;p=p.parentNode;)if(p==document)return!0;return!1},_urlToImage(p,_){var b=i.Util.createImageElement();b.onload=function(){_(b)},b.src=p},_rgbToHex(p,_,b){return((1<<24)+(p<<16)+(_<<8)+b).toString(16).slice(1)},_hexToRgb(p){p=p.replace(h,d);var _=parseInt(p,16);return{r:_>>16&255,g:_>>8&255,b:_&255}},getRandomColor(){for(var p=(Math.random()*16777215<<0).toString(16);p.length<6;)p=u+p;return h+p},getRGB(p){var _;return p in m?(_=m[p],{r:_[0],g:_[1],b:_[2]}):p[0]===h?this._hexToRgb(p.substring(1)):p.substr(0,4)===g?(_=v.exec(p.replace(/ /g,"")),{r:parseInt(_[1],10),g:parseInt(_[2],10),b:parseInt(_[3],10)}):{r:0,g:0,b:0}},colorToRGBA(p){return p=p||"black",i.Util._namedColorToRBA(p)||i.Util._hex3ColorToRGBA(p)||i.Util._hex4ColorToRGBA(p)||i.Util._hex6ColorToRGBA(p)||i.Util._hex8ColorToRGBA(p)||i.Util._rgbColorToRGBA(p)||i.Util._rgbaColorToRGBA(p)||i.Util._hslColorToRGBA(p)},_namedColorToRBA(p){var _=m[p.toLowerCase()];return _?{r:_[0],g:_[1],b:_[2],a:1}:null},_rgbColorToRGBA(p){if(p.indexOf("rgb(")===0){p=p.match(/rgb\(([^)]+)\)/)[1];var _=p.split(/ *, */).map(Number);return{r:_[0],g:_[1],b:_[2],a:1}}},_rgbaColorToRGBA(p){if(p.indexOf("rgba(")===0){p=p.match(/rgba\(([^)]+)\)/)[1];var _=p.split(/ *, */).map((b,y)=>b.slice(-1)==="%"?y===3?parseInt(b)/100:parseInt(b)/100*255:Number(b));return{r:_[0],g:_[1],b:_[2],a:_[3]}}},_hex8ColorToRGBA(p){if(p[0]==="#"&&p.length===9)return{r:parseInt(p.slice(1,3),16),g:parseInt(p.slice(3,5),16),b:parseInt(p.slice(5,7),16),a:parseInt(p.slice(7,9),16)/255}},_hex6ColorToRGBA(p){if(p[0]==="#"&&p.length===7)return{r:parseInt(p.slice(1,3),16),g:parseInt(p.slice(3,5),16),b:parseInt(p.slice(5,7),16),a:1}},_hex4ColorToRGBA(p){if(p[0]==="#"&&p.length===5)return{r:parseInt(p[1]+p[1],16),g:parseInt(p[2]+p[2],16),b:parseInt(p[3]+p[3],16),a:parseInt(p[4]+p[4],16)/255}},_hex3ColorToRGBA(p){if(p[0]==="#"&&p.length===4)return{r:parseInt(p[1]+p[1],16),g:parseInt(p[2]+p[2],16),b:parseInt(p[3]+p[3],16),a:1}},_hslColorToRGBA(p){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(p)){const[_,...b]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(p),y=Number(b[0])/360,M=Number(b[1])/100,P=Number(b[2])/100;let E,A,T;if(M===0)return T=P*255,{r:Math.round(T),g:Math.round(T),b:Math.round(T),a:1};P<.5?E=P*(1+M):E=P+M-P*M;const S=2*P-E,N=[0,0,0];for(let D=0;D<3;D++)A=y+1/3*-(D-1),A<0&&A++,A>1&&A--,6*A<1?T=S+(E-S)*6*A:2*A<1?T=E:3*A<2?T=S+(E-S)*(2/3-A)*6:T=S,N[D]=T*255;return{r:Math.round(N[0]),g:Math.round(N[1]),b:Math.round(N[2]),a:1}}},haveIntersection(p,_){return!(_.x>p.x+p.width||_.x+_.width<p.x||_.y>p.y+p.height||_.y+_.height<p.y)},cloneObject(p){var _={};for(var b in p)this._isPlainObject(p[b])?_[b]=this.cloneObject(p[b]):this._isArray(p[b])?_[b]=this.cloneArray(p[b]):_[b]=p[b];return _},cloneArray(p){return p.slice(0)},degToRad(p){return p*o},radToDeg(p){return p*l},_degToRad(p){return i.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),i.Util.degToRad(p)},_radToDeg(p){return i.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),i.Util.radToDeg(p)},_getRotation(p){return e.Konva.angleDeg?i.Util.radToDeg(p):p},_capitalize(p){return p.charAt(0).toUpperCase()+p.slice(1)},throw(p){throw new Error(c+p)},error(p){console.error(c+p)},warn(p){e.Konva.showWarnings&&console.warn(f+p)},each(p,_){for(var b in p)_(b,p[b])},_inRange(p,_,b){return _<=p&&p<b},_getProjectionToSegment(p,_,b,y,M,P){var E,A,T,S=(p-b)*(p-b)+(_-y)*(_-y);if(S==0)E=p,A=_,T=(M-b)*(M-b)+(P-y)*(P-y);else{var N=((M-p)*(b-p)+(P-_)*(y-_))/S;N<0?(E=p,A=_,T=(p-M)*(p-M)+(_-P)*(_-P)):N>1?(E=b,A=y,T=(b-M)*(b-M)+(y-P)*(y-P)):(E=p+N*(b-p),A=_+N*(y-_),T=(E-M)*(E-M)+(A-P)*(A-P))}return[E,A,T]},_getProjectionToLine(p,_,b){var y=i.Util.cloneObject(p),M=Number.MAX_VALUE;return _.forEach(function(P,E){if(!(!b&&E===_.length-1)){var A=_[(E+1)%_.length],T=i.Util._getProjectionToSegment(P.x,P.y,A.x,A.y,p.x,p.y),S=T[0],N=T[1],D=T[2];D<M&&(y.x=S,y.y=N,M=D)}}),y},_prepareArrayForTween(p,_,b){var y,M=[],P=[];if(p.length>_.length){var E=_;_=p,p=E}for(y=0;y<p.length;y+=2)M.push({x:p[y],y:p[y+1]});for(y=0;y<_.length;y+=2)P.push({x:_[y],y:_[y+1]});var A=[];return P.forEach(function(T){var S=i.Util._getProjectionToLine(T,M,b);A.push(S.x),A.push(S.y)}),A},_prepareToStringify(p){var _;p.visitedByCircularReferenceRemoval=!0;for(var b in p)if(p.hasOwnProperty(b)&&p[b]&&typeof p[b]=="object"){if(_=Object.getOwnPropertyDescriptor(p,b),p[b].visitedByCircularReferenceRemoval||i.Util._isElement(p[b]))if(_.configurable)delete p[b];else return null;else if(i.Util._prepareToStringify(p[b])===null)if(_.configurable)delete p[b];else return null}return delete p.visitedByCircularReferenceRemoval,p},_assign(p,_){for(var b in _)p[b]=_[b];return p},_getFirstPointerId(p){return p.touches?p.changedTouches[0].identifier:p.pointerId||999},releaseCanvas(...p){e.Konva.releaseCanvasOnDestroy&&p.forEach(_=>{_.width=0,_.height=0})},drawRoundedRectPath(p,_,b,y){let M=0,P=0,E=0,A=0;typeof y=="number"?M=P=E=A=Math.min(y,_/2,b/2):(M=Math.min(y[0]||0,_/2,b/2),P=Math.min(y[1]||0,_/2,b/2),A=Math.min(y[2]||0,_/2,b/2),E=Math.min(y[3]||0,_/2,b/2)),p.moveTo(M,0),p.lineTo(_-P,0),p.arc(_-P,P,P,Math.PI*3/2,0,!1),p.lineTo(_,b-A),p.arc(_-A,b-A,A,0,Math.PI/2,!1),p.lineTo(E,b),p.arc(E,b-E,E,Math.PI/2,Math.PI,!1),p.lineTo(0,M),p.arc(M,M,M,Math.PI,Math.PI*3/2,!1)}}})(ze);var Ve={},me={},oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.getComponentValidator=oe.getBooleanValidator=oe.getNumberArrayValidator=oe.getFunctionValidator=oe.getStringOrGradientValidator=oe.getStringValidator=oe.getNumberOrAutoValidator=oe.getNumberOrArrayOfNumbersValidator=oe.getNumberValidator=oe.alphaComponent=oe.RGBComponent=void 0;const Ot=_e,Be=ze;function Lt(i){return Be.Util._isString(i)?'"'+i+'"':Object.prototype.toString.call(i)==="[object Number]"||Be.Util._isBoolean(i)?i:Object.prototype.toString.call(i)}function $d(i){return i>255?255:i<0?0:Math.round(i)}oe.RGBComponent=$d;function e0(i){return i>1?1:i<1e-4?1e-4:i}oe.alphaComponent=e0;function t0(){if(Ot.Konva.isUnminified)return function(i,e){return Be.Util._isNumber(i)||Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),i}}oe.getNumberValidator=t0;function r0(i){if(Ot.Konva.isUnminified)return function(e,t){let r=Be.Util._isNumber(e),n=Be.Util._isArray(e)&&e.length==i;return!r&&!n&&Be.Util.warn(Lt(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>('+i+")"),e}}oe.getNumberOrArrayOfNumbersValidator=r0;function i0(){if(Ot.Konva.isUnminified)return function(i,e){var t=Be.Util._isNumber(i),r=i==="auto";return t||r||Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),i}}oe.getNumberOrAutoValidator=i0;function n0(){if(Ot.Konva.isUnminified)return function(i,e){return Be.Util._isString(i)||Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),i}}oe.getStringValidator=n0;function a0(){if(Ot.Konva.isUnminified)return function(i,e){const t=Be.Util._isString(i),r=Object.prototype.toString.call(i)==="[object CanvasGradient]"||i&&i.addColorStop;return t||r||Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),i}}oe.getStringOrGradientValidator=a0;function s0(){if(Ot.Konva.isUnminified)return function(i,e){return Be.Util._isFunction(i)||Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),i}}oe.getFunctionValidator=s0;function o0(){if(Ot.Konva.isUnminified)return function(i,e){const t=Int8Array?Object.getPrototypeOf(Int8Array):null;return t&&i instanceof t||(Be.Util._isArray(i)?i.forEach(function(r){Be.Util._isNumber(r)||Be.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),i}}oe.getNumberArrayValidator=o0;function l0(){if(Ot.Konva.isUnminified)return function(i,e){var t=i===!0||i===!1;return t||Be.Util.warn(Lt(i)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),i}}oe.getBooleanValidator=l0;function h0(i){if(Ot.Konva.isUnminified)return function(e,t){return e==null||Be.Util.isObject(e)||Be.Util.warn(Lt(e)+' is a not valid value for "'+t+'" attribute. The value should be an object with properties '+i),e}}oe.getComponentValidator=h0;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Factory=void 0;const e=ze,t=oe;var r="get",n="set";i.Factory={addGetterSetter(a,s,o,l,h){i.Factory.addGetter(a,s,o),i.Factory.addSetter(a,s,l,h),i.Factory.addOverloadedGetterSetter(a,s)},addGetter(a,s,o){var l=r+e.Util._capitalize(s);a.prototype[l]=a.prototype[l]||function(){var h=this.attrs[s];return h===void 0?o:h}},addSetter(a,s,o,l){var h=n+e.Util._capitalize(s);a.prototype[h]||i.Factory.overWriteSetter(a,s,o,l)},overWriteSetter(a,s,o,l){var h=n+e.Util._capitalize(s);a.prototype[h]=function(d){return o&&d!==void 0&&d!==null&&(d=o.call(this,d,s)),this._setAttr(s,d),l&&l.call(this),this}},addComponentsGetterSetter(a,s,o,l,h){var d=o.length,u=e.Util._capitalize,f=r+u(s),c=n+u(s),g,m;a.prototype[f]=function(){var k={};for(g=0;g<d;g++)m=o[g],k[m]=this.getAttr(s+u(m));return k};var v=(0,t.getComponentValidator)(o);a.prototype[c]=function(k){var C=this.attrs[s],p;l&&(k=l.call(this,k)),v&&v.call(this,k,s);for(p in k)k.hasOwnProperty(p)&&this._setAttr(s+u(p),k[p]);return k||o.forEach(_=>{this._setAttr(s+u(_),void 0)}),this._fireChangeEvent(s,C,k),h&&h.call(this),this},i.Factory.addOverloadedGetterSetter(a,s)},addOverloadedGetterSetter(a,s){var o=e.Util._capitalize(s),l=n+o,h=r+o;a.prototype[s]=function(){return arguments.length?(this[l](arguments[0]),this):this[h]()}},addDeprecatedGetterSetter(a,s,o,l){e.Util.error("Adding deprecated "+s);var h=r+e.Util._capitalize(s),d=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";a.prototype[h]=function(){e.Util.error(d);var u=this.attrs[s];return u===void 0?o:u},i.Factory.addSetter(a,s,l,function(){e.Util.error(d)}),i.Factory.addOverloadedGetterSetter(a,s)},backCompat(a,s){e.Util.each(s,function(o,l){var h=a.prototype[l],d=r+e.Util._capitalize(o),u=n+e.Util._capitalize(o);function f(){h.apply(this,arguments),e.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}a.prototype[o]=f,a.prototype[d]=f,a.prototype[u]=f})},afterSetFilter(){this._filterUpToDate=!1}}})(me);var ct={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.HitContext=Pt.SceneContext=Pt.Context=void 0;const fo=ze,d0=_e;function c0(i){var e=[],t=i.length,r=fo.Util,n,a;for(n=0;n<t;n++)a=i[n],r._isNumber(a)?a=Math.round(a*1e3)/1e3:r._isString(a)||(a=a+""),e.push(a);return e}var ts=",",u0="(",f0=")",g0="([",m0="])",p0=";",_0="()",v0="=",rs=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],b0=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const y0=100;class Ai{constructor(e){this.canvas=e,d0.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){var r=this.traceArr,n=r.length,a="",s,o,l,h;for(s=0;s<n;s++)o=r[s],l=o.method,l?(h=o.args,a+=l,e?a+=_0:fo.Util._isArray(h[0])?a+=g0+h.join(ts)+m0:(t&&(h=h.map(d=>typeof d=="number"?Math.floor(d):d)),a+=u0+h.join(ts)+f0)):(a+=o.property,e||(a+=v0+o.val)),a+=p0;return a}clearTrace(){this.traceArr=[]}_trace(e){var t=this.traceArr,r;t.push(e),r=t.length,r>=y0&&t.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){const t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){var t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){const t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}setAttr(e,t){this._context[e]=t}arc(e,t,r,n,a,s){this._context.arc(e,t,r,n,a,s)}arcTo(e,t,r,n,a){this._context.arcTo(e,t,r,n,a)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,r,n,a,s){this._context.bezierCurveTo(e,t,r,n,a,s)}clearRect(e,t,r,n){this._context.clearRect(e,t,r,n)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){var r=arguments;if(r.length===2)return this._context.createImageData(e,t);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,t,r,n){return this._context.createLinearGradient(e,t,r,n)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,r,n,a,s){return this._context.createRadialGradient(e,t,r,n,a,s)}drawImage(e,t,r,n,a,s,o,l,h){var d=arguments,u=this._context;d.length===3?u.drawImage(e,t,r):d.length===5?u.drawImage(e,t,r,n,a):d.length===9&&u.drawImage(e,t,r,n,a,s,o,l,h)}ellipse(e,t,r,n,a,s,o,l){this._context.ellipse(e,t,r,n,a,s,o,l)}isPointInPath(e,t,r,n){return r?this._context.isPointInPath(r,e,t,n):this._context.isPointInPath(e,t,n)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,r,n){this._context.fillRect(e,t,r,n)}strokeRect(e,t,r,n){this._context.strokeRect(e,t,r,n)}fillText(e,t,r,n){n?this._context.fillText(e,t,r,n):this._context.fillText(e,t,r)}measureText(e){return this._context.measureText(e)}getImageData(e,t,r,n){return this._context.getImageData(e,t,r,n)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,r,n){this._context.rect(e,t,r,n)}putImageData(e,t,r){this._context.putImageData(e,t,r)}quadraticCurveTo(e,t,r,n){this._context.quadraticCurveTo(e,t,r,n)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,r,n,a,s){this._context.setTransform(e,t,r,n,a,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,r,n){this._context.strokeText(e,t,r,n)}transform(e,t,r,n,a,s){this._context.transform(e,t,r,n,a,s)}translate(e,t){this._context.translate(e,t)}_enableTrace(){var e=this,t=rs.length,r=this.setAttr,n,a,s=function(o){var l=e[o],h;e[o]=function(){return a=c0(Array.prototype.slice.call(arguments,0)),h=l.apply(e,arguments),e._trace({method:o,args:a}),h}};for(n=0;n<t;n++)s(rs[n]);e.setAttr=function(){r.apply(e,arguments);var o=arguments[0],l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;var r=!t||t==="source-over";r||this.setAttr("globalCompositeOperation",t)}}Pt.Context=Ai;b0.forEach(function(i){Object.defineProperty(Ai.prototype,i,{get(){return this._context[i]},set(e){this._context[i]=e}})});class w0 extends Ai{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){var t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){const t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){const t=e.fill(),r=e.getFillPriority();if(t&&r==="color"){this._fillColor(e);return}const n=e.getFillPatternImage();if(n&&r==="pattern"){this._fillPattern(e);return}const a=e.getFillLinearGradientColorStops();if(a&&r==="linear-gradient"){this._fillLinearGradient(e);return}const s=e.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(e);return}t?this._fillColor(e):n?this._fillPattern(e):a?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const t=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),n=e.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(t.x,t.y,r.x,r.y);if(n){for(var s=0;s<n.length;s+=2)a.addColorStop(n[s],n[s+1]);this.setAttr("strokeStyle",a)}}_stroke(e){var t=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var a=e.getStrokeLinearGradientColorStops();a?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var t,r,n,a=(t=e.getShadowRGBA())!==null&&t!==void 0?t:"black",s=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,o=(n=e.getShadowOffset())!==null&&n!==void 0?n:{x:0,y:0},l=e.getAbsoluteScale(),h=this.canvas.getPixelRatio(),d=l.x*h,u=l.y*h;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",s*Math.min(Math.abs(d),Math.abs(u))),this.setAttr("shadowOffsetX",o.x*d),this.setAttr("shadowOffsetY",o.y*u)}}Pt.SceneContext=w0;class k0 extends Ai{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const a=e.getStrokeScaleEnabled();if(!a){this.save();var t=this.getCanvas().getPixelRatio();this.setTransform(t,0,0,t,0,0)}this._applyLineCap(e);var r=e.hitStrokeWidth(),n=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",n),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),a||this.restore()}}}Pt.HitContext=k0;Object.defineProperty(ct,"__esModule",{value:!0});ct.HitCanvas=ct.SceneCanvas=ct.Canvas=void 0;const vi=ze,go=Pt,mo=_e,C0=me,S0=oe;var si;function P0(){if(si)return si;var i=vi.Util.createCanvasElement(),e=i.getContext("2d");return si=function(){var t=mo.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}(),vi.Util.releaseCanvas(i),si}class Ri{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var t=e||{},r=t.pixelRatio||mo.Konva.pixelRatio||P0();this.pixelRatio=r,this._canvas=vi.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var t=this.pixelRatio,r=this.getContext()._context;r.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var t=this.pixelRatio,r=this.getContext()._context;r.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch{try{return this._canvas.toDataURL()}catch(n){return vi.Util.error("Unable to get data URL. "+n.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}ct.Canvas=Ri;C0.Factory.addGetterSetter(Ri,"pixelRatio",void 0,(0,S0.getNumberValidator)());class E0 extends Ri{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new go.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}ct.SceneCanvas=E0;class T0 extends Ri{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new go.HitContext(this),this.setSize(e.width,e.height)}}ct.HitCanvas=T0;var Mi={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DD=void 0;const e=_e,t=ze;i.DD={get isDragging(){var r=!1;return i.DD._dragElements.forEach(n=>{n.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){var r;return i.DD._dragElements.forEach(n=>{r=n.node}),r},_dragElements:new Map,_drag(r){const n=[];i.DD._dragElements.forEach((a,s)=>{const{node:o}=a,l=o.getStage();l.setPointersPositions(r),a.pointerId===void 0&&(a.pointerId=t.Util._getFirstPointerId(r));const h=l._changedPointerPositions.find(f=>f.id===a.pointerId);if(h){if(a.dragStatus!=="dragging"){var d=o.dragDistance(),u=Math.max(Math.abs(h.x-a.startPointerPos.x),Math.abs(h.y-a.startPointerPos.y));if(u<d||(o.startDrag({evt:r}),!o.isDragging()))return}o._setDragPosition(r,a),n.push(o)}}),n.forEach(a=>{a.fire("dragmove",{type:"dragmove",target:a,evt:r},!0)})},_endDragBefore(r){const n=[];i.DD._dragElements.forEach(a=>{const{node:s}=a,o=s.getStage();if(r&&o.setPointersPositions(r),!o._changedPointerPositions.find(d=>d.id===a.pointerId))return;(a.dragStatus==="dragging"||a.dragStatus==="stopped")&&(i.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,a.dragStatus="stopped");const h=a.node.getLayer()||a.node instanceof e.Konva.Stage&&a.node;h&&n.indexOf(h)===-1&&n.push(h)}),n.forEach(a=>{a.draw()})},_endDragAfter(r){i.DD._dragElements.forEach((n,a)=>{n.dragStatus==="stopped"&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:r},!0),n.dragStatus!=="dragging"&&i.DD._dragElements.delete(a)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",i.DD._endDragBefore,!0),window.addEventListener("touchend",i.DD._endDragBefore,!0),window.addEventListener("mousemove",i.DD._drag),window.addEventListener("touchmove",i.DD._drag),window.addEventListener("mouseup",i.DD._endDragAfter,!1),window.addEventListener("touchend",i.DD._endDragAfter,!1))})(Mi);Object.defineProperty(Ve,"__esModule",{value:!0});Ve.Node=void 0;const be=ze,Qr=me,oi=ct,Qt=_e,at=Mi,Xe=oe;var ui="absoluteOpacity",li="allEventListeners",kt="absoluteTransform",is="absoluteScale",Jt="canvas",A0="Change",R0="children",M0="konva",Vn="listening",ns="mouseenter",as="mouseleave",ss="set",os="Shape",fi=" ",ls="stage",Vt="transform",F0="Stage",zn="visible",N0=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(fi);let O0=1,ue=class Bn{constructor(e){this._id=O0++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Vt||e===kt)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,t){var r=this._cache.get(e),n=e===Vt||e===kt,a=r===void 0||n&&r.dirty===!0;return a&&(r=t.call(this),this._cache.set(e,r)),r}_calculate(e,t,r){if(!this._attachedDepsListeners.get(e)){const n=t.map(a=>a+"Change.konva").join(fi);this.on(n,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Jt)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===kt&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Jt)){const{scene:e,filter:t,hit:r}=this._cache.get(Jt);be.Util.releaseCanvas(e,t,r),this._cache.delete(Jt)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var t=e||{},r={};(t.x===void 0||t.y===void 0||t.width===void 0||t.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var n=Math.ceil(t.width||r.width),a=Math.ceil(t.height||r.height),s=t.pixelRatio,o=t.x===void 0?Math.floor(r.x):t.x,l=t.y===void 0?Math.floor(r.y):t.y,h=t.offset||0,d=t.drawBorder||!1,u=t.hitCanvasPixelRatio||1;if(!n||!a){be.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}n+=h*2+1,a+=h*2+1,o-=h,l-=h;var f=new oi.SceneCanvas({pixelRatio:s,width:n,height:a}),c=new oi.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),g=new oi.HitCanvas({pixelRatio:u,width:n,height:a}),m=f.getContext(),v=g.getContext();return g.isCache=!0,f.isCache=!0,this._cache.delete(Jt),this._filterUpToDate=!1,t.imageSmoothingEnabled===!1&&(f.getContext()._context.imageSmoothingEnabled=!1,c.getContext()._context.imageSmoothingEnabled=!1),m.save(),v.save(),m.translate(-o,-l),v.translate(-o,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(ui),this._clearSelfAndDescendantCache(is),this.drawScene(f,this),this.drawHit(g,this),this._isUnderCache=!1,m.restore(),v.restore(),d&&(m.save(),m.beginPath(),m.rect(0,0,n,a),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set(Jt,{scene:f,filter:c,hit:g,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Jt)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=1/0,a=1/0,s=-1/0,o=-1/0,l=this.getAbsoluteTransform(t);return r.forEach(function(h){var d=l.point(h);n===void 0&&(n=s=d.x,a=o=d.y),n=Math.min(n,d.x),a=Math.min(a,d.y),s=Math.max(s,d.x),o=Math.max(o,d.y)}),{x:n,y:a,width:s-n,height:o-a}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);var r=this._getCachedSceneCanvas(),n=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/n,r.height/n),e.restore()}_drawCachedHitCanvas(e){var t=this._getCanvasCache(),r=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),t=this._getCanvasCache(),r=t.scene,n=t.filter,a=n.getContext(),s,o,l,h;if(e){if(!this._filterUpToDate){var d=r.pixelRatio;n.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(s=e.length,a.clear(),a.drawImage(r._canvas,0,0,r.getWidth()/d,r.getHeight()/d),o=a.getImageData(0,0,n.getWidth(),n.getHeight()),l=0;l<s;l++){if(h=e[l],typeof h!="function"){be.Util.error("Filter should be type of function, but got "+typeof h+" instead. Please check correct filters");continue}h.call(this,o),a.putImageData(o,0,0)}}catch(u){be.Util.error("Unable to apply filter. "+u.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return n}return r}on(e,t){if(this._cache&&this._cache.delete(li),arguments.length===3)return this._delegate.apply(this,arguments);var r=e.split(fi),n=r.length,a,s,o,l,h;for(a=0;a<n;a++)s=r[a],o=s.split("."),l=o[0],h=o[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:h,handler:t});return this}off(e,t){var r=(e||"").split(fi),n=r.length,a,s,o,l,h,d;if(this._cache&&this._cache.delete(li),!e)for(s in this.eventListeners)this._off(s);for(a=0;a<n;a++)if(o=r[a],l=o.split("."),h=l[0],d=l[1],h)this.eventListeners[h]&&this._off(h,d,t);else for(s in this.eventListeners)this._off(s,d,t);return this}dispatchEvent(e){var t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(r){t.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,r){var n=this;this.on(e,function(a){for(var s=a.target.findAncestors(t,!0,n),o=0;o<s.length;o++)a=be.Util.cloneObject(a),a.currentTarget=s[o],r.call(s[o],a)})}remove(){return this.isDragging()&&this.stopDrag(),at.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(kt),this._clearSelfAndDescendantCache(ui),this._clearSelfAndDescendantCache(is),this._clearSelfAndDescendantCache(ls),this._clearSelfAndDescendantCache(zn),this._clearSelfAndDescendantCache(Vn)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var t="get"+be.Util._capitalize(e);return be.Util._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),t=[];e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var t,r;if(!e)return this;for(t in e)t!==R0&&(r=ss+be.Util._capitalize(t),be.Util._isFunction(this[r])?this[r](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(Vn,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(zn,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);var r=this.getLayer(),n=!1;at.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(n=!0)});var a=!t&&!Qt.Konva.hitOnDragEnabled&&n;return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),t=this,r=0,n,a,s,o;function l(d){for(n=[],a=d.length,s=0;s<a;s++)o=d[s],r++,o.nodeType!==os&&(n=n.concat(o.getChildren().slice())),o._id===t._id&&(s=a);n.length>0&&n[0].getDepth()<=e&&l(n)}const h=this.getStage();return t.nodeType!==F0&&h&&l(h.getChildren()),r}getDepth(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Vt),this._clearSelfAndDescendantCache(kt)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;var t=e.getPointerPosition();if(!t)return null;var r=this.getAbsoluteTransform().copy();return r.invert(),r.point(t)}getAbsolutePosition(e){let t=!1,r=this.parent;for(;r;){if(r.isCached()){t=!0;break}r=r.parent}t&&!e&&(e=!0);var n=this.getAbsoluteTransform(e).getMatrix(),a=new be.Transform,s=this.offset();return a.m=n.slice(),a.translate(s.x,s.y),a.getTranslation()}setAbsolutePosition(e){const{x:t,y:r,...n}=this._clearTransform();this.attrs.x=t,this.attrs.y=r,this._clearCache(Vt);var a=this._getAbsoluteTransform().copy();return a.invert(),a.translate(e.x,e.y),e={x:this.attrs.x+a.getTranslation().x,y:this.attrs.y+a.getTranslation().y},this._setTransform(n),this.setPosition({x:e.x,y:e.y}),this._clearCache(Vt),this._clearSelfAndDescendantCache(kt),this}_setTransform(e){var t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var t=e.x,r=e.y,n=this.x(),a=this.y();return t!==void 0&&(n+=t),r!==void 0&&(a+=r),this.setPosition({x:n,y:a}),this}_eachAncestorReverse(e,t){var r=[],n=this.getParent(),a,s;if(!(t&&t._id===this._id)){for(r.unshift(this);n&&(!t||n._id!==t._id);)r.unshift(n),n=n.parent;for(a=r.length,s=0;s<a;s++)e(r[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return be.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return be.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return be.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return be.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return be.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&be.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(ui,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},t=this.getAttrs(),r,n,a,s,o;e.attrs={};for(r in t)n=t[r],o=be.Util.isObject(n)&&!be.Util._isPlainObject(n)&&!be.Util._isArray(n),!o&&(a=typeof this[r]=="function"&&this[r],delete t[r],s=a?a.call(this):null,t[r]=n,s!==n&&(e.attrs[r]=n));return e.className=this.getClassName(),be.Util._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,r){var n=[];t&&this._isMatch(e)&&n.push(this);for(var a=this.parent;a;){if(a===r)return n;a._isMatch(e)&&n.push(a),a=a.parent}return n}isAncestorOf(e){return!1}findAncestor(e,t,r){return this.findAncestors(e,t,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var t=e.replace(/ /g,"").split(","),r=t.length,n,a;for(n=0;n<r;n++)if(a=t[n],be.Util.isValidSelector(a)||(be.Util.warn('Selector "'+a+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),be.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),be.Util.warn("Konva is awesome, right?")),a.charAt(0)==="#"){if(this.id()===a.slice(1))return!0}else if(a.charAt(0)==="."){if(this.hasName(a.slice(1)))return!0}else if(this.className===a||this.nodeType===a)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(ls,this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():null}fire(e,t={},r){return t.target=t.target||this,r?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(kt,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var t;if(e)return t=new be.Transform,this._eachAncestorReverse(function(n){var a=n.transformsEnabled();a==="all"?t.multiply(n.getTransform()):a==="position"&&t.translate(n.x()-n.offsetX(),n.y()-n.offsetY())},e),t;t=this._cache.get(kt)||new be.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();var r=this.transformsEnabled();if(r==="all")t.multiply(this.getTransform());else if(r==="position"){const n=this.attrs.x||0,a=this.attrs.y||0,s=this.attrs.offsetX||0,o=this.attrs.offsetY||0;t.translate(n-s,a-o)}return t.dirty=!1,t}getAbsoluteScale(e){for(var t=this;t;)t._isUnderCache&&(e=t),t=t.getParent();const n=this.getAbsoluteTransform(e).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Vt,this._getTransform)}_getTransform(){var e,t,r=this._cache.get(Vt)||new be.Transform;r.reset();var n=this.x(),a=this.y(),s=Qt.Konva.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(t=this.attrs.scaleY)!==null&&t!==void 0?t:1,h=this.attrs.skewX||0,d=this.attrs.skewY||0,u=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return(n!==0||a!==0)&&r.translate(n,a),s!==0&&r.rotate(s),(h!==0||d!==0)&&r.skew(h,d),(o!==1||l!==1)&&r.scale(o,l),(u!==0||f!==0)&&r.translate(-1*u,-1*f),r.dirty=!1,r}clone(e){var t=be.Util.cloneObject(this.attrs),r,n,a,s,o;for(r in e)t[r]=e[r];var l=new this.constructor(t);for(r in this.eventListeners)for(n=this.eventListeners[r],a=n.length,s=0;s<a;s++)o=n[s],o.name.indexOf(M0)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(o));return l}_toKonvaCanvas(e){e=e||{};var t=this.getClientRect(),r=this.getStage(),n=e.x!==void 0?e.x:Math.floor(t.x),a=e.y!==void 0?e.y:Math.floor(t.y),s=e.pixelRatio||1,o=new oi.SceneCanvas({width:e.width||Math.ceil(t.width)||(r?r.width():0),height:e.height||Math.ceil(t.height)||(r?r.height():0),pixelRatio:s}),l=o.getContext();return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(n||a)&&l.translate(-1*n,-1*a),this.drawScene(o),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var t=e.mimeType||null,r=e.quality||null,n=this._toKonvaCanvas(e).toDataURL(t,r);return e.callback&&e.callback(n),n}toImage(e){return new Promise((t,r)=>{try{const n=e?.callback;n&&delete e.callback,be.Util._urlToImage(this.toDataURL(e),function(a){t(a),n?.(a)})}catch(n){r(n)}})}toBlob(e){return new Promise((t,r)=>{try{const n=e?.callback;n&&delete e.callback,this.toCanvas(e).toBlob(a=>{t(a),n?.(a)},e?.mimeType,e?.quality)}catch(n){r(n)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Qt.Konva.dragDistance}_off(e,t,r){var n=this.eventListeners[e],a,s,o;for(a=0;a<n.length;a++)if(s=n[a].name,o=n[a].handler,(s!=="konva"||t==="konva")&&(!t||s===t)&&(!r||r===o)){if(n.splice(a,1),n.length===0){delete this.eventListeners[e];break}a--}}_fireChangeEvent(e,t,r){this._fire(e+A0,{oldVal:t,newVal:r})}addName(e){if(!this.hasName(e)){var t=this.name(),r=t?t+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const t=this.name();if(!t)return!1;var r=(t||"").split(/\s/g);return r.indexOf(e)!==-1}removeName(e){var t=(this.name()||"").split(/\s/g),r=t.indexOf(e);return r!==-1&&(t.splice(r,1),this.name(t.join(" "))),this}setAttr(e,t){var r=this[ss+be.Util._capitalize(e)];return be.Util._isFunction(r)?r.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(Qt.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,t){var r=this.attrs[e];r===t&&!be.Util.isObject(t)||(t==null?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,t),this._requestDraw())}_setComponentAttr(e,t,r){var n;r!==void 0&&(n=this.attrs[e],n||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=r,this._fireChangeEvent(e,n,r))}_fireAndBubble(e,t,r){t&&this.nodeType===os&&(t.target=this);var n=(e===ns||e===as)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r);if(!n){this._fire(e,t);var a=(e===ns||e===as)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!a&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,t,r):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,r,n;const a=(t=this._cache.get(li))!==null&&t!==void 0?t:{};let s=a?.[e];if(s===void 0){s=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(n=(r=o.eventListeners)===null||r===void 0?void 0:r[e])!==null&&n!==void 0?n:[];s.push(...l),o=Object.getPrototypeOf(o)}a[e]=s,this._cache.set(li,a)}return s}_fire(e,t){t=t||{},t.currentTarget=this,t.type=e;const r=this._getProtoListeners(e);if(r)for(var n=0;n<r.length;n++)r[n].handler.call(this,t);const a=this.eventListeners[e];if(a)for(var n=0;n<a.length;n++)a[n].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var t=e?e.pointerId:void 0,r=this.getStage(),n=this.getAbsolutePosition();if(r){var a=r._getPointerById(t)||r._changedPointerPositions[0]||n;at.DD._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-n.x,y:a.y-n.y},dragStatus:"ready",pointerId:t})}}startDrag(e,t=!0){at.DD._dragElements.has(this._id)||this._createDragElement(e);const r=at.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const r=this.getStage()._getPointerById(t.pointerId);if(r){var n={x:r.x-t.offset.x,y:r.y-t.offset.y},a=this.dragBoundFunc();if(a!==void 0){const s=a.call(this,n,e);s?n=s:be.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==n.x||this._lastPos.y!==n.y)&&(this.setAbsolutePosition(n),this._requestDraw()),this._lastPos=n}}stopDrag(e){const t=at.DD._dragElements.get(this._id);t&&(t.dragStatus="stopped"),at.DD._endDragBefore(e),at.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=at.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var t=e.evt.button!==void 0,r=!t||Qt.Konva.dragButtons.indexOf(e.evt.button)>=0;if(r&&!this.isDragging()){var n=!1;at.DD._dragElements.forEach(a=>{this.isAncestorOf(a.node)&&(n=!0)}),n||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const t=at.DD._dragElements.get(this._id),r=t&&t.dragStatus==="dragging",n=t&&t.dragStatus==="ready";r?this.stopDrag():n&&at.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const t=this.getStage();if(!t)return!1;const r={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return be.Util.haveIntersection(r,this.getClientRect())}static create(e,t){return be.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){var r=Bn.prototype.getClassName.call(e),n=e.children,a,s,o;t&&(e.attrs.container=t),Qt.Konva[r]||(be.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=Qt.Konva[r];if(a=new l(e.attrs),n)for(s=n.length,o=0;o<s;o++)a.add(Bn._createNode(n[o]));return a}};Ve.Node=ue;ue.prototype.nodeType="Node";ue.prototype._attrsAffectingSize=[];ue.prototype.eventListeners={};ue.prototype.on.call(ue.prototype,N0,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Vt),this._clearSelfAndDescendantCache(kt)});ue.prototype.on.call(ue.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(zn)});ue.prototype.on.call(ue.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Vn)});ue.prototype.on.call(ue.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(ui)});const xe=Qr.Factory.addGetterSetter;xe(ue,"zIndex");xe(ue,"absolutePosition");xe(ue,"position");xe(ue,"x",0,(0,Xe.getNumberValidator)());xe(ue,"y",0,(0,Xe.getNumberValidator)());xe(ue,"globalCompositeOperation","source-over",(0,Xe.getStringValidator)());xe(ue,"opacity",1,(0,Xe.getNumberValidator)());xe(ue,"name","",(0,Xe.getStringValidator)());xe(ue,"id","",(0,Xe.getStringValidator)());xe(ue,"rotation",0,(0,Xe.getNumberValidator)());Qr.Factory.addComponentsGetterSetter(ue,"scale",["x","y"]);xe(ue,"scaleX",1,(0,Xe.getNumberValidator)());xe(ue,"scaleY",1,(0,Xe.getNumberValidator)());Qr.Factory.addComponentsGetterSetter(ue,"skew",["x","y"]);xe(ue,"skewX",0,(0,Xe.getNumberValidator)());xe(ue,"skewY",0,(0,Xe.getNumberValidator)());Qr.Factory.addComponentsGetterSetter(ue,"offset",["x","y"]);xe(ue,"offsetX",0,(0,Xe.getNumberValidator)());xe(ue,"offsetY",0,(0,Xe.getNumberValidator)());xe(ue,"dragDistance",null,(0,Xe.getNumberValidator)());xe(ue,"width",0,(0,Xe.getNumberValidator)());xe(ue,"height",0,(0,Xe.getNumberValidator)());xe(ue,"listening",!0,(0,Xe.getBooleanValidator)());xe(ue,"preventDefault",!0,(0,Xe.getBooleanValidator)());xe(ue,"filters",null,function(i){return this._filterUpToDate=!1,i});xe(ue,"visible",!0,(0,Xe.getBooleanValidator)());xe(ue,"transformsEnabled","all",(0,Xe.getStringValidator)());xe(ue,"size");xe(ue,"dragBoundFunc");xe(ue,"draggable",!1,(0,Xe.getBooleanValidator)());Qr.Factory.backCompat(ue,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var or={};Object.defineProperty(or,"__esModule",{value:!0});or.Container=void 0;const Mr=me,Tn=Ve,Fi=oe;let lr=class extends Tn.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const t=this.children||[];var r=[];return t.forEach(function(n){e(n)&&r.push(n)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var t=0;t<e.length;t++)this.add(e[t]);return this}const r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){var r=[];return this._descendants(n=>{const a=n._isMatch(e);return a&&r.push(n),!!(a&&t)}),r}_descendants(e){let t=!1;const r=this.getChildren();for(const n of r){if(t=e(n),t)return!0;if(n.hasChildren()&&(t=n._descendants(e),t))return!0}return!1}toObject(){var e=Tn.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){for(var t=e.getParent();t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){var t=Tn.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){t.add(r.clone())}),t}getAllIntersections(e){var t=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&t.push(r)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),!this.isCached()&&((t=this.children)===null||t===void 0||t.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(t,r){t.index=r}),this._requestDraw()}drawScene(e,t){var r=this.getLayer(),n=e||r&&r.getCanvas(),a=n&&n.getContext(),s=this._getCanvasCache(),o=s&&s.scene,l=n&&n.isCache;if(!this.isVisible()&&!l)return this;if(o){a.save();var h=this.getAbsoluteTransform(t).getMatrix();a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",n,t);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;var r=this.getLayer(),n=e||r&&r.hitCanvas,a=n&&n.getContext(),s=this._getCanvasCache(),o=s&&s.hit;if(o){a.save();var l=this.getAbsoluteTransform(t).getMatrix();a.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(a),a.restore()}else this._drawChildren("drawHit",n,t);return this}_drawChildren(e,t,r){var n,a=t&&t.getContext(),s=this.clipWidth(),o=this.clipHeight(),l=this.clipFunc(),h=s&&o||l;const d=r===this;if(h){a.save();var u=this.getAbsoluteTransform(r),f=u.getMatrix();a.transform(f[0],f[1],f[2],f[3],f[4],f[5]),a.beginPath();let v;if(l)v=l.call(this,a,this);else{var c=this.clipX(),g=this.clipY();a.rect(c,g,s,o)}a.clip.apply(a,v),f=u.copy().invert().getMatrix(),a.transform(f[0],f[1],f[2],f[3],f[4],f[5])}var m=!d&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(a.save(),a._applyGlobalCompositeOperation(this)),(n=this.children)===null||n===void 0||n.forEach(function(v){v[e](t,r)}),m&&a.restore(),h&&a.restore()}getClientRect(e={}){var t,r=e.skipTransform,n=e.relativeTo,a,s,o,l,h={x:1/0,y:1/0,width:0,height:0},d=this;(t=this.children)===null||t===void 0||t.forEach(function(m){if(m.visible()){var v=m.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});v.width===0&&v.height===0||(a===void 0?(a=v.x,s=v.y,o=v.x+v.width,l=v.y+v.height):(a=Math.min(a,v.x),s=Math.min(s,v.y),o=Math.max(o,v.x+v.width),l=Math.max(l,v.y+v.height)))}});for(var u=this.find("Shape"),f=!1,c=0;c<u.length;c++){var g=u[c];if(g._isVisible(this)){f=!0;break}}return f&&a!==void 0?h={x:a,y:s,width:o-a,height:l-s}:h={x:0,y:0,width:0,height:0},r?h:this._transformedRect(h,n)}};or.Container=lr;Mr.Factory.addComponentsGetterSetter(lr,"clip",["x","y","width","height"]);Mr.Factory.addGetterSetter(lr,"clipX",void 0,(0,Fi.getNumberValidator)());Mr.Factory.addGetterSetter(lr,"clipY",void 0,(0,Fi.getNumberValidator)());Mr.Factory.addGetterSetter(lr,"clipWidth",void 0,(0,Fi.getNumberValidator)());Mr.Factory.addGetterSetter(lr,"clipHeight",void 0,(0,Fi.getNumberValidator)());Mr.Factory.addGetterSetter(lr,"clipFunc");var po={},tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.releaseCapture=tt.setPointerCapture=tt.hasPointerCapture=tt.createEvent=tt.getCapturedShape=void 0;const L0=_e,Hr=new Map,_o=L0.Konva._global.PointerEvent!==void 0;function G0(i){return Hr.get(i)}tt.getCapturedShape=G0;function ia(i){return{evt:i,pointerId:i.pointerId}}tt.createEvent=ia;function D0(i,e){return Hr.get(i)===e}tt.hasPointerCapture=D0;function x0(i,e){vo(i),e.getStage()&&(Hr.set(i,e),_o&&e._fire("gotpointercapture",ia(new PointerEvent("gotpointercapture"))))}tt.setPointerCapture=x0;function vo(i,e){const t=Hr.get(i);if(!t)return;const r=t.getStage();r&&r.content,Hr.delete(i),_o&&t._fire("lostpointercapture",ia(new PointerEvent("lostpointercapture")))}tt.releaseCapture=vo;(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Stage=i.stages=void 0;const e=ze,t=me,r=or,n=_e,a=ct,s=Mi,o=_e,l=tt;var h="Stage",d="string",u="px",f="mouseout",c="mouseleave",g="mouseover",m="mouseenter",v="mousemove",k="mousedown",C="mouseup",p="pointermove",_="pointerdown",b="pointerup",y="pointercancel",M="lostpointercapture",P="pointerout",E="pointerleave",A="pointerover",T="pointerenter",S="contextmenu",N="touchstart",D="touchend",L="touchmove",B="touchcancel",Y="wheel",ne=5,H=[[m,"_pointerenter"],[k,"_pointerdown"],[v,"_pointermove"],[C,"_pointerup"],[c,"_pointerleave"],[N,"_pointerdown"],[L,"_pointermove"],[D,"_pointerup"],[B,"_pointercancel"],[g,"_pointerover"],[Y,"_wheel"],[S,"_contextmenu"],[_,"_pointerdown"],[p,"_pointermove"],[b,"_pointerup"],[y,"_pointercancel"],[M,"_lostpointercapture"]];const W={mouse:{[P]:f,[E]:c,[A]:g,[T]:m,[p]:v,[_]:k,[b]:C,[y]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[P]:"touchout",[E]:"touchleave",[A]:"touchover",[T]:"touchenter",[p]:L,[_]:N,[b]:D,[y]:B,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[P]:P,[E]:E,[A]:A,[T]:T,[p]:p,[_]:_,[b]:b,[y]:y,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},K=Ee=>Ee.indexOf("pointer")>=0?"pointer":Ee.indexOf("touch")>=0?"touch":"mouse",le=Ee=>{const w=K(Ee);if(w==="pointer")return n.Konva.pointerEventsEnabled&&W.pointer;if(w==="touch")return W.touch;if(w==="mouse")return W.mouse};function j(Ee={}){return(Ee.clipFunc||Ee.clipWidth||Ee.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Ee}const V="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";i.stages=[];class ye extends r.Container{constructor(w){super(j(w)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),i.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{j(this.attrs)}),this._checkVisibility()}_validateAdd(w){const x=w.getType()==="Layer",re=w.getType()==="FastLayer";x||re||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const w=this.visible()?"":"none";this.content.style.display=w}setContainer(w){if(typeof w===d){if(w.charAt(0)==="."){var x=w.slice(1);w=document.getElementsByClassName(x)[0]}else{var re;w.charAt(0)!=="#"?re=w:re=w.slice(1),w=document.getElementById(re)}if(!w)throw"Can not find container in document with id "+re}return this._setAttr("container",w),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),w.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var w=this.children,x=w.length,re;for(re=0;re<x;re++)w[re].clear();return this}clone(w){return w||(w={}),w.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,w)}destroy(){super.destroy();var w=this.content;w&&e.Util._isInDocument(w)&&this.container().removeChild(w);var x=i.stages.indexOf(this);return x>-1&&i.stages.splice(x,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const w=this._pointerPositions[0]||this._changedPointerPositions[0];return w?{x:w.x,y:w.y}:(e.Util.warn(V),null)}_getPointerById(w){return this._pointerPositions.find(x=>x.id===w)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(w){w=w||{},w.x=w.x||0,w.y=w.y||0,w.width=w.width||this.width(),w.height=w.height||this.height();var x=new a.SceneCanvas({width:w.width,height:w.height,pixelRatio:w.pixelRatio||1}),re=x.getContext()._context,Te=this.children;return(w.x||w.y)&&re.translate(-1*w.x,-1*w.y),Te.forEach(function(ve){if(ve.isVisible()){var Oe=ve._toKonvaCanvas(w);re.drawImage(Oe._canvas,w.x,w.y,Oe.getWidth()/Oe.getPixelRatio(),Oe.getHeight()/Oe.getPixelRatio())}}),x}getIntersection(w){if(!w)return null;var x=this.children,re=x.length,Te=re-1,ve;for(ve=Te;ve>=0;ve--){const Oe=x[ve].getIntersection(w);if(Oe)return Oe}return null}_resizeDOM(){var w=this.width(),x=this.height();this.content&&(this.content.style.width=w+u,this.content.style.height=x+u),this.bufferCanvas.setSize(w,x),this.bufferHitCanvas.setSize(w,x),this.children.forEach(re=>{re.setSize({width:w,height:x}),re.draw()})}add(w,...x){if(arguments.length>1){for(var re=0;re<arguments.length;re++)this.add(arguments[re]);return this}super.add(w);var Te=this.children.length;return Te>ne&&e.Util.warn("The stage has "+Te+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),w.setSize({width:this.width(),height:this.height()}),w.draw(),n.Konva.isBrowser&&this.content.appendChild(w.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(w){return l.hasPointerCapture(w,this)}setPointerCapture(w){l.setPointerCapture(w,this)}releaseCapture(w){l.releaseCapture(w,this)}getLayers(){return this.children}_bindContentEvents(){n.Konva.isBrowser&&H.forEach(([w,x])=>{this.content.addEventListener(w,re=>{this[x](re)},{passive:!1})})}_pointerenter(w){this.setPointersPositions(w);const x=le(w.type);x&&this._fire(x.pointerenter,{evt:w,target:this,currentTarget:this})}_pointerover(w){this.setPointersPositions(w);const x=le(w.type);x&&this._fire(x.pointerover,{evt:w,target:this,currentTarget:this})}_getTargetShape(w){let x=this[w+"targetShape"];return x&&!x.getStage()&&(x=null),x}_pointerleave(w){const x=le(w.type),re=K(w.type);if(x){this.setPointersPositions(w);var Te=this._getTargetShape(re),ve=!s.DD.isDragging||n.Konva.hitOnDragEnabled;Te&&ve?(Te._fireAndBubble(x.pointerout,{evt:w}),Te._fireAndBubble(x.pointerleave,{evt:w}),this._fire(x.pointerleave,{evt:w,target:this,currentTarget:this}),this[re+"targetShape"]=null):ve&&(this._fire(x.pointerleave,{evt:w,target:this,currentTarget:this}),this._fire(x.pointerout,{evt:w,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(w){const x=le(w.type),re=K(w.type);if(x){this.setPointersPositions(w);var Te=!1;this._changedPointerPositions.forEach(ve=>{var Oe=this.getIntersection(ve);if(s.DD.justDragged=!1,n.Konva["_"+re+"ListenClick"]=!0,!Oe||!Oe.isListening())return;n.Konva.capturePointerEventsEnabled&&Oe.setPointerCapture(ve.id),this[re+"ClickStartShape"]=Oe,Oe._fireAndBubble(x.pointerdown,{evt:w,pointerId:ve.id}),Te=!0;const Ke=w.type.indexOf("touch")>=0;Oe.preventDefault()&&w.cancelable&&Ke&&w.preventDefault()}),Te||this._fire(x.pointerdown,{evt:w,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(w){const x=le(w.type),re=K(w.type);if(!x)return;s.DD.isDragging&&s.DD.node.preventDefault()&&w.cancelable&&w.preventDefault(),this.setPointersPositions(w);var Te=!s.DD.isDragging||n.Konva.hitOnDragEnabled;if(!Te)return;var ve={};let Oe=!1;var Ke=this._getTargetShape(re);this._changedPointerPositions.forEach(Ze=>{const Le=l.getCapturedShape(Ze.id)||this.getIntersection(Ze),vt=Ze.id,nt={evt:w,pointerId:vt};var bt=Ke!==Le;if(bt&&Ke&&(Ke._fireAndBubble(x.pointerout,{...nt},Le),Ke._fireAndBubble(x.pointerleave,{...nt},Le)),Le){if(ve[Le._id])return;ve[Le._id]=!0}Le&&Le.isListening()?(Oe=!0,bt&&(Le._fireAndBubble(x.pointerover,{...nt},Ke),Le._fireAndBubble(x.pointerenter,{...nt},Ke),this[re+"targetShape"]=Le),Le._fireAndBubble(x.pointermove,{...nt})):Ke&&(this._fire(x.pointerover,{evt:w,target:this,currentTarget:this,pointerId:vt}),this[re+"targetShape"]=null)}),Oe||this._fire(x.pointermove,{evt:w,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(w){const x=le(w.type),re=K(w.type);if(!x)return;this.setPointersPositions(w);const Te=this[re+"ClickStartShape"],ve=this[re+"ClickEndShape"];var Oe={};let Ke=!1;this._changedPointerPositions.forEach(Ze=>{const Le=l.getCapturedShape(Ze.id)||this.getIntersection(Ze);if(Le){if(Le.releaseCapture(Ze.id),Oe[Le._id])return;Oe[Le._id]=!0}const vt=Ze.id,nt={evt:w,pointerId:vt};let bt=!1;n.Konva["_"+re+"InDblClickWindow"]?(bt=!0,clearTimeout(this[re+"DblTimeout"])):s.DD.justDragged||(n.Konva["_"+re+"InDblClickWindow"]=!0,clearTimeout(this[re+"DblTimeout"])),this[re+"DblTimeout"]=setTimeout(function(){n.Konva["_"+re+"InDblClickWindow"]=!1},n.Konva.dblClickWindow),Le&&Le.isListening()?(Ke=!0,this[re+"ClickEndShape"]=Le,Le._fireAndBubble(x.pointerup,{...nt}),n.Konva["_"+re+"ListenClick"]&&Te&&Te===Le&&(Le._fireAndBubble(x.pointerclick,{...nt}),bt&&ve&&ve===Le&&Le._fireAndBubble(x.pointerdblclick,{...nt}))):(this[re+"ClickEndShape"]=null,n.Konva["_"+re+"ListenClick"]&&this._fire(x.pointerclick,{evt:w,target:this,currentTarget:this,pointerId:vt}),bt&&this._fire(x.pointerdblclick,{evt:w,target:this,currentTarget:this,pointerId:vt}))}),Ke||this._fire(x.pointerup,{evt:w,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),n.Konva["_"+re+"ListenClick"]=!1,w.cancelable&&re!=="touch"&&w.preventDefault()}_contextmenu(w){this.setPointersPositions(w);var x=this.getIntersection(this.getPointerPosition());x&&x.isListening()?x._fireAndBubble(S,{evt:w}):this._fire(S,{evt:w,target:this,currentTarget:this})}_wheel(w){this.setPointersPositions(w);var x=this.getIntersection(this.getPointerPosition());x&&x.isListening()?x._fireAndBubble(Y,{evt:w}):this._fire(Y,{evt:w,target:this,currentTarget:this})}_pointercancel(w){this.setPointersPositions(w);const x=l.getCapturedShape(w.pointerId)||this.getIntersection(this.getPointerPosition());x&&x._fireAndBubble(b,l.createEvent(w)),l.releaseCapture(w.pointerId)}_lostpointercapture(w){l.releaseCapture(w.pointerId)}setPointersPositions(w){var x=this._getContentPosition(),re=null,Te=null;w=w||window.event,w.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(w.touches,ve=>{this._pointerPositions.push({id:ve.identifier,x:(ve.clientX-x.left)/x.scaleX,y:(ve.clientY-x.top)/x.scaleY})}),Array.prototype.forEach.call(w.changedTouches||w.touches,ve=>{this._changedPointerPositions.push({id:ve.identifier,x:(ve.clientX-x.left)/x.scaleX,y:(ve.clientY-x.top)/x.scaleY})})):(re=(w.clientX-x.left)/x.scaleX,Te=(w.clientY-x.top)/x.scaleY,this.pointerPos={x:re,y:Te},this._pointerPositions=[{x:re,y:Te,id:e.Util._getFirstPointerId(w)}],this._changedPointerPositions=[{x:re,y:Te,id:e.Util._getFirstPointerId(w)}])}_setPointerPosition(w){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(w)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var w=this.content.getBoundingClientRect();return{top:w.top,left:w.left,scaleX:w.width/this.content.clientWidth||1,scaleY:w.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new a.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new a.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!n.Konva.isBrowser){var w=this.container();if(!w)throw"Stage has no container. A container is required.";w.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),w.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(w){w.batchDraw()}),this}}i.Stage=ye,ye.prototype.nodeType=h,(0,o._registerNode)(ye),t.Factory.addGetterSetter(ye,"container")})(po);var Jr={},Qe={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Shape=i.shapes=void 0;const e=_e,t=ze,r=me,n=Ve,a=oe,s=_e,o=tt;var l="hasShadow",h="shadowRGBA",d="patternImage",u="linearGradient",f="radialGradient";let c;function g(){return c||(c=t.Util.createCanvasElement().getContext("2d"),c)}i.shapes={};function m(E){const A=this.attrs.fillRule;A?E.fill(A):E.fill()}function v(E){E.stroke()}function k(E){E.fill()}function C(E){E.stroke()}function p(){this._clearCache(l)}function _(){this._clearCache(h)}function b(){this._clearCache(d)}function y(){this._clearCache(u)}function M(){this._clearCache(f)}class P extends n.Node{constructor(A){super(A);let T;for(;T=t.Util.getRandomColor(),!(T&&!(T in i.shapes)););this.colorKey=T,i.shapes[T]=this}getContext(){return t.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return t.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(d,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var A=g();const T=A.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(T&&T.setTransform){const S=new t.Transform;S.translate(this.fillPatternX(),this.fillPatternY()),S.rotate(e.Konva.getAngle(this.fillPatternRotation())),S.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),S.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const N=S.getMatrix(),D=typeof DOMMatrix>"u"?{a:N[0],b:N[1],c:N[2],d:N[3],e:N[4],f:N[5]}:new DOMMatrix(N);T.setTransform(D)}return T}}_getLinearGradient(){return this._getCache(u,this.__getLinearGradient)}__getLinearGradient(){var A=this.fillLinearGradientColorStops();if(A){for(var T=g(),S=this.fillLinearGradientStartPoint(),N=this.fillLinearGradientEndPoint(),D=T.createLinearGradient(S.x,S.y,N.x,N.y),L=0;L<A.length;L+=2)D.addColorStop(A[L],A[L+1]);return D}}_getRadialGradient(){return this._getCache(f,this.__getRadialGradient)}__getRadialGradient(){var A=this.fillRadialGradientColorStops();if(A){for(var T=g(),S=this.fillRadialGradientStartPoint(),N=this.fillRadialGradientEndPoint(),D=T.createRadialGradient(S.x,S.y,this.fillRadialGradientStartRadius(),N.x,N.y,this.fillRadialGradientEndRadius()),L=0;L<A.length;L+=2)D.addColorStop(A[L],A[L+1]);return D}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var A=t.Util.colorToRGBA(this.shadowColor());if(A)return"rgba("+A.r+","+A.g+","+A.b+","+A.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const A=this.hitStrokeWidth();return A==="auto"?this.hasStroke():this.strokeEnabled()&&!!A}intersects(A){var T=this.getStage();if(!T)return!1;const S=T.bufferHitCanvas;return S.getContext().clear(),this.drawHit(S,void 0,!0),S.context.getImageData(Math.round(A.x),Math.round(A.y),1,1).data[3]>0}destroy(){return n.Node.prototype.destroy.call(this),delete i.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(A){var T;if(!this.getStage()||!((T=this.attrs.perfectDrawEnabled)!==null&&T!==void 0?T:!0))return!1;const N=A||this.hasFill(),D=this.hasStroke(),L=this.getAbsoluteOpacity()!==1;if(N&&D&&L)return!0;const B=this.hasShadow(),Y=this.shadowForStrokeEnabled();return!!(N&&D&&B&&Y)}setStrokeHitEnabled(A){t.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),A?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var A=this.size();return{x:this._centroid?-A.width/2:0,y:this._centroid?-A.height/2:0,width:A.width,height:A.height}}getClientRect(A={}){const T=A.skipTransform,S=A.relativeTo,N=this.getSelfRect(),L=!A.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,B=N.width+L,Y=N.height+L,ne=!A.skipShadow&&this.hasShadow(),H=ne?this.shadowOffsetX():0,W=ne?this.shadowOffsetY():0,K=B+Math.abs(H),le=Y+Math.abs(W),j=ne&&this.shadowBlur()||0,V=K+j*2,ye=le+j*2,Ee={width:V,height:ye,x:-(L/2+j)+Math.min(H,0)+N.x,y:-(L/2+j)+Math.min(W,0)+N.y};return T?Ee:this._transformedRect(Ee,S)}drawScene(A,T){var S=this.getLayer(),N=A||S.getCanvas(),D=N.getContext(),L=this._getCanvasCache(),B=this.getSceneFunc(),Y=this.hasShadow(),ne,H,W,K=N.isCache,le=T===this;if(!this.isVisible()&&!le)return this;if(L){D.save();var j=this.getAbsoluteTransform(T).getMatrix();return D.transform(j[0],j[1],j[2],j[3],j[4],j[5]),this._drawCachedSceneCanvas(D),D.restore(),this}if(!B)return this;if(D.save(),this._useBufferCanvas()&&!K){ne=this.getStage(),H=ne.bufferCanvas,W=H.getContext(),W.clear(),W.save(),W._applyLineJoin(this);var V=this.getAbsoluteTransform(T).getMatrix();W.transform(V[0],V[1],V[2],V[3],V[4],V[5]),B.call(this,W,this),W.restore();var ye=H.pixelRatio;Y&&D._applyShadow(this),D._applyOpacity(this),D._applyGlobalCompositeOperation(this),D.drawImage(H._canvas,0,0,H.width/ye,H.height/ye)}else{if(D._applyLineJoin(this),!le){var V=this.getAbsoluteTransform(T).getMatrix();D.transform(V[0],V[1],V[2],V[3],V[4],V[5]),D._applyOpacity(this),D._applyGlobalCompositeOperation(this)}Y&&D._applyShadow(this),B.call(this,D,this)}return D.restore(),this}drawHit(A,T,S=!1){if(!this.shouldDrawHit(T,S))return this;var N=this.getLayer(),D=A||N.hitCanvas,L=D&&D.getContext(),B=this.hitFunc()||this.sceneFunc(),Y=this._getCanvasCache(),ne=Y&&Y.hit;if(this.colorKey||t.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),ne){L.save();var H=this.getAbsoluteTransform(T).getMatrix();return L.transform(H[0],H[1],H[2],H[3],H[4],H[5]),this._drawCachedHitCanvas(L),L.restore(),this}if(!B)return this;if(L.save(),L._applyLineJoin(this),!(this===T)){var K=this.getAbsoluteTransform(T).getMatrix();L.transform(K[0],K[1],K[2],K[3],K[4],K[5])}return B.call(this,L,this),L.restore(),this}drawHitFromCache(A=0){var T=this._getCanvasCache(),S=this._getCachedSceneCanvas(),N=T.hit,D=N.getContext(),L=N.getWidth(),B=N.getHeight(),Y,ne,H,W,K,le;D.clear(),D.drawImage(S._canvas,0,0,L,B);try{for(Y=D.getImageData(0,0,L,B),ne=Y.data,H=ne.length,W=t.Util._hexToRgb(this.colorKey),K=0;K<H;K+=4)le=ne[K+3],le>A?(ne[K]=W.r,ne[K+1]=W.g,ne[K+2]=W.b,ne[K+3]=255):ne[K+3]=0;D.putImageData(Y,0,0)}catch(j){t.Util.error("Unable to draw hit graph from cached scene canvas. "+j.message)}return this}hasPointerCapture(A){return o.hasPointerCapture(A,this)}setPointerCapture(A){o.setPointerCapture(A,this)}releaseCapture(A){o.releaseCapture(A,this)}}i.Shape=P,P.prototype._fillFunc=m,P.prototype._strokeFunc=v,P.prototype._fillFuncHit=k,P.prototype._strokeFuncHit=C,P.prototype._centroid=!1,P.prototype.nodeType="Shape",(0,s._registerNode)(P),P.prototype.eventListeners={},P.prototype.on.call(P.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",p),P.prototype.on.call(P.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),P.prototype.on.call(P.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",b),P.prototype.on.call(P.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",y),P.prototype.on.call(P.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",M),r.Factory.addGetterSetter(P,"stroke",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(P,"strokeWidth",2,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(P,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(P,"hitStrokeWidth","auto",(0,a.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(P,"strokeHitEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(P,"perfectDrawEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(P,"shadowForStrokeEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(P,"lineJoin"),r.Factory.addGetterSetter(P,"lineCap"),r.Factory.addGetterSetter(P,"sceneFunc"),r.Factory.addGetterSetter(P,"hitFunc"),r.Factory.addGetterSetter(P,"dash"),r.Factory.addGetterSetter(P,"dashOffset",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(P,"shadowColor",void 0,(0,a.getStringValidator)()),r.Factory.addGetterSetter(P,"shadowBlur",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(P,"shadowOpacity",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(P,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(P,"shadowOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(P,"shadowOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(P,"fillPatternImage"),r.Factory.addGetterSetter(P,"fill",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(P,"fillPatternX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(P,"fillPatternY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(P,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(P,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(P,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(P,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(P,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(P,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(P,"fillEnabled",!0),r.Factory.addGetterSetter(P,"strokeEnabled",!0),r.Factory.addGetterSetter(P,"shadowEnabled",!0),r.Factory.addGetterSetter(P,"dashEnabled",!0),r.Factory.addGetterSetter(P,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(P,"fillPriority","color"),r.Factory.addComponentsGetterSetter(P,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(P,"fillPatternOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(P,"fillPatternOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(P,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(P,"fillPatternScaleX",1,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(P,"fillPatternScaleY",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(P,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(P,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(P,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(P,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(P,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(P,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(P,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(P,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(P,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(P,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(P,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(P,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(P,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(P,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(P,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(P,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(P,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(P,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(P,"fillPatternRotation",0),r.Factory.addGetterSetter(P,"fillRule",void 0,(0,a.getStringValidator)()),r.Factory.backCompat(P,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Qe);Object.defineProperty(Jr,"__esModule",{value:!0});Jr.Layer=void 0;const wt=ze,An=or,mr=Ve,na=me,hs=ct,I0=oe,U0=Qe,V0=_e;var z0="#",B0="beforeDraw",H0="draw",bo=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],W0=bo.length;let Fr=class extends An.Container{constructor(e){super(e),this.canvas=new hs.SceneCanvas,this.hitCanvas=new hs.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){mr.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=mr.Node.prototype.moveUp.call(this);if(!e)return!1;var t=this.getStage();return!t||!t.content?!1:(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(mr.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(mr.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return mr.Node.prototype.remove.call(this),e&&e.parentNode&&wt.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){var t=e.getType();t!=="Group"&&t!=="Shape"&&wt.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),mr.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){wt.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){wt.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,wt.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var t=1,r=!1;;){for(let n=0;n<W0;n++){const a=bo[n],s=this._getIntersection({x:e.x+a.x*t,y:e.y+a.y*t}),o=s.shape;if(o)return o;if(r=!!s.antialiased,!s.antialiased)break}if(r)t+=1;else return null}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,n=r[3];if(n===255){const a=wt.Util._rgbToHex(r[0],r[1],r[2]),s=U0.shapes[z0+a];return s?{shape:s}:{antialiased:!0}}else if(n>0)return{antialiased:!0};return{}}drawScene(e,t){var r=this.getLayer(),n=e||r&&r.getCanvas();return this._fire(B0,{node:this}),this.clearBeforeDraw()&&n.getContext().clear(),An.Container.prototype.drawScene.call(this,n,t),this._fire(H0,{node:this}),this}drawHit(e,t){var r=this.getLayer(),n=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),An.Container.prototype.drawHit.call(this,n,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){wt.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return wt.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,t=!!this.hitCanvas._canvas.parentNode;t?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return wt.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Jr.Layer=Fr;Fr.prototype.nodeType="Layer";(0,V0._registerNode)(Fr);na.Factory.addGetterSetter(Fr,"imageSmoothingEnabled",!0);na.Factory.addGetterSetter(Fr,"clearBeforeDraw",!0);na.Factory.addGetterSetter(Fr,"hitGraphEnabled",!0,(0,I0.getBooleanValidator)());var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.FastLayer=void 0;const j0=ze,Y0=Jr,X0=_e;class aa extends Y0.Layer{constructor(e){super(e),this.listening(!1),j0.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Ni.FastLayer=aa;aa.prototype.nodeType="FastLayer";(0,X0._registerNode)(aa);var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.Group=void 0;const K0=ze,q0=or,Q0=_e;class sa extends q0.Container{_validateAdd(e){var t=e.getType();t!=="Group"&&t!=="Shape"&&K0.Util.throw("You may only add groups and shapes to groups.")}}Nr.Group=sa;sa.prototype.nodeType="Group";(0,Q0._registerNode)(sa);var Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.Animation=void 0;const Rn=_e,ds=ze,Mn=function(){return Rn.glob.performance&&Rn.glob.performance.now?function(){return Rn.glob.performance.now()}:function(){return new Date().getTime()}}();class ft{constructor(e,t){this.id=ft.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Mn(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){const t=this.layers,r=t.length;for(let n=0;n<r;n++)if(t[n]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const t=ft.animations,r=t.length;for(let n=0;n<r;n++)if(t[n].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Mn(),ft._addAnimation(this),this}stop(){return ft._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const t=e.id,r=this.animations,n=r.length;for(let a=0;a<n;a++)if(r[a].id===t){this.animations.splice(a,1);break}}static _runFrames(){const e={},t=this.animations;for(let r=0;r<t.length;r++){const n=t[r],a=n.layers,s=n.func;n._updateFrameObject(Mn());const o=a.length;let l;if(s?l=s.call(n,n.frame)!==!1:l=!0,!!l)for(let h=0;h<o;h++){const d=a[h];d._id!==void 0&&(e[d._id]=d)}}for(let r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=ft;e.animations.length?(e._runFrames(),ds.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,ds.Util.requestAnimFrame(this._animationLoop))}}Or.Animation=ft;ft.animations=[];ft.animIdCounter=0;ft.animRunning=!1;var yo={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Easings=i.Tween=void 0;const e=ze,t=Or,r=Ve,n=_e;var a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,o=2,l=3,h=0,d=["fill","stroke","shadowColor"];class u{constructor(g,m,v,k,C,p,_){this.prop=g,this.propFunc=m,this.begin=k,this._pos=k,this.duration=p,this._change=0,this.prevPos=0,this.yoyo=_,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=v,this._change=C-this.begin,this.pause()}fire(g){var m=this[g];m&&m()}setTime(g){g>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():g<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=g,this.update())}getTime(){return this._time}setPosition(g){this.prevPos=this._pos,this.propFunc(g),this._pos=g}getPosition(g){return g===void 0&&(g=this._time),this.func(g,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(g){this.pause(),this._time=g,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var g=this.getTimer()-this._startTime;this.state===o?this.setTime(g):this.state===l&&this.setTime(this.duration-g)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class f{constructor(g){var m=this,v=g.node,k=v._id,C,p=g.easing||i.Easings.Linear,_=!!g.yoyo,b;typeof g.duration>"u"?C=.3:g.duration===0?C=.001:C=g.duration,this.node=v,this._id=h++;var y=v.getLayer()||(v instanceof n.Konva.Stage?v.getLayers():null);y||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new t.Animation(function(){m.tween.onEnterFrame()},y),this.tween=new u(b,function(M){m._tweenFunc(M)},p,0,1,C*1e3,_),this._addListeners(),f.attrs[k]||(f.attrs[k]={}),f.attrs[k][this._id]||(f.attrs[k][this._id]={}),f.tweens[k]||(f.tweens[k]={});for(b in g)a[b]===void 0&&this._addAttr(b,g[b]);this.reset(),this.onFinish=g.onFinish,this.onReset=g.onReset,this.onUpdate=g.onUpdate}_addAttr(g,m){var v=this.node,k=v._id,C,p,_,b,y,M,P,E;if(_=f.tweens[k][g],_&&delete f.attrs[k][_][g],C=v.getAttr(g),e.Util._isArray(m))if(p=[],y=Math.max(m.length,C.length),g==="points"&&m.length!==C.length&&(m.length>C.length?(P=C,C=e.Util._prepareArrayForTween(C,m,v.closed())):(M=m,m=e.Util._prepareArrayForTween(m,C,v.closed()))),g.indexOf("fill")===0)for(b=0;b<y;b++)if(b%2===0)p.push(m[b]-C[b]);else{var A=e.Util.colorToRGBA(C[b]);E=e.Util.colorToRGBA(m[b]),C[b]=A,p.push({r:E.r-A.r,g:E.g-A.g,b:E.b-A.b,a:E.a-A.a})}else for(b=0;b<y;b++)p.push(m[b]-C[b]);else d.indexOf(g)!==-1?(C=e.Util.colorToRGBA(C),E=e.Util.colorToRGBA(m),p={r:E.r-C.r,g:E.g-C.g,b:E.b-C.b,a:E.a-C.a}):p=m-C;f.attrs[k][this._id][g]={start:C,diff:p,end:m,trueEnd:M,trueStart:P},f.tweens[k][g]=this._id}_tweenFunc(g){var m=this.node,v=f.attrs[m._id][this._id],k,C,p,_,b,y,M,P;for(k in v){if(C=v[k],p=C.start,_=C.diff,P=C.end,e.Util._isArray(p))if(b=[],M=Math.max(p.length,P.length),k.indexOf("fill")===0)for(y=0;y<M;y++)y%2===0?b.push((p[y]||0)+_[y]*g):b.push("rgba("+Math.round(p[y].r+_[y].r*g)+","+Math.round(p[y].g+_[y].g*g)+","+Math.round(p[y].b+_[y].b*g)+","+(p[y].a+_[y].a*g)+")");else for(y=0;y<M;y++)b.push((p[y]||0)+_[y]*g);else d.indexOf(k)!==-1?b="rgba("+Math.round(p.r+_.r*g)+","+Math.round(p.g+_.g*g)+","+Math.round(p.b+_.b*g)+","+(p.a+_.a*g)+")":b=p+_*g;m.setAttr(k,b)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var g=this.node,m=f.attrs[g._id][this._id];m.points&&m.points.trueEnd&&g.setAttr("points",m.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var g=this.node,m=f.attrs[g._id][this._id];m.points&&m.points.trueStart&&g.points(m.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(g){return this.tween.seek(g*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var g=this.node._id,m=this._id,v=f.tweens[g],k;this.pause();for(k in v)delete f.tweens[g][k];delete f.attrs[g][m]}}i.Tween=f,f.attrs={},f.tweens={},r.Node.prototype.to=function(c){var g=c.onFinish;c.node=this,c.onFinish=function(){this.destroy(),g&&g()};var m=new f(c);m.play()},i.Easings={BackEaseIn(c,g,m,v){var k=1.70158;return m*(c/=v)*c*((k+1)*c-k)+g},BackEaseOut(c,g,m,v){var k=1.70158;return m*((c=c/v-1)*c*((k+1)*c+k)+1)+g},BackEaseInOut(c,g,m,v){var k=1.70158;return(c/=v/2)<1?m/2*(c*c*(((k*=1.525)+1)*c-k))+g:m/2*((c-=2)*c*(((k*=1.525)+1)*c+k)+2)+g},ElasticEaseIn(c,g,m,v,k,C){var p=0;return c===0?g:(c/=v)===1?g+m:(C||(C=v*.3),!k||k<Math.abs(m)?(k=m,p=C/4):p=C/(2*Math.PI)*Math.asin(m/k),-(k*Math.pow(2,10*(c-=1))*Math.sin((c*v-p)*(2*Math.PI)/C))+g)},ElasticEaseOut(c,g,m,v,k,C){var p=0;return c===0?g:(c/=v)===1?g+m:(C||(C=v*.3),!k||k<Math.abs(m)?(k=m,p=C/4):p=C/(2*Math.PI)*Math.asin(m/k),k*Math.pow(2,-10*c)*Math.sin((c*v-p)*(2*Math.PI)/C)+m+g)},ElasticEaseInOut(c,g,m,v,k,C){var p=0;return c===0?g:(c/=v/2)===2?g+m:(C||(C=v*(.3*1.5)),!k||k<Math.abs(m)?(k=m,p=C/4):p=C/(2*Math.PI)*Math.asin(m/k),c<1?-.5*(k*Math.pow(2,10*(c-=1))*Math.sin((c*v-p)*(2*Math.PI)/C))+g:k*Math.pow(2,-10*(c-=1))*Math.sin((c*v-p)*(2*Math.PI)/C)*.5+m+g)},BounceEaseOut(c,g,m,v){return(c/=v)<1/2.75?m*(7.5625*c*c)+g:c<2/2.75?m*(7.5625*(c-=1.5/2.75)*c+.75)+g:c<2.5/2.75?m*(7.5625*(c-=2.25/2.75)*c+.9375)+g:m*(7.5625*(c-=2.625/2.75)*c+.984375)+g},BounceEaseIn(c,g,m,v){return m-i.Easings.BounceEaseOut(v-c,0,m,v)+g},BounceEaseInOut(c,g,m,v){return c<v/2?i.Easings.BounceEaseIn(c*2,0,m,v)*.5+g:i.Easings.BounceEaseOut(c*2-v,0,m,v)*.5+m*.5+g},EaseIn(c,g,m,v){return m*(c/=v)*c+g},EaseOut(c,g,m,v){return-m*(c/=v)*(c-2)+g},EaseInOut(c,g,m,v){return(c/=v/2)<1?m/2*c*c+g:-m/2*(--c*(c-2)-1)+g},StrongEaseIn(c,g,m,v){return m*(c/=v)*c*c*c*c+g},StrongEaseOut(c,g,m,v){return m*((c=c/v-1)*c*c*c*c+1)+g},StrongEaseInOut(c,g,m,v){return(c/=v/2)<1?m/2*c*c*c*c*c+g:m/2*((c-=2)*c*c*c*c+2)+g},Linear(c,g,m,v){return m*c/v+g}}})(yo);(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Konva=void 0;const e=_e,t=ze,r=Ve,n=or,a=po,s=Jr,o=Ni,l=Nr,h=Mi,d=Qe,u=Or,f=yo,c=Pt,g=ct;i.Konva=t.Util._assign(e.Konva,{Util:t.Util,Transform:t.Transform,Node:r.Node,Container:n.Container,Stage:a.Stage,stages:a.stages,Layer:s.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:h.DD,Shape:d.Shape,shapes:d.shapes,Animation:u.Animation,Tween:f.Tween,Easings:f.Easings,Context:c.Context,Canvas:g.Canvas}),i.default=i.Konva})(uo);var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.Arc=void 0;const Li=me,J0=Qe,cs=_e,Gi=oe,Z0=_e;class Gt extends J0.Shape{_sceneFunc(e){var t=cs.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,r),e.arc(0,0,this.innerRadius(),t,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),r=this.clockwise(),n=cs.Konva.getAngle(r?360-this.angle():this.angle()),a=Math.cos(Math.min(n,Math.PI)),s=1,o=Math.sin(Math.min(Math.max(Math.PI,n),3*Math.PI/2)),l=Math.sin(Math.min(n,Math.PI/2)),h=a*(a>0?e:t),d=s*t,u=o*(o>0?e:t),f=l*(l>0?t:e);return{x:h,y:r?-1*f:u,width:d-h,height:f-u}}}Oi.Arc=Gt;Gt.prototype._centroid=!0;Gt.prototype.className="Arc";Gt.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Z0._registerNode)(Gt);Li.Factory.addGetterSetter(Gt,"innerRadius",0,(0,Gi.getNumberValidator)());Li.Factory.addGetterSetter(Gt,"outerRadius",0,(0,Gi.getNumberValidator)());Li.Factory.addGetterSetter(Gt,"angle",0,(0,Gi.getNumberValidator)());Li.Factory.addGetterSetter(Gt,"clockwise",!1,(0,Gi.getBooleanValidator)());var Di={},Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.Line=void 0;const xi=me,$0=Qe,wo=oe,ec=_e;function Hn(i,e,t,r,n,a,s){var o=Math.sqrt(Math.pow(t-i,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(n-t,2)+Math.pow(a-r,2)),h=s*o/(o+l),d=s*l/(o+l),u=t-h*(n-i),f=r-h*(a-e),c=t+d*(n-i),g=r+d*(a-e);return[u,f,c,g]}function us(i,e){var t=i.length,r=[],n,a;for(n=2;n<t-2;n+=2)a=Hn(i[n-2],i[n-1],i[n],i[n+1],i[n+2],i[n+3],e),!isNaN(a[0])&&(r.push(a[0]),r.push(a[1]),r.push(i[n]),r.push(i[n+1]),r.push(a[2]),r.push(a[3]));return r}class jt extends $0.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var t=this.points(),r=t.length,n=this.tension(),a=this.closed(),s=this.bezier(),o,l,h;if(r){if(e.beginPath(),e.moveTo(t[0],t[1]),n!==0&&r>4){for(o=this.getTensionPoints(),l=o.length,h=a?0:4,a||e.quadraticCurveTo(o[0],o[1],o[2],o[3]);h<l-2;)e.bezierCurveTo(o[h++],o[h++],o[h++],o[h++],o[h++],o[h++]);a||e.quadraticCurveTo(o[l-2],o[l-1],t[r-2],t[r-1])}else if(s)for(h=2;h<r;)e.bezierCurveTo(t[h++],t[h++],t[h++],t[h++],t[h++],t[h++]);else for(h=2;h<r;h+=2)e.lineTo(t[h],t[h+1]);a?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():us(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),t=e.length,r=this.tension(),n=Hn(e[t-2],e[t-1],e[0],e[1],e[2],e[3],r),a=Hn(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],r),s=us(e,r),o=[n[2],n[3]].concat(s).concat([a[0],a[1],e[t-2],e[t-1],a[2],a[3],n[0],n[1],e[0],e[1]]);return o}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var t=e[0],r=e[0],n=e[1],a=e[1],s,o,l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],t=Math.min(t,s),r=Math.max(r,s),n=Math.min(n,o),a=Math.max(a,o);return{x:t,y:n,width:r-t,height:a-n}}}Zr.Line=jt;jt.prototype.className="Line";jt.prototype._attrsAffectingSize=["points","bezier","tension"];(0,ec._registerNode)(jt);xi.Factory.addGetterSetter(jt,"closed",!1);xi.Factory.addGetterSetter(jt,"bezier",!1);xi.Factory.addGetterSetter(jt,"tension",0,(0,wo.getNumberValidator)());xi.Factory.addGetterSetter(jt,"points",[],(0,wo.getNumberArrayValidator)());var Lr={},ko={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.t2length=i.getQuadraticArcLength=i.getCubicArcLength=i.binomialCoefficients=i.cValues=i.tValues=void 0,i.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],i.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],i.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(s,o,l)=>{let h,d,u;h=l/2,d=0;for(let c=0;c<20;c++)u=h*i.tValues[20][c]+h,d+=i.cValues[20][c]*r(s,o,u);return h*d};i.getCubicArcLength=e;const t=(s,o,l)=>{l===void 0&&(l=1);const h=s[0]-2*s[1]+s[2],d=o[0]-2*o[1]+o[2],u=2*s[1]-2*s[0],f=2*o[1]-2*o[0],c=4*(h*h+d*d),g=4*(h*u+d*f),m=u*u+f*f;if(c===0)return l*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(o[2]-o[0],2));const v=g/(2*c),k=m/c,C=l+v,p=k-v*v,_=C*C+p>0?Math.sqrt(C*C+p):0,b=v*v+p>0?Math.sqrt(v*v+p):0,y=v+Math.sqrt(v*v+p)!==0?p*Math.log(Math.abs((C+_)/(v+b))):0;return Math.sqrt(c)/2*(C*_-v*b+y)};i.getQuadraticArcLength=t;function r(s,o,l){const h=n(1,l,s),d=n(1,l,o),u=h*h+d*d;return Math.sqrt(u)}const n=(s,o,l)=>{const h=l.length-1;let d,u;if(h===0)return 0;if(s===0){u=0;for(let f=0;f<=h;f++)u+=i.binomialCoefficients[h][f]*Math.pow(1-o,h-f)*Math.pow(o,f)*l[f];return u}else{d=new Array(h);for(let f=0;f<h;f++)d[f]=h*(l[f+1]-l[f]);return n(s-1,o,d)}},a=(s,o,l)=>{let h=1,d=s/o,u=(s-l(d))/o,f=0;for(;h>.001;){const c=l(d+u),g=Math.abs(s-c)/o;if(g<h)h=g,d+=u;else{const m=l(d-u),v=Math.abs(s-m)/o;v<h?(h=v,d-=u):u/=2}if(f++,f>500)break}return d};i.t2length=a})(ko);Object.defineProperty(Lr,"__esModule",{value:!0});Lr.Path=void 0;const tc=me,rc=Qe,ic=_e,pr=ko;class qe extends rc.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=qe.parsePathData(this.data()),this.pathLength=qe.getPathLength(this.dataArray)}_sceneFunc(e){var t=this.dataArray;e.beginPath();for(var r=!1,n=0;n<t.length;n++){var a=t[n].command,s=t[n].points;switch(a){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":var o=s[0],l=s[1],h=s[2],d=s[3],u=s[4],f=s[5],c=s[6],g=s[7],m=h>d?h:d,v=h>d?1:h/d,k=h>d?d/h:1;e.translate(o,l),e.rotate(c),e.scale(v,k),e.arc(0,0,m,u,u+f,1-g),e.scale(1/v,1/k),e.rotate(-c),e.translate(-o,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(h){if(h.command==="A"){var d=h.points[4],u=h.points[5],f=h.points[4]+u,c=Math.PI/180;if(Math.abs(d-f)<c&&(c=Math.abs(d-f)),u<0)for(let g=d-c;g>f;g-=c){const m=qe.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],g,0);e.push(m.x,m.y)}else for(let g=d+c;g<f;g+=c){const m=qe.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],g,0);e.push(m.x,m.y)}}else if(h.command==="C")for(let g=0;g<=1;g+=.01){const m=qe.getPointOnCubicBezier(g,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);e.push(m.x,m.y)}else e=e.concat(h.points)});for(var t=e[0],r=e[0],n=e[1],a=e[1],s,o,l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],isNaN(s)||(t=Math.min(t,s),r=Math.max(r,s)),isNaN(o)||(n=Math.min(n,o),a=Math.max(a,o));return{x:t,y:n,width:r-t,height:a-n}}getLength(){return this.pathLength}getPointAtLength(e){return qe.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))}static getPathLength(e){let t=0;for(var r=0;r<e.length;++r)t+=e[r].pathLength;return t}static getPointAtLengthOfDataArray(e,t){var r,n=0,a=t.length;if(!a)return null;for(;n<a&&e>t[n].pathLength;)e-=t[n].pathLength,++n;if(n===a)return r=t[n-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return r=t[n].points.slice(0,2),{x:r[0],y:r[1]};var s=t[n],o=s.points;switch(s.command){case"L":return qe.getPointOnLine(e,s.start.x,s.start.y,o[0],o[1]);case"C":return qe.getPointOnCubicBezier((0,pr.t2length)(e,qe.getPathLength(t),m=>(0,pr.getCubicArcLength)([s.start.x,o[0],o[2],o[4]],[s.start.y,o[1],o[3],o[5]],m)),s.start.x,s.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return qe.getPointOnQuadraticBezier((0,pr.t2length)(e,qe.getPathLength(t),m=>(0,pr.getQuadraticArcLength)([s.start.x,o[0],o[2]],[s.start.y,o[1],o[3]],m)),s.start.x,s.start.y,o[0],o[1],o[2],o[3]);case"A":var l=o[0],h=o[1],d=o[2],u=o[3],f=o[4],c=o[5],g=o[6];return f+=c*e/s.pathLength,qe.getPointOnEllipticalArc(l,h,d,u,f,g)}return null}static getPointOnLine(e,t,r,n,a,s,o){s===void 0&&(s=t),o===void 0&&(o=r);var l=(a-r)/(n-t+1e-8),h=Math.sqrt(e*e/(1+l*l));n<t&&(h*=-1);var d=l*h,u;if(n===t)u={x:s,y:o+d};else if((o-r)/(s-t+1e-8)===l)u={x:s+h,y:o+d};else{var f,c,g=this.getLineLength(t,r,n,a),m=(s-t)*(n-t)+(o-r)*(a-r);m=m/(g*g),f=t+m*(n-t),c=r+m*(a-r);var v=this.getLineLength(s,o,f,c),k=Math.sqrt(e*e-v*v);h=Math.sqrt(k*k/(1+l*l)),n<t&&(h*=-1),d=l*h,u={x:f+h,y:c+d}}return u}static getPointOnCubicBezier(e,t,r,n,a,s,o,l,h){function d(v){return v*v*v}function u(v){return 3*v*v*(1-v)}function f(v){return 3*v*(1-v)*(1-v)}function c(v){return(1-v)*(1-v)*(1-v)}var g=l*d(e)+s*u(e)+n*f(e)+t*c(e),m=h*d(e)+o*u(e)+a*f(e)+r*c(e);return{x:g,y:m}}static getPointOnQuadraticBezier(e,t,r,n,a,s,o){function l(c){return c*c}function h(c){return 2*c*(1-c)}function d(c){return(1-c)*(1-c)}var u=s*l(e)+n*h(e)+t*d(e),f=o*l(e)+a*h(e)+r*d(e);return{x:u,y:f}}static getPointOnEllipticalArc(e,t,r,n,a,s){var o=Math.cos(s),l=Math.sin(s),h={x:r*Math.cos(a),y:n*Math.sin(a)};return{x:e+(h.x*o-h.y*l),y:t+(h.x*l+h.y*o)}}static parsePathData(e){if(!e)return[];var t=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(var n=0;n<r.length;n++)t=t.replace(new RegExp(r[n],"g"),"|"+r[n]);var a=t.split("|"),s=[],o=[],l=0,h=0,d=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,u;for(n=1;n<a.length;n++){var f=a[n],c=f.charAt(0);for(f=f.slice(1),o.length=0;u=d.exec(f);)o.push(u[0]);for(var g=[],m=0,v=o.length;m<v;m++){if(o[m]==="00"){g.push(0,0);continue}var k=parseFloat(o[m]);isNaN(k)?g.push(0):g.push(k)}for(;g.length>0&&!isNaN(g[0]);){var C="",p=[],_=l,b=h,y,M,P,E,A,T,S,N,D,L;switch(c){case"l":l+=g.shift(),h+=g.shift(),C="L",p.push(l,h);break;case"L":l=g.shift(),h=g.shift(),p.push(l,h);break;case"m":var B=g.shift(),Y=g.shift();if(l+=B,h+=Y,C="M",s.length>2&&s[s.length-1].command==="z"){for(var ne=s.length-2;ne>=0;ne--)if(s[ne].command==="M"){l=s[ne].points[0]+B,h=s[ne].points[1]+Y;break}}p.push(l,h),c="l";break;case"M":l=g.shift(),h=g.shift(),C="M",p.push(l,h),c="L";break;case"h":l+=g.shift(),C="L",p.push(l,h);break;case"H":l=g.shift(),C="L",p.push(l,h);break;case"v":h+=g.shift(),C="L",p.push(l,h);break;case"V":h=g.shift(),C="L",p.push(l,h);break;case"C":p.push(g.shift(),g.shift(),g.shift(),g.shift()),l=g.shift(),h=g.shift(),p.push(l,h);break;case"c":p.push(l+g.shift(),h+g.shift(),l+g.shift(),h+g.shift()),l+=g.shift(),h+=g.shift(),C="C",p.push(l,h);break;case"S":M=l,P=h,y=s[s.length-1],y.command==="C"&&(M=l+(l-y.points[2]),P=h+(h-y.points[3])),p.push(M,P,g.shift(),g.shift()),l=g.shift(),h=g.shift(),C="C",p.push(l,h);break;case"s":M=l,P=h,y=s[s.length-1],y.command==="C"&&(M=l+(l-y.points[2]),P=h+(h-y.points[3])),p.push(M,P,l+g.shift(),h+g.shift()),l+=g.shift(),h+=g.shift(),C="C",p.push(l,h);break;case"Q":p.push(g.shift(),g.shift()),l=g.shift(),h=g.shift(),p.push(l,h);break;case"q":p.push(l+g.shift(),h+g.shift()),l+=g.shift(),h+=g.shift(),C="Q",p.push(l,h);break;case"T":M=l,P=h,y=s[s.length-1],y.command==="Q"&&(M=l+(l-y.points[0]),P=h+(h-y.points[1])),l=g.shift(),h=g.shift(),C="Q",p.push(M,P,l,h);break;case"t":M=l,P=h,y=s[s.length-1],y.command==="Q"&&(M=l+(l-y.points[0]),P=h+(h-y.points[1])),l+=g.shift(),h+=g.shift(),C="Q",p.push(M,P,l,h);break;case"A":E=g.shift(),A=g.shift(),T=g.shift(),S=g.shift(),N=g.shift(),D=l,L=h,l=g.shift(),h=g.shift(),C="A",p=this.convertEndpointToCenterParameterization(D,L,l,h,S,N,E,A,T);break;case"a":E=g.shift(),A=g.shift(),T=g.shift(),S=g.shift(),N=g.shift(),D=l,L=h,l+=g.shift(),h+=g.shift(),C="A",p=this.convertEndpointToCenterParameterization(D,L,l,h,S,N,E,A,T);break}s.push({command:C||c,points:p,start:{x:_,y:b},pathLength:this.calcLength(_,b,C||c,p)})}(c==="z"||c==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,t,r,n){var a,s,o,l,h=qe;switch(r){case"L":return h.getLineLength(e,t,n[0],n[1]);case"C":return(0,pr.getCubicArcLength)([e,n[0],n[2],n[4]],[t,n[1],n[3],n[5]],1);case"Q":return(0,pr.getQuadraticArcLength)([e,n[0],n[2]],[t,n[1],n[3]],1);case"A":a=0;var d=n[4],u=n[5],f=n[4]+u,c=Math.PI/180;if(Math.abs(d-f)<c&&(c=Math.abs(d-f)),s=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],d,0),u<0)for(l=d-c;l>f;l-=c)o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),a+=h.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(l=d+c;l<f;l+=c)o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),a+=h.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],f,0),a+=h.getLineLength(s.x,s.y,o.x,o.y),a}return 0}static convertEndpointToCenterParameterization(e,t,r,n,a,s,o,l,h){var d=h*(Math.PI/180),u=Math.cos(d)*(e-r)/2+Math.sin(d)*(t-n)/2,f=-1*Math.sin(d)*(e-r)/2+Math.cos(d)*(t-n)/2,c=u*u/(o*o)+f*f/(l*l);c>1&&(o*=Math.sqrt(c),l*=Math.sqrt(c));var g=Math.sqrt((o*o*(l*l)-o*o*(f*f)-l*l*(u*u))/(o*o*(f*f)+l*l*(u*u)));a===s&&(g*=-1),isNaN(g)&&(g=0);var m=g*o*f/l,v=g*-l*u/o,k=(e+r)/2+Math.cos(d)*m-Math.sin(d)*v,C=(t+n)/2+Math.sin(d)*m+Math.cos(d)*v,p=function(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])},_=function(A,T){return(A[0]*T[0]+A[1]*T[1])/(p(A)*p(T))},b=function(A,T){return(A[0]*T[1]<A[1]*T[0]?-1:1)*Math.acos(_(A,T))},y=b([1,0],[(u-m)/o,(f-v)/l]),M=[(u-m)/o,(f-v)/l],P=[(-1*u-m)/o,(-1*f-v)/l],E=b(M,P);return _(M,P)<=-1&&(E=Math.PI),_(M,P)>=1&&(E=0),s===0&&E>0&&(E=E-2*Math.PI),s===1&&E<0&&(E=E+2*Math.PI),[k,C,o,l,y,E,d,s]}}Lr.Path=qe;qe.prototype.className="Path";qe.prototype._attrsAffectingSize=["data"];(0,ic._registerNode)(qe);tc.Factory.addGetterSetter(qe,"data");Object.defineProperty(Di,"__esModule",{value:!0});Di.Arrow=void 0;const Ii=me,nc=Zr,Co=oe,ac=_e,fs=Lr;class hr extends nc.Line{_sceneFunc(e){super._sceneFunc(e);var t=Math.PI*2,r=this.points(),n=r,a=this.tension()!==0&&r.length>4;a&&(n=this.getTensionPoints());var s=this.pointerLength(),o=r.length,l,h;if(a){const f=[n[n.length-4],n[n.length-3],n[n.length-2],n[n.length-1],r[o-2],r[o-1]],c=fs.Path.calcLength(n[n.length-4],n[n.length-3],"C",f),g=fs.Path.getPointOnQuadraticBezier(Math.min(1,1-s/c),f[0],f[1],f[2],f[3],f[4],f[5]);l=r[o-2]-g.x,h=r[o-1]-g.y}else l=r[o-2]-r[o-4],h=r[o-1]-r[o-3];var d=(Math.atan2(h,l)+t)%t,u=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[o-2],r[o-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-s,u/2),e.lineTo(-s,-u/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),a?(l=(n[0]+n[2])/2-r[0],h=(n[1]+n[3])/2-r[1]):(l=r[2]-r[0],h=r[3]-r[1]),e.rotate((Math.atan2(-h,-l)+t)%t),e.moveTo(0,0),e.lineTo(-s,u/2),e.lineTo(-s,-u/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x-t,y:e.y-t,width:e.width+t*2,height:e.height+t*2}}}Di.Arrow=hr;hr.prototype.className="Arrow";(0,ac._registerNode)(hr);Ii.Factory.addGetterSetter(hr,"pointerLength",10,(0,Co.getNumberValidator)());Ii.Factory.addGetterSetter(hr,"pointerWidth",10,(0,Co.getNumberValidator)());Ii.Factory.addGetterSetter(hr,"pointerAtBeginning",!1);Ii.Factory.addGetterSetter(hr,"pointerAtEnding",!0);var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.Circle=void 0;const sc=me,oc=Qe,lc=oe,hc=_e;let Gr=class extends oc.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Ui.Circle=Gr;Gr.prototype._centroid=!0;Gr.prototype.className="Circle";Gr.prototype._attrsAffectingSize=["radius"];(0,hc._registerNode)(Gr);sc.Factory.addGetterSetter(Gr,"radius",0,(0,lc.getNumberValidator)());var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.Ellipse=void 0;const oa=me,dc=Qe,So=oe,cc=_e;class Yt extends dc.Shape{_sceneFunc(e){var t=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),t!==r&&e.scale(1,r/t),e.arc(0,0,t,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Vi.Ellipse=Yt;Yt.prototype.className="Ellipse";Yt.prototype._centroid=!0;Yt.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,cc._registerNode)(Yt);oa.Factory.addComponentsGetterSetter(Yt,"radius",["x","y"]);oa.Factory.addGetterSetter(Yt,"radiusX",0,(0,So.getNumberValidator)());oa.Factory.addGetterSetter(Yt,"radiusY",0,(0,So.getNumberValidator)());var zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.Image=void 0;const Fn=ze,dr=me,uc=Qe,fc=_e,$r=oe;let pt=class Po extends uc.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),r=this.getHeight(),n=this.cornerRadius(),a=this.attrs.image;let s;if(a){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?s=[a,this.cropX(),this.cropY(),o,l,0,0,t,r]:s=[a,0,0,t,r]}(this.hasFill()||this.hasStroke()||n)&&(e.beginPath(),n?Fn.Util.drawRoundedRectPath(e,t,r,n):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)),a&&(n&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){var t=this.width(),r=this.height(),n=this.cornerRadius();e.beginPath(),n?Fn.Util.drawRoundedRectPath(e,t,r,n):e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t;return(e=this.attrs.width)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.width}getHeight(){var e,t;return(e=this.attrs.height)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.height}static fromURL(e,t,r=null){var n=Fn.Util.createImageElement();n.onload=function(){var a=new Po({image:n});t(a)},n.onerror=r,n.crossOrigin="Anonymous",n.src=e}};zi.Image=pt;pt.prototype.className="Image";(0,fc._registerNode)(pt);dr.Factory.addGetterSetter(pt,"cornerRadius",0,(0,$r.getNumberOrArrayOfNumbersValidator)(4));dr.Factory.addGetterSetter(pt,"image");dr.Factory.addComponentsGetterSetter(pt,"crop",["x","y","width","height"]);dr.Factory.addGetterSetter(pt,"cropX",0,(0,$r.getNumberValidator)());dr.Factory.addGetterSetter(pt,"cropY",0,(0,$r.getNumberValidator)());dr.Factory.addGetterSetter(pt,"cropWidth",0,(0,$r.getNumberValidator)());dr.Factory.addGetterSetter(pt,"cropHeight",0,(0,$r.getNumberValidator)());var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.Tag=Cr.Label=void 0;const Bi=me,gc=Qe,mc=Nr,la=oe,Eo=_e;var To=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],pc="Change.konva",_c="none",Wn="up",jn="right",Yn="down",Xn="left",vc=To.length;class ha extends mc.Group{constructor(e){super(e),this.on("add.konva",function(t){this._addListeners(t.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var t=this,r,n=function(){t._sync()};for(r=0;r<vc;r++)e.on(To[r]+pc,n)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),t=this.getTag(),r,n,a,s,o,l,h;if(e&&t){switch(r=e.width(),n=e.height(),a=t.pointerDirection(),s=t.pointerWidth(),h=t.pointerHeight(),o=0,l=0,a){case Wn:o=r/2,l=-1*h;break;case jn:o=r+s,l=n/2;break;case Yn:o=r/2,l=n+h;break;case Xn:o=-1*s,l=n/2;break}t.setAttrs({x:-1*o,y:-1*l,width:r,height:n}),e.setAttrs({x:-1*o,y:-1*l})}}}Cr.Label=ha;ha.prototype.className="Label";(0,Eo._registerNode)(ha);class cr extends gc.Shape{_sceneFunc(e){var t=this.width(),r=this.height(),n=this.pointerDirection(),a=this.pointerWidth(),s=this.pointerHeight(),o=this.cornerRadius();let l=0,h=0,d=0,u=0;typeof o=="number"?l=h=d=u=Math.min(o,t/2,r/2):(l=Math.min(o[0]||0,t/2,r/2),h=Math.min(o[1]||0,t/2,r/2),u=Math.min(o[2]||0,t/2,r/2),d=Math.min(o[3]||0,t/2,r/2)),e.beginPath(),e.moveTo(l,0),n===Wn&&(e.lineTo((t-a)/2,0),e.lineTo(t/2,-1*s),e.lineTo((t+a)/2,0)),e.lineTo(t-h,0),e.arc(t-h,h,h,Math.PI*3/2,0,!1),n===jn&&(e.lineTo(t,(r-s)/2),e.lineTo(t+a,r/2),e.lineTo(t,(r+s)/2)),e.lineTo(t,r-u),e.arc(t-u,r-u,u,0,Math.PI/2,!1),n===Yn&&(e.lineTo((t+a)/2,r),e.lineTo(t/2,r+s),e.lineTo((t-a)/2,r)),e.lineTo(d,r),e.arc(d,r-d,d,Math.PI/2,Math.PI,!1),n===Xn&&(e.lineTo(0,(r+s)/2),e.lineTo(-1*a,r/2),e.lineTo(0,(r-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,t=0,r=this.pointerWidth(),n=this.pointerHeight(),a=this.pointerDirection(),s=this.width(),o=this.height();return a===Wn?(t-=n,o+=n):a===Yn?o+=n:a===Xn?(e-=r*1.5,s+=r):a===jn&&(s+=r*1.5),{x:e,y:t,width:s,height:o}}}Cr.Tag=cr;cr.prototype.className="Tag";(0,Eo._registerNode)(cr);Bi.Factory.addGetterSetter(cr,"pointerDirection",_c);Bi.Factory.addGetterSetter(cr,"pointerWidth",0,(0,la.getNumberValidator)());Bi.Factory.addGetterSetter(cr,"pointerHeight",0,(0,la.getNumberValidator)());Bi.Factory.addGetterSetter(cr,"cornerRadius",0,(0,la.getNumberOrArrayOfNumbersValidator)(4));var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.Rect=void 0;const bc=me,yc=Qe,wc=_e,kc=ze,Cc=oe;let Hi=class extends yc.Shape{_sceneFunc(e){var t=this.cornerRadius(),r=this.width(),n=this.height();e.beginPath(),t?kc.Util.drawRoundedRectPath(e,r,n,t):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}};ei.Rect=Hi;Hi.prototype.className="Rect";(0,wc._registerNode)(Hi);bc.Factory.addGetterSetter(Hi,"cornerRadius",0,(0,Cc.getNumberOrArrayOfNumbersValidator)(4));var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.RegularPolygon=void 0;const Ao=me,Sc=Qe,Ro=oe,Pc=_e;class ur extends Sc.Shape{_sceneFunc(e){const t=this._getPoints();e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length;r++)e.lineTo(t[r].x,t[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,r=[];for(var n=0;n<e;n++)r.push({x:t*Math.sin(n*2*Math.PI/e),y:-1*t*Math.cos(n*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();var t=e[0].x,r=e[0].y,n=e[0].x,a=e[0].y;return e.forEach(s=>{t=Math.min(t,s.x),r=Math.max(r,s.x),n=Math.min(n,s.y),a=Math.max(a,s.y)}),{x:t,y:n,width:r-t,height:a-n}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Wi.RegularPolygon=ur;ur.prototype.className="RegularPolygon";ur.prototype._centroid=!0;ur.prototype._attrsAffectingSize=["radius"];(0,Pc._registerNode)(ur);Ao.Factory.addGetterSetter(ur,"radius",0,(0,Ro.getNumberValidator)());Ao.Factory.addGetterSetter(ur,"sides",0,(0,Ro.getNumberValidator)());var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.Ring=void 0;const Mo=me,Ec=Qe,Fo=oe,Tc=_e;var gs=Math.PI*2;class fr extends Ec.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,gs,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),gs,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}ji.Ring=fr;fr.prototype.className="Ring";fr.prototype._centroid=!0;fr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Tc._registerNode)(fr);Mo.Factory.addGetterSetter(fr,"innerRadius",0,(0,Fo.getNumberValidator)());Mo.Factory.addGetterSetter(fr,"outerRadius",0,(0,Fo.getNumberValidator)());var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.Sprite=void 0;const gr=me,Ac=Qe,Rc=Or,No=oe,Mc=_e;class _t extends Ac.Shape{constructor(e){super(e),this._updated=!0,this.anim=new Rc.Animation(()=>{var t=this._updated;return this._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var t=this.animation(),r=this.frameIndex(),n=r*4,a=this.animations()[t],s=this.frameOffsets(),o=a[n+0],l=a[n+1],h=a[n+2],d=a[n+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,h,d),e.closePath(),e.fillStrokeShape(this)),u)if(s){var f=s[t],c=r*2;e.drawImage(u,o,l,h,d,f[c+0],f[c+1],h,d)}else e.drawImage(u,o,l,h,d,0,0,h,d)}_hitFunc(e){var t=this.animation(),r=this.frameIndex(),n=r*4,a=this.animations()[t],s=this.frameOffsets(),o=a[n+2],l=a[n+3];if(e.beginPath(),s){var h=s[t],d=r*2;e.rect(h[d+0],h[d+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),t=this.animation(),r=this.animations(),n=r[t],a=n.length/4;e<a-1?this.frameIndex(e+1):this.frameIndex(0)}}Yi.Sprite=_t;_t.prototype.className="Sprite";(0,Mc._registerNode)(_t);gr.Factory.addGetterSetter(_t,"animation");gr.Factory.addGetterSetter(_t,"animations");gr.Factory.addGetterSetter(_t,"frameOffsets");gr.Factory.addGetterSetter(_t,"image");gr.Factory.addGetterSetter(_t,"frameIndex",0,(0,No.getNumberValidator)());gr.Factory.addGetterSetter(_t,"frameRate",17,(0,No.getNumberValidator)());gr.Factory.backCompat(_t,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.Star=void 0;const da=me,Fc=Qe,ca=oe,Nc=_e;class Xt extends Fc.Shape{_sceneFunc(e){var t=this.innerRadius(),r=this.outerRadius(),n=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(var a=1;a<n*2;a++){var s=a%2===0?r:t,o=s*Math.sin(a*Math.PI/n),l=-1*s*Math.cos(a*Math.PI/n);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Xi.Star=Xt;Xt.prototype.className="Star";Xt.prototype._centroid=!0;Xt.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Nc._registerNode)(Xt);da.Factory.addGetterSetter(Xt,"numPoints",5,(0,ca.getNumberValidator)());da.Factory.addGetterSetter(Xt,"innerRadius",0,(0,ca.getNumberValidator)());da.Factory.addGetterSetter(Xt,"outerRadius",0,(0,ca.getNumberValidator)());var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.Text=nr.stringToArray=void 0;const Kn=ze,$e=me,Oc=Qe,Kt=oe,Lc=_e;function Oo(i){return Array.from(i)}nr.stringToArray=Oo;var _r="auto",Gc="center",Lo="inherit",Ir="justify",Dc="Change.konva",xc="2d",ms="-",Go="left",Ic="text",Uc="Text",Vc="top",zc="bottom",ps="middle",Do="normal",Bc="px ",hi=" ",Hc="right",_s="rtl",Wc="word",jc="char",vs="none",Nn="",xo=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Yc=xo.length;function Xc(i){return i.split(",").map(e=>{e=e.trim();const t=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!r&&(e=`"${e}"`),e}).join(", ")}var di;function On(){return di||(di=Kn.Util.createCanvasElement().getContext(xc),di)}function Kc(i){i.fillText(this._partialText,this._partialTextX,this._partialTextY)}function qc(i){i.setAttr("miterLimit",2),i.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Qc(i){return i=i||{},!i.fillLinearGradientColorStops&&!i.fillRadialGradientColorStops&&!i.fillPatternImage&&(i.fill=i.fill||"black"),i}class He extends Oc.Shape{constructor(e){super(Qc(e)),this._partialTextX=0,this._partialTextY=0;for(var t=0;t<Yc;t++)this.on(xo[t]+Dc,this._setTextData);this._setTextData()}_sceneFunc(e){var t=this.textArr,r=t.length;if(this.text()){var n=this.padding(),a=this.fontSize(),s=this.lineHeight()*a,o=this.verticalAlign(),l=this.direction(),h=0,d=this.align(),u=this.getWidth(),f=this.letterSpacing(),c=this.fill(),g=this.textDecoration(),m=g.indexOf("underline")!==-1,v=g.indexOf("line-through")!==-1,k;l=l===Lo?e.direction:l;var C=0,C=s/2,p=0,_=0;for(l===_s&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",ps),e.setAttr("textAlign",Go),o===ps?h=(this.getHeight()-r*s-n*2)/2:o===zc&&(h=this.getHeight()-r*s-n*2),e.translate(n,h+n),k=0;k<r;k++){var p=0,_=0,b=t[k],y=b.text,M=b.width,P=b.lastInParagraph,E,A,T;if(e.save(),d===Hc?p+=u-M-n*2:d===Gc&&(p+=(u-M-n*2)/2),m){e.save(),e.beginPath(),e.moveTo(p,C+_+Math.round(a/2)),E=y.split(" ").length-1,A=E===0,T=d===Ir&&!P?u-n*2:M,e.lineTo(p+Math.round(T),C+_+Math.round(a/2)),e.lineWidth=a/15;const Y=this._getLinearGradient();e.strokeStyle=Y||c,e.stroke(),e.restore()}if(v){e.save(),e.beginPath(),e.moveTo(p,C+_),E=y.split(" ").length-1,A=E===0,T=d===Ir&&P&&!A?u-n*2:M,e.lineTo(p+Math.round(T),C+_),e.lineWidth=a/15;const Y=this._getLinearGradient();e.strokeStyle=Y||c,e.stroke(),e.restore()}if(l!==_s&&(f!==0||d===Ir)){E=y.split(" ").length-1;for(var S=Oo(y),N=0;N<S.length;N++){var D=S[N];D===" "&&!P&&d===Ir&&(p+=(u-n*2-M)/E),this._partialTextX=p,this._partialTextY=C+_,this._partialText=D,e.fillStrokeShape(this),p+=this.measureSize(D).width+f}}else f!==0&&e.setAttr("letterSpacing",`${f}px`),this._partialTextX=p,this._partialTextY=C+_,this._partialText=y,e.fillStrokeShape(this);e.restore(),r>1&&(C+=s)}}}_hitFunc(e){var t=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,t,r),e.closePath(),e.fillStrokeShape(this)}setText(e){var t=Kn.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(Ic,t),this}getWidth(){var e=this.attrs.width===_r||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===_r||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Kn.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t=On(),r=this.fontSize(),n;return t.save(),t.font=this._getContextFont(),n=t.measureText(e),t.restore(),{width:n.width,height:r}}_getContextFont(){return this.fontStyle()+hi+this.fontVariant()+hi+(this.fontSize()+Bc)+Xc(this.fontFamily())}_addTextLine(e){this.align()===Ir&&(e=e.trim());var r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){var t=this.letterSpacing(),r=e.length;return On().measureText(e).width+(r?t*(r-1):0)}_setTextData(){var e=this.text().split(`
`),t=+this.fontSize(),r=0,n=this.lineHeight()*t,a=this.attrs.width,s=this.attrs.height,o=a!==_r&&a!==void 0,l=s!==_r&&s!==void 0,h=this.padding(),d=a-h*2,u=s-h*2,f=0,c=this.wrap(),g=c!==vs,m=c!==jc&&g,v=this.ellipsis();this.textArr=[],On().font=this._getContextFont();for(var k=v?this._getTextWidth(Nn):0,C=0,p=e.length;C<p;++C){var _=e[C],b=this._getTextWidth(_);if(o&&b>d)for(;_.length>0;){for(var y=0,M=_.length,P="",E=0;y<M;){var A=y+M>>>1,T=_.slice(0,A+1),S=this._getTextWidth(T)+k;S<=d?(y=A+1,P=T,E=S):M=A}if(P){if(m){var N,D=_[P.length],L=D===hi||D===ms;L&&E<=d?N=P.length:N=Math.max(P.lastIndexOf(hi),P.lastIndexOf(ms))+1,N>0&&(y=N,P=P.slice(0,y),E=this._getTextWidth(P))}P=P.trimRight(),this._addTextLine(P),r=Math.max(r,E),f+=n;var B=this._shouldHandleEllipsis(f);if(B){this._tryToAddEllipsisToLastLine();break}if(_=_.slice(y),_=_.trimLeft(),_.length>0&&(b=this._getTextWidth(_),b<=d)){this._addTextLine(_),f+=n,r=Math.max(r,b);break}}else break}else this._addTextLine(_),f+=n,r=Math.max(r,b),this._shouldHandleEllipsis(f)&&C<p-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&f+n>u)break}this.textHeight=t,this.textWidth=r}_shouldHandleEllipsis(e){var t=+this.fontSize(),r=this.lineHeight()*t,n=this.attrs.height,a=n!==_r&&n!==void 0,s=this.padding(),o=n-s*2,l=this.wrap(),h=l!==vs;return!h||a&&e+r>o}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,t=e!==_r&&e!==void 0,r=this.padding(),n=e-r*2,a=this.ellipsis(),s=this.textArr[this.textArr.length-1];if(!(!s||!a)){if(t){var o=this._getTextWidth(s.text+Nn)<n;o||(s.text=s.text.slice(0,s.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+Nn)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,t=this.hasShadow();return e&&t?!0:super._useBufferCanvas()}}nr.Text=He;He.prototype._fillFunc=Kc;He.prototype._strokeFunc=qc;He.prototype.className=Uc;He.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,Lc._registerNode)(He);$e.Factory.overWriteSetter(He,"width",(0,Kt.getNumberOrAutoValidator)());$e.Factory.overWriteSetter(He,"height",(0,Kt.getNumberOrAutoValidator)());$e.Factory.addGetterSetter(He,"direction",Lo);$e.Factory.addGetterSetter(He,"fontFamily","Arial");$e.Factory.addGetterSetter(He,"fontSize",12,(0,Kt.getNumberValidator)());$e.Factory.addGetterSetter(He,"fontStyle",Do);$e.Factory.addGetterSetter(He,"fontVariant",Do);$e.Factory.addGetterSetter(He,"padding",0,(0,Kt.getNumberValidator)());$e.Factory.addGetterSetter(He,"align",Go);$e.Factory.addGetterSetter(He,"verticalAlign",Vc);$e.Factory.addGetterSetter(He,"lineHeight",1,(0,Kt.getNumberValidator)());$e.Factory.addGetterSetter(He,"wrap",Wc);$e.Factory.addGetterSetter(He,"ellipsis",!1,(0,Kt.getBooleanValidator)());$e.Factory.addGetterSetter(He,"letterSpacing",0,(0,Kt.getNumberValidator)());$e.Factory.addGetterSetter(He,"text","",(0,Kt.getStringValidator)());$e.Factory.addGetterSetter(He,"textDecoration","");var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.TextPath=void 0;const Ln=ze,ut=me,Jc=Qe,Ur=Lr,Gn=nr,Io=oe,Zc=_e;var $c="",Uo="normal";function Vo(i){i.fillText(this.partialText,0,0)}function zo(i){i.strokeText(this.partialText,0,0)}class Je extends Jc.Shape{constructor(e){super(e),this.dummyCanvas=Ln.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Ur.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const t=this.pathLength;return e-1>t?null:Ur.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Ur.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var t=this.textDecoration(),r=this.fill(),n=this.fontSize(),a=this.glyphInfo;t==="underline"&&e.beginPath();for(var s=0;s<a.length;s++){e.save();var o=a[s].p0;e.translate(o.x,o.y),e.rotate(a[s].rotation),this.partialText=a[s].text,e.fillStrokeShape(this),t==="underline"&&(s===0&&e.moveTo(0,n/2+1),e.lineTo(n,n/2+1)),e.restore()}t==="underline"&&(e.strokeStyle=r,e.lineWidth=n/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var t=this.glyphInfo;if(t.length>=1){var r=t[0].p0;e.moveTo(r.x,r.y)}for(var n=0;n<t.length;n++){var a=t[n].p1;e.lineTo(a.x,a.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Ln.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Gn.Text.prototype.setText.call(this,e)}_getContextFont(){return Gn.Text.prototype._getContextFont.call(this)}_getTextSize(e){var t=this.dummyCanvas,r=t.getContext("2d");r.save(),r.font=this._getContextFont();var n=r.measureText(e);return r.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:t}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=t,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),n=this.align(),a=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let o=0;n==="center"&&(o=Math.max(0,this.pathLength/2-s/2)),n==="right"&&(o=Math.max(0,this.pathLength-s));const l=(0,Gn.stringToArray)(this.text());let h=o;for(var d=0;d<l.length;d++){const u=this._getPointAtLength(h);if(!u)return;let f=this._getTextSize(l[d]).width+r;if(l[d]===" "&&n==="justify"){const C=this.text().split(" ").length-1;f+=(this.pathLength-s)/C}const c=this._getPointAtLength(h+f);if(!c)return;const g=Ur.Path.getLineLength(u.x,u.y,c.x,c.y);let m=0;if(a)try{m=a(l[d-1],l[d])*this.fontSize()}catch{m=0}u.x+=m,c.x+=m,this.textWidth+=m;const v=Ur.Path.getPointOnLine(m+g/2,u.x,u.y,c.x,c.y),k=Math.atan2(c.y-u.y,c.x-u.x);this.glyphInfo.push({transposeX:v.x,transposeY:v.y,text:l[d],rotation:k,p0:u,p1:c}),h+=f}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(d){e.push(d.p0.x),e.push(d.p0.y),e.push(d.p1.x),e.push(d.p1.y)});for(var t=e[0]||0,r=e[0]||0,n=e[1]||0,a=e[1]||0,s,o,l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],t=Math.min(t,s),r=Math.max(r,s),n=Math.min(n,o),a=Math.max(a,o);var h=this.fontSize();return{x:t-h/2,y:n-h/2,width:r-t+h,height:a-n+h}}destroy(){return Ln.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}Ki.TextPath=Je;Je.prototype._fillFunc=Vo;Je.prototype._strokeFunc=zo;Je.prototype._fillFuncHit=Vo;Je.prototype._strokeFuncHit=zo;Je.prototype.className="TextPath";Je.prototype._attrsAffectingSize=["text","fontSize","data"];(0,Zc._registerNode)(Je);ut.Factory.addGetterSetter(Je,"data");ut.Factory.addGetterSetter(Je,"fontFamily","Arial");ut.Factory.addGetterSetter(Je,"fontSize",12,(0,Io.getNumberValidator)());ut.Factory.addGetterSetter(Je,"fontStyle",Uo);ut.Factory.addGetterSetter(Je,"align","left");ut.Factory.addGetterSetter(Je,"letterSpacing",0,(0,Io.getNumberValidator)());ut.Factory.addGetterSetter(Je,"textBaseline","middle");ut.Factory.addGetterSetter(Je,"fontVariant",Uo);ut.Factory.addGetterSetter(Je,"text",$c);ut.Factory.addGetterSetter(Je,"textDecoration",null);ut.Factory.addGetterSetter(Je,"kerningFunc",null);var qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.Transformer=void 0;const Ge=ze,Ae=me,bs=Ve,eu=Qe,tu=ei,ys=Nr,dt=_e,qt=oe,ru=_e;var Bo="tr-konva",iu=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(i=>i+`.${Bo}`).join(" "),ws="nodesRect",nu=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],au={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const su="ontouchstart"in dt.Konva._global;function ou(i,e,t){if(i==="rotater")return t;e+=Ge.Util.degToRad(au[i]||0);var r=(Ge.Util.radToDeg(e)%360+360)%360;return Ge.Util._inRange(r,315+22.5,360)||Ge.Util._inRange(r,0,22.5)?"ns-resize":Ge.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":Ge.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":Ge.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":Ge.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":Ge.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":Ge.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":Ge.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(Ge.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}var bi=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],ks=1e8;function lu(i){return{x:i.x+i.width/2*Math.cos(i.rotation)+i.height/2*Math.sin(-i.rotation),y:i.y+i.height/2*Math.cos(i.rotation)+i.width/2*Math.sin(i.rotation)}}function Ho(i,e,t){const r=t.x+(i.x-t.x)*Math.cos(e)-(i.y-t.y)*Math.sin(e),n=t.y+(i.x-t.x)*Math.sin(e)+(i.y-t.y)*Math.cos(e);return{...i,rotation:i.rotation+e,x:r,y:n}}function hu(i,e){const t=lu(i);return Ho(i,e,t)}function du(i,e,t){let r=e;for(let n=0;n<i.length;n++){const a=dt.Konva.getAngle(i[n]),s=Math.abs(a-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<t&&(r=a)}return r}class Pe extends ys.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(iu,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Ge.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Bo+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const t=e.filter(n=>n.isAncestorOf(this)?(Ge.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=e=t,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(n=>{const a=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=n._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");n.on(s,a),n.on(nu.map(o=>o+`.${this._getEventNamespace()}`).join(" "),a),n.on(`absoluteTransformChange.${this._getEventNamespace()}`,a),this._proxyDrag(n)}),this._resetTransformCache();var r=!!this.findOne(".top-left");return r&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,r=>{t=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!t)return;const n=e.getAbsolutePosition(),a=n.x-t.x,s=n.y-t.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+a,y:l.y+s}),o.startDrag(r)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(ws),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(ws,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),r){var n=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=e.getAbsoluteScale(r),s=e.getAbsolutePosition(r),o=n.x*a.x-e.offsetX()*a.x,l=n.y*a.y-e.offsetY()*a.y;const h=(dt.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:s.x+o*Math.cos(h)+l*Math.sin(-h),y:s.y+l*Math.cos(h)+o*Math.sin(h),width:n.width*a.x,height:n.height*a.y,rotation:h};return Ho(d,-dt.Konva.getAngle(t),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-ks,y:-ks,width:0,height:0,rotation:0};const t=[];this.nodes().map(h=>{const d=h.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var u=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],f=h.getAbsoluteTransform();u.forEach(function(c){var g=f.point(c);t.push(g)})});const r=new Ge.Transform;r.rotate(-dt.Konva.getAngle(this.rotation()));var n=1/0,a=1/0,s=-1/0,o=-1/0;t.forEach(function(h){var d=r.point(h);n===void 0&&(n=s=d.x,a=o=d.y),n=Math.min(n,d.x),a=Math.min(a,d.y),s=Math.max(s,d.x),o=Math.max(o,d.y)}),r.invert();const l=r.point({x:n,y:a});return{x:l.x,y:l.y,width:s-n,height:o-a,rotation:dt.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),bi.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){var t=new tu.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:su?10:"auto"}),r=this;t.on("mousedown touchstart",function(n){r._handleMouseDown(n)}),t.on("dragstart",n=>{t.stopDrag(),n.cancelBubble=!0}),t.on("dragend",n=>{n.cancelBubble=!0}),t.on("mouseenter",()=>{var n=dt.Konva.getAngle(this.rotation()),a=this.rotateAnchorCursor(),s=ou(e,n,a);t.getStage().content&&(t.getStage().content.style.cursor=s),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){var e=new eu.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t,r){var n=r.getParent(),a=n.padding();t.beginPath(),t.rect(-a,-a,r.width()+a*2,r.height()+a*2),t.moveTo(r.width()/2,-a),n.rotateEnabled()&&n.rotateLineVisible()&&t.lineTo(r.width()/2,-n.rotateAnchorOffset()*Ge.Util._sign(r.height())-a),t.fillStrokeShape(r)},hitFunc:(t,r)=>{if(this.shouldOverdrawWholeArea()){var n=this.padding();t.beginPath(),t.rect(-n,-n,r.width()+n*2,r.height()+n*2),t.fillStrokeShape(r)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",t=>{t.cancelBubble=!0}),e.on("dragmove",t=>{t.cancelBubble=!0}),e.on("dragend",t=>{t.cancelBubble=!0}),this.on("dragmove",t=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var t=this._getNodeRect(),r=t.width,n=t.height,a=Math.sqrt(Math.pow(r,2)+Math.pow(n,2));this.sin=Math.abs(n/a),this.cos=Math.abs(r/a),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var s=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-s.x,y:o.y-s.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){var t,r,n,a=this.findOne("."+this._movingAnchorName),s=a.getStage();s.setPointersPositions(e);const o=s.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const h=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(h,l,e)),a.setAbsolutePosition(l);const d=a.getAbsolutePosition();if(!(h.x===d.x&&h.y===d.y)){if(this._movingAnchorName==="rotater"){var u=this._getNodeRect();t=a.x()-u.width/2,r=-a.y()+u.height/2;let N=Math.atan2(-r,t)+Math.PI/2;u.height<0&&(N-=Math.PI);var f=dt.Konva.getAngle(this.rotation());const D=f+N,L=dt.Konva.getAngle(this.rotationSnapTolerance()),Y=du(this.rotationSnaps(),D,L)-u.rotation,ne=hu(u,Y);this._fitNodesInto(ne,e);return}var c=this.shiftBehavior(),g;c==="inverted"?g=this.keepRatio()&&!e.shiftKey:c==="none"?g=this.keepRatio():g=this.keepRatio()||e.shiftKey;var p=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(g){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};n=Math.sqrt(Math.pow(m.x-a.x(),2)+Math.pow(m.y-a.y(),2));var v=this.findOne(".top-left").x()>m.x?-1:1,k=this.findOne(".top-left").y()>m.y?-1:1;t=n*this.cos*v,r=n*this.sin*k,this.findOne(".top-left").x(m.x-t),this.findOne(".top-left").y(m.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(a.y());else if(this._movingAnchorName==="top-right"){if(g){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};n=Math.sqrt(Math.pow(a.x()-m.x,2)+Math.pow(m.y-a.y(),2));var v=this.findOne(".top-right").x()<m.x?-1:1,k=this.findOne(".top-right").y()>m.y?-1:1;t=n*this.cos*v,r=n*this.sin*k,this.findOne(".top-right").x(m.x+t),this.findOne(".top-right").y(m.y-r)}var C=a.position();this.findOne(".top-left").y(C.y),this.findOne(".bottom-right").x(C.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(a.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(a.x());else if(this._movingAnchorName==="bottom-left"){if(g){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};n=Math.sqrt(Math.pow(m.x-a.x(),2)+Math.pow(a.y()-m.y,2));var v=m.x<a.x()?-1:1,k=a.y()<m.y?-1:1;t=n*this.cos*v,r=n*this.sin*k,a.x(m.x-t),a.y(m.y+r)}C=a.position(),this.findOne(".top-left").x(C.x),this.findOne(".bottom-right").y(C.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(a.y());else if(this._movingAnchorName==="bottom-right"){if(g){var m=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};n=Math.sqrt(Math.pow(a.x()-m.x,2)+Math.pow(a.y()-m.y,2));var v=this.findOne(".bottom-right").x()<m.x?-1:1,k=this.findOne(".bottom-right").y()<m.y?-1:1;t=n*this.cos*v,r=n*this.sin*k,this.findOne(".bottom-right").x(m.x+t),this.findOne(".bottom-right").y(m.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var p=this.centeredScaling()||e.altKey;if(p){var _=this.findOne(".top-left"),b=this.findOne(".bottom-right"),y=_.x(),M=_.y(),P=this.getWidth()-b.x(),E=this.getHeight()-b.y();b.move({x:-y,y:-M}),_.move({x:P,y:E})}var A=this.findOne(".top-left").getAbsolutePosition();t=A.x,r=A.y;var T=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),S=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:r,width:T,height:S,rotation:dt.Konva.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var t=this.getNode();this._fire("transformend",{evt:e,target:t}),t&&this._nodes.forEach(r=>{r._fire("transformend",{evt:e,target:r})}),this._movingAnchorName=null}}_fitNodesInto(e,t){var r=this._getNodeRect();const n=1;if(Ge.Util._inRange(e.width,-this.padding()*2-n,n)){this.update();return}if(Ge.Util._inRange(e.height,-this.padding()*2-n,n)){this.update();return}var a=new Ge.Transform;if(a.rotate(dt.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const f=a.point({x:-this.padding()*2,y:0});e.x+=f.x,e.y+=f.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const f=a.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const f=a.point({x:0,y:-this.padding()*2});e.x+=f.x,e.y+=f.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const f=a.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const f=this.boundBoxFunc()(r,e);f?e=f:Ge.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,o=new Ge.Transform;o.translate(r.x,r.y),o.rotate(r.rotation),o.scale(r.width/s,r.height/s);const l=new Ge.Transform,h=e.width/s,d=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(h),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(h,d));const u=l.multiply(o.invert());this._nodes.forEach(f=>{var c;const g=f.getParent().getAbsoluteTransform(),m=f.getTransform().copy();m.translate(f.offsetX(),f.offsetY());const v=new Ge.Transform;v.multiply(g.copy().invert()).multiply(u).multiply(g).multiply(m);const k=v.decompose();f.setAttrs(k),this._fire("transform",{evt:t,target:f}),f._fire("transform",{evt:t,target:f}),(c=f.getLayer())===null||c===void 0||c.batchDraw()}),this.rotation(Ge.Util._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e,t=this._getNodeRect();this.rotation(Ge.Util._getRotation(t.rotation));var r=t.width,n=t.height,a=this.enabledAnchors(),s=this.resizeEnabled(),o=this.padding(),l=this.anchorSize();const h=this.find("._anchor");h.forEach(u=>{u.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:s&&a.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+o,visible:s&&a.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:s&&a.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:n/2,offsetX:l/2+o,visible:s&&a.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:n/2,offsetX:l/2-o,visible:s&&a.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:n,offsetX:l/2+o,offsetY:l/2-o,visible:s&&a.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:n,offsetY:l/2-o,visible:s&&a.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:n,offsetX:l/2-o,offsetY:l/2-o,visible:s&&a.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*Ge.Util._sign(n)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:n,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const d=this.anchorStyleFunc();d&&h.forEach(u=>{d(u)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),ys.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return bs.Node.prototype.toObject.call(this)}clone(e){var t=bs.Node.prototype.clone.call(this,e);return t}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}qi.Transformer=Pe;function cu(i){return i instanceof Array||Ge.Util.warn("enabledAnchors value should be an array"),i instanceof Array&&i.forEach(function(e){bi.indexOf(e)===-1&&Ge.Util.warn("Unknown anchor name: "+e+". Available names are: "+bi.join(", "))}),i||[]}Pe.prototype.className="Transformer";(0,ru._registerNode)(Pe);Ae.Factory.addGetterSetter(Pe,"enabledAnchors",bi,cu);Ae.Factory.addGetterSetter(Pe,"flipEnabled",!0,(0,qt.getBooleanValidator)());Ae.Factory.addGetterSetter(Pe,"resizeEnabled",!0);Ae.Factory.addGetterSetter(Pe,"anchorSize",10,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"rotateEnabled",!0);Ae.Factory.addGetterSetter(Pe,"rotateLineVisible",!0);Ae.Factory.addGetterSetter(Pe,"rotationSnaps",[]);Ae.Factory.addGetterSetter(Pe,"rotateAnchorOffset",50,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"rotateAnchorCursor","crosshair");Ae.Factory.addGetterSetter(Pe,"rotationSnapTolerance",5,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"borderEnabled",!0);Ae.Factory.addGetterSetter(Pe,"anchorStroke","rgb(0, 161, 255)");Ae.Factory.addGetterSetter(Pe,"anchorStrokeWidth",1,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"anchorFill","white");Ae.Factory.addGetterSetter(Pe,"anchorCornerRadius",0,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"borderStroke","rgb(0, 161, 255)");Ae.Factory.addGetterSetter(Pe,"borderStrokeWidth",1,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"borderDash");Ae.Factory.addGetterSetter(Pe,"keepRatio",!0);Ae.Factory.addGetterSetter(Pe,"shiftBehavior","default");Ae.Factory.addGetterSetter(Pe,"centeredScaling",!1);Ae.Factory.addGetterSetter(Pe,"ignoreStroke",!1);Ae.Factory.addGetterSetter(Pe,"padding",0,(0,qt.getNumberValidator)());Ae.Factory.addGetterSetter(Pe,"node");Ae.Factory.addGetterSetter(Pe,"nodes");Ae.Factory.addGetterSetter(Pe,"boundBoxFunc");Ae.Factory.addGetterSetter(Pe,"anchorDragBoundFunc");Ae.Factory.addGetterSetter(Pe,"anchorStyleFunc");Ae.Factory.addGetterSetter(Pe,"shouldOverdrawWholeArea",!1);Ae.Factory.addGetterSetter(Pe,"useSingleNodeRotation",!0);Ae.Factory.backCompat(Pe,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.Wedge=void 0;const Ji=me,uu=Qe,fu=_e,Wo=oe,gu=_e;class Dt extends uu.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,fu.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Qi.Wedge=Dt;Dt.prototype.className="Wedge";Dt.prototype._centroid=!0;Dt.prototype._attrsAffectingSize=["radius"];(0,gu._registerNode)(Dt);Ji.Factory.addGetterSetter(Dt,"radius",0,(0,Wo.getNumberValidator)());Ji.Factory.addGetterSetter(Dt,"angle",0,(0,Wo.getNumberValidator)());Ji.Factory.addGetterSetter(Dt,"clockwise",!1);Ji.Factory.backCompat(Dt,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.Blur=void 0;const Cs=me,mu=Ve,pu=oe;function Ss(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var _u=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],vu=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function bu(i,e){var t=i.data,r=i.width,n=i.height,a,s,o,l,h,d,u,f,c,g,m,v,k,C,p,_,b,y,M,P,E,A,T,S,N=e+e+1,D=r-1,L=n-1,B=e+1,Y=B*(B+1)/2,ne=new Ss,H=null,W=ne,K=null,le=null,j=_u[e],V=vu[e];for(o=1;o<N;o++)W=W.next=new Ss,o===B&&(H=W);for(W.next=ne,u=d=0,s=0;s<n;s++){for(_=b=y=M=f=c=g=m=0,v=B*(P=t[d]),k=B*(E=t[d+1]),C=B*(A=t[d+2]),p=B*(T=t[d+3]),f+=Y*P,c+=Y*E,g+=Y*A,m+=Y*T,W=ne,o=0;o<B;o++)W.r=P,W.g=E,W.b=A,W.a=T,W=W.next;for(o=1;o<B;o++)l=d+((D<o?D:o)<<2),f+=(W.r=P=t[l])*(S=B-o),c+=(W.g=E=t[l+1])*S,g+=(W.b=A=t[l+2])*S,m+=(W.a=T=t[l+3])*S,_+=P,b+=E,y+=A,M+=T,W=W.next;for(K=ne,le=H,a=0;a<r;a++)t[d+3]=T=m*j>>V,T!==0?(T=255/T,t[d]=(f*j>>V)*T,t[d+1]=(c*j>>V)*T,t[d+2]=(g*j>>V)*T):t[d]=t[d+1]=t[d+2]=0,f-=v,c-=k,g-=C,m-=p,v-=K.r,k-=K.g,C-=K.b,p-=K.a,l=u+((l=a+e+1)<D?l:D)<<2,_+=K.r=t[l],b+=K.g=t[l+1],y+=K.b=t[l+2],M+=K.a=t[l+3],f+=_,c+=b,g+=y,m+=M,K=K.next,v+=P=le.r,k+=E=le.g,C+=A=le.b,p+=T=le.a,_-=P,b-=E,y-=A,M-=T,le=le.next,d+=4;u+=r}for(a=0;a<r;a++){for(b=y=M=_=c=g=m=f=0,d=a<<2,v=B*(P=t[d]),k=B*(E=t[d+1]),C=B*(A=t[d+2]),p=B*(T=t[d+3]),f+=Y*P,c+=Y*E,g+=Y*A,m+=Y*T,W=ne,o=0;o<B;o++)W.r=P,W.g=E,W.b=A,W.a=T,W=W.next;for(h=r,o=1;o<=e;o++)d=h+a<<2,f+=(W.r=P=t[d])*(S=B-o),c+=(W.g=E=t[d+1])*S,g+=(W.b=A=t[d+2])*S,m+=(W.a=T=t[d+3])*S,_+=P,b+=E,y+=A,M+=T,W=W.next,o<L&&(h+=r);for(d=a,K=ne,le=H,s=0;s<n;s++)l=d<<2,t[l+3]=T=m*j>>V,T>0?(T=255/T,t[l]=(f*j>>V)*T,t[l+1]=(c*j>>V)*T,t[l+2]=(g*j>>V)*T):t[l]=t[l+1]=t[l+2]=0,f-=v,c-=k,g-=C,m-=p,v-=K.r,k-=K.g,C-=K.b,p-=K.a,l=a+((l=s+B)<L?l:L)*r<<2,f+=_+=K.r=t[l],c+=b+=K.g=t[l+1],g+=y+=K.b=t[l+2],m+=M+=K.a=t[l+3],K=K.next,v+=P=le.r,k+=E=le.g,C+=A=le.b,p+=T=le.a,_-=P,b-=E,y-=A,M-=T,le=le.next,d+=r}}const yu=function(e){var t=Math.round(this.blurRadius());t>0&&bu(e,t)};Zi.Blur=yu;Cs.Factory.addGetterSetter(mu.Node,"blurRadius",0,(0,pu.getNumberValidator)(),Cs.Factory.afterSetFilter);var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.Brighten=void 0;const Ps=me,wu=Ve,ku=oe,Cu=function(i){var e=this.brightness()*255,t=i.data,r=t.length,n;for(n=0;n<r;n+=4)t[n]+=e,t[n+1]+=e,t[n+2]+=e};$i.Brighten=Cu;Ps.Factory.addGetterSetter(wu.Node,"brightness",0,(0,ku.getNumberValidator)(),Ps.Factory.afterSetFilter);var en={};Object.defineProperty(en,"__esModule",{value:!0});en.Contrast=void 0;const Es=me,Su=Ve,Pu=oe,Eu=function(i){var e=Math.pow((this.contrast()+100)/100,2),t=i.data,r=t.length,n=150,a=150,s=150,o;for(o=0;o<r;o+=4)n=t[o],a=t[o+1],s=t[o+2],n/=255,n-=.5,n*=e,n+=.5,n*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,n=n<0?0:n>255?255:n,a=a<0?0:a>255?255:a,s=s<0?0:s>255?255:s,t[o]=n,t[o+1]=a,t[o+2]=s};en.Contrast=Eu;Es.Factory.addGetterSetter(Su.Node,"contrast",0,(0,Pu.getNumberValidator)(),Es.Factory.afterSetFilter);var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.Emboss=void 0;const Ht=me,rn=Ve,Tu=ze,jo=oe,Au=function(i){var e=this.embossStrength()*10,t=this.embossWhiteLevel()*255,r=this.embossDirection(),n=this.embossBlend(),a=0,s=0,o=i.data,l=i.width,h=i.height,d=l*4,u=h;switch(r){case"top-left":a=-1,s=-1;break;case"top":a=-1,s=0;break;case"top-right":a=-1,s=1;break;case"right":a=0,s=1;break;case"bottom-right":a=1,s=1;break;case"bottom":a=1,s=0;break;case"bottom-left":a=1,s=-1;break;case"left":a=0,s=-1;break;default:Tu.Util.error("Unknown emboss direction: "+r)}do{var f=(u-1)*d,c=a;u+c<1&&(c=0),u+c>h&&(c=0);var g=(u-1+c)*l*4,m=l;do{var v=f+(m-1)*4,k=s;m+k<1&&(k=0),m+k>l&&(k=0);var C=g+(m-1+k)*4,p=o[v]-o[C],_=o[v+1]-o[C+1],b=o[v+2]-o[C+2],y=p,M=y>0?y:-y,P=_>0?_:-_,E=b>0?b:-b;if(P>M&&(y=_),E>M&&(y=b),y*=e,n){var A=o[v]+y,T=o[v+1]+y,S=o[v+2]+y;o[v]=A>255?255:A<0?0:A,o[v+1]=T>255?255:T<0?0:T,o[v+2]=S>255?255:S<0?0:S}else{var N=t-y;N<0?N=0:N>255&&(N=255),o[v]=o[v+1]=o[v+2]=N}}while(--m)}while(--u)};tn.Emboss=Au;Ht.Factory.addGetterSetter(rn.Node,"embossStrength",.5,(0,jo.getNumberValidator)(),Ht.Factory.afterSetFilter);Ht.Factory.addGetterSetter(rn.Node,"embossWhiteLevel",.5,(0,jo.getNumberValidator)(),Ht.Factory.afterSetFilter);Ht.Factory.addGetterSetter(rn.Node,"embossDirection","top-left",null,Ht.Factory.afterSetFilter);Ht.Factory.addGetterSetter(rn.Node,"embossBlend",!1,null,Ht.Factory.afterSetFilter);var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.Enhance=void 0;const Ts=me,Ru=Ve,Mu=oe;function Dn(i,e,t,r,n){var a=t-e,s=n-r,o;return a===0?r+s/2:s===0?r:(o=(i-e)/a,o=s*o+r,o)}const Fu=function(i){var e=i.data,t=e.length,r=e[0],n=r,a,s=e[1],o=s,l,h=e[2],d=h,u,f,c=this.enhance();if(c!==0){for(f=0;f<t;f+=4)a=e[f+0],a<r?r=a:a>n&&(n=a),l=e[f+1],l<s?s=l:l>o&&(o=l),u=e[f+2],u<h?h=u:u>d&&(d=u);n===r&&(n=255,r=0),o===s&&(o=255,s=0),d===h&&(d=255,h=0);var g,m,v,k,C,p,_,b,y;for(c>0?(m=n+c*(255-n),v=r-c*(r-0),C=o+c*(255-o),p=s-c*(s-0),b=d+c*(255-d),y=h-c*(h-0)):(g=(n+r)*.5,m=n+c*(n-g),v=r+c*(r-g),k=(o+s)*.5,C=o+c*(o-k),p=s+c*(s-k),_=(d+h)*.5,b=d+c*(d-_),y=h+c*(h-_)),f=0;f<t;f+=4)e[f+0]=Dn(e[f+0],r,n,v,m),e[f+1]=Dn(e[f+1],s,o,p,C),e[f+2]=Dn(e[f+2],h,d,y,b)}};nn.Enhance=Fu;Ts.Factory.addGetterSetter(Ru.Node,"enhance",0,(0,Mu.getNumberValidator)(),Ts.Factory.afterSetFilter);var an={};Object.defineProperty(an,"__esModule",{value:!0});an.Grayscale=void 0;const Nu=function(i){var e=i.data,t=e.length,r,n;for(r=0;r<t;r+=4)n=.34*e[r]+.5*e[r+1]+.16*e[r+2],e[r]=n,e[r+1]=n,e[r+2]=n};an.Grayscale=Nu;var sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.HSL=void 0;const Sr=me,ua=Ve,fa=oe;Sr.Factory.addGetterSetter(ua.Node,"hue",0,(0,fa.getNumberValidator)(),Sr.Factory.afterSetFilter);Sr.Factory.addGetterSetter(ua.Node,"saturation",0,(0,fa.getNumberValidator)(),Sr.Factory.afterSetFilter);Sr.Factory.addGetterSetter(ua.Node,"luminance",0,(0,fa.getNumberValidator)(),Sr.Factory.afterSetFilter);const Ou=function(i){var e=i.data,t=e.length,r=1,n=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,s=this.luminance()*127,o,l=r*n*Math.cos(a*Math.PI/180),h=r*n*Math.sin(a*Math.PI/180),d=.299*r+.701*l+.167*h,u=.587*r-.587*l+.33*h,f=.114*r-.114*l-.497*h,c=.299*r-.299*l-.328*h,g=.587*r+.413*l+.035*h,m=.114*r-.114*l+.293*h,v=.299*r-.3*l+1.25*h,k=.587*r-.586*l-1.05*h,C=.114*r+.886*l-.2*h,p,_,b,y;for(o=0;o<t;o+=4)p=e[o+0],_=e[o+1],b=e[o+2],y=e[o+3],e[o+0]=d*p+u*_+f*b+s,e[o+1]=c*p+g*_+m*b+s,e[o+2]=v*p+k*_+C*b+s,e[o+3]=y};sn.HSL=Ou;var on={};Object.defineProperty(on,"__esModule",{value:!0});on.HSV=void 0;const Pr=me,ga=Ve,ma=oe,Lu=function(i){var e=i.data,t=e.length,r=Math.pow(2,this.value()),n=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,s,o=r*n*Math.cos(a*Math.PI/180),l=r*n*Math.sin(a*Math.PI/180),h=.299*r+.701*o+.167*l,d=.587*r-.587*o+.33*l,u=.114*r-.114*o-.497*l,f=.299*r-.299*o-.328*l,c=.587*r+.413*o+.035*l,g=.114*r-.114*o+.293*l,m=.299*r-.3*o+1.25*l,v=.587*r-.586*o-1.05*l,k=.114*r+.886*o-.2*l,C,p,_,b;for(s=0;s<t;s+=4)C=e[s+0],p=e[s+1],_=e[s+2],b=e[s+3],e[s+0]=h*C+d*p+u*_,e[s+1]=f*C+c*p+g*_,e[s+2]=m*C+v*p+k*_,e[s+3]=b};on.HSV=Lu;Pr.Factory.addGetterSetter(ga.Node,"hue",0,(0,ma.getNumberValidator)(),Pr.Factory.afterSetFilter);Pr.Factory.addGetterSetter(ga.Node,"saturation",0,(0,ma.getNumberValidator)(),Pr.Factory.afterSetFilter);Pr.Factory.addGetterSetter(ga.Node,"value",0,(0,ma.getNumberValidator)(),Pr.Factory.afterSetFilter);var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.Invert=void 0;const Gu=function(i){var e=i.data,t=e.length,r;for(r=0;r<t;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};ln.Invert=Gu;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.Kaleidoscope=void 0;const yi=me,Yo=Ve,As=ze,Xo=oe;var Du=function(i,e,t){var r=i.data,n=e.data,a=i.width,s=i.height,o=t.polarCenterX||a/2,l=t.polarCenterY||s/2,h,d,u,f=0,c=0,g=0,m=0,v,k=Math.sqrt(o*o+l*l);d=a-o,u=s-l,v=Math.sqrt(d*d+u*u),k=v>k?v:k;var C=s,p=a,_,b,y=360/p*Math.PI/180,M,P;for(b=0;b<p;b+=1)for(M=Math.sin(b*y),P=Math.cos(b*y),_=0;_<C;_+=1)d=Math.floor(o+k*_/C*P),u=Math.floor(l+k*_/C*M),h=(u*a+d)*4,f=r[h+0],c=r[h+1],g=r[h+2],m=r[h+3],h=(b+_*a)*4,n[h+0]=f,n[h+1]=c,n[h+2]=g,n[h+3]=m},xu=function(i,e,t){var r=i.data,n=e.data,a=i.width,s=i.height,o=t.polarCenterX||a/2,l=t.polarCenterY||s/2,h,d,u,f,c,g=0,m=0,v=0,k=0,C,p=Math.sqrt(o*o+l*l);d=a-o,u=s-l,C=Math.sqrt(d*d+u*u),p=C>p?C:p;var _=s,b=a,y,M,P=t.polarRotation||0,E,A;for(d=0;d<a;d+=1)for(u=0;u<s;u+=1)f=d-o,c=u-l,y=Math.sqrt(f*f+c*c)*_/p,M=(Math.atan2(c,f)*180/Math.PI+360+P)%360,M=M*b/360,E=Math.floor(M),A=Math.floor(y),h=(A*a+E)*4,g=r[h+0],m=r[h+1],v=r[h+2],k=r[h+3],h=(u*a+d)*4,n[h+0]=g,n[h+1]=m,n[h+2]=v,n[h+3]=k};const Iu=function(i){var e=i.width,t=i.height,r,n,a,s,o,l,h,d,u,f,c=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),m=Math.floor(e*(g%360)/360);if(!(c<1)){var v=As.Util.createCanvasElement();v.width=e,v.height=t;var k=v.getContext("2d").getImageData(0,0,e,t);As.Util.releaseCanvas(v),Du(i,k,{polarCenterX:e/2,polarCenterY:t/2});for(var C=e/Math.pow(2,c);C<=8;)C=C*2,c-=1;C=Math.ceil(C);var p=C,_=0,b=p,y=1;for(m+C>e&&(_=p,b=0,y=-1),n=0;n<t;n+=1)for(r=_;r!==b;r+=y)a=Math.round(r+m)%e,u=(e*n+a)*4,o=k.data[u+0],l=k.data[u+1],h=k.data[u+2],d=k.data[u+3],f=(e*n+r)*4,k.data[f+0]=o,k.data[f+1]=l,k.data[f+2]=h,k.data[f+3]=d;for(n=0;n<t;n+=1)for(p=Math.floor(C),s=0;s<c;s+=1){for(r=0;r<p+1;r+=1)u=(e*n+r)*4,o=k.data[u+0],l=k.data[u+1],h=k.data[u+2],d=k.data[u+3],f=(e*n+p*2-r-1)*4,k.data[f+0]=o,k.data[f+1]=l,k.data[f+2]=h,k.data[f+3]=d;p*=2}xu(k,i,{polarRotation:0})}};hn.Kaleidoscope=Iu;yi.Factory.addGetterSetter(Yo.Node,"kaleidoscopePower",2,(0,Xo.getNumberValidator)(),yi.Factory.afterSetFilter);yi.Factory.addGetterSetter(Yo.Node,"kaleidoscopeAngle",0,(0,Xo.getNumberValidator)(),yi.Factory.afterSetFilter);var dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.Mask=void 0;const Rs=me,Uu=Ve,Vu=oe;function ci(i,e,t){var r=(t*i.width+e)*4,n=[];return n.push(i.data[r++],i.data[r++],i.data[r++],i.data[r++]),n}function Vr(i,e){return Math.sqrt(Math.pow(i[0]-e[0],2)+Math.pow(i[1]-e[1],2)+Math.pow(i[2]-e[2],2))}function zu(i){for(var e=[0,0,0],t=0;t<i.length;t++)e[0]+=i[t][0],e[1]+=i[t][1],e[2]+=i[t][2];return e[0]/=i.length,e[1]/=i.length,e[2]/=i.length,e}function Bu(i,e){var t=ci(i,0,0),r=ci(i,i.width-1,0),n=ci(i,0,i.height-1),a=ci(i,i.width-1,i.height-1),s=e||10;if(Vr(t,r)<s&&Vr(r,a)<s&&Vr(a,n)<s&&Vr(n,t)<s){for(var o=zu([r,t,a,n]),l=[],h=0;h<i.width*i.height;h++){var d=Vr(o,[i.data[h*4],i.data[h*4+1],i.data[h*4+2]]);l[h]=d<s?0:255}return l}}function Hu(i,e){for(var t=0;t<i.width*i.height;t++)i.data[4*t+3]=e[t]}function Wu(i,e,t){for(var r=[1,1,1,1,0,1,1,1,1],n=Math.round(Math.sqrt(r.length)),a=Math.floor(n/2),s=[],o=0;o<t;o++)for(var l=0;l<e;l++){for(var h=o*e+l,d=0,u=0;u<n;u++)for(var f=0;f<n;f++){var c=o+u-a,g=l+f-a;if(c>=0&&c<t&&g>=0&&g<e){var m=c*e+g,v=r[u*n+f];d+=i[m]*v}}s[h]=d===255*8?255:0}return s}function ju(i,e,t){for(var r=[1,1,1,1,1,1,1,1,1],n=Math.round(Math.sqrt(r.length)),a=Math.floor(n/2),s=[],o=0;o<t;o++)for(var l=0;l<e;l++){for(var h=o*e+l,d=0,u=0;u<n;u++)for(var f=0;f<n;f++){var c=o+u-a,g=l+f-a;if(c>=0&&c<t&&g>=0&&g<e){var m=c*e+g,v=r[u*n+f];d+=i[m]*v}}s[h]=d>=255*4?255:0}return s}function Yu(i,e,t){for(var r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],n=Math.round(Math.sqrt(r.length)),a=Math.floor(n/2),s=[],o=0;o<t;o++)for(var l=0;l<e;l++){for(var h=o*e+l,d=0,u=0;u<n;u++)for(var f=0;f<n;f++){var c=o+u-a,g=l+f-a;if(c>=0&&c<t&&g>=0&&g<e){var m=c*e+g,v=r[u*n+f];d+=i[m]*v}}s[h]=d}return s}const Xu=function(i){var e=this.threshold(),t=Bu(i,e);return t&&(t=Wu(t,i.width,i.height),t=ju(t,i.width,i.height),t=Yu(t,i.width,i.height),Hu(i,t)),i};dn.Mask=Xu;Rs.Factory.addGetterSetter(Uu.Node,"threshold",0,(0,Vu.getNumberValidator)(),Rs.Factory.afterSetFilter);var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.Noise=void 0;const Ms=me,Ku=Ve,qu=oe,Qu=function(i){var e=this.noise()*255,t=i.data,r=t.length,n=e/2,a;for(a=0;a<r;a+=4)t[a+0]+=n-2*n*Math.random(),t[a+1]+=n-2*n*Math.random(),t[a+2]+=n-2*n*Math.random()};cn.Noise=Qu;Ms.Factory.addGetterSetter(Ku.Node,"noise",.2,(0,qu.getNumberValidator)(),Ms.Factory.afterSetFilter);var un={};Object.defineProperty(un,"__esModule",{value:!0});un.Pixelate=void 0;const Fs=me,Ju=ze,Zu=Ve,$u=oe,ef=function(i){var e=Math.ceil(this.pixelSize()),t=i.width,r=i.height,n,a,s,o,l,h,d,u=Math.ceil(t/e),f=Math.ceil(r/e),c,g,m,v,k,C,p,_=i.data;if(e<=0){Ju.Util.error("pixelSize value can not be <= 0");return}for(k=0;k<u;k+=1)for(C=0;C<f;C+=1){for(o=0,l=0,h=0,d=0,c=k*e,g=c+e,m=C*e,v=m+e,p=0,n=c;n<g;n+=1)if(!(n>=t))for(a=m;a<v;a+=1)a>=r||(s=(t*a+n)*4,o+=_[s+0],l+=_[s+1],h+=_[s+2],d+=_[s+3],p+=1);for(o=o/p,l=l/p,h=h/p,d=d/p,n=c;n<g;n+=1)if(!(n>=t))for(a=m;a<v;a+=1)a>=r||(s=(t*a+n)*4,_[s+0]=o,_[s+1]=l,_[s+2]=h,_[s+3]=d)}};un.Pixelate=ef;Fs.Factory.addGetterSetter(Zu.Node,"pixelSize",8,(0,$u.getNumberValidator)(),Fs.Factory.afterSetFilter);var fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.Posterize=void 0;const Ns=me,tf=Ve,rf=oe,nf=function(i){var e=Math.round(this.levels()*254)+1,t=i.data,r=t.length,n=255/e,a;for(a=0;a<r;a+=1)t[a]=Math.floor(t[a]/n)*n};fn.Posterize=nf;Ns.Factory.addGetterSetter(tf.Node,"levels",.5,(0,rf.getNumberValidator)(),Ns.Factory.afterSetFilter);var gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.RGB=void 0;const wi=me,pa=Ve,af=oe,sf=function(i){var e=i.data,t=e.length,r=this.red(),n=this.green(),a=this.blue(),s,o;for(s=0;s<t;s+=4)o=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255,e[s]=o*r,e[s+1]=o*n,e[s+2]=o*a,e[s+3]=e[s+3]};gn.RGB=sf;wi.Factory.addGetterSetter(pa.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)});wi.Factory.addGetterSetter(pa.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)});wi.Factory.addGetterSetter(pa.Node,"blue",0,af.RGBComponent,wi.Factory.afterSetFilter);var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.RGBA=void 0;const Wr=me,pn=Ve,of=oe,lf=function(i){var e=i.data,t=e.length,r=this.red(),n=this.green(),a=this.blue(),s=this.alpha(),o,l;for(o=0;o<t;o+=4)l=1-s,e[o]=r*s+e[o]*l,e[o+1]=n*s+e[o+1]*l,e[o+2]=a*s+e[o+2]*l};mn.RGBA=lf;Wr.Factory.addGetterSetter(pn.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)});Wr.Factory.addGetterSetter(pn.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)});Wr.Factory.addGetterSetter(pn.Node,"blue",0,of.RGBComponent,Wr.Factory.afterSetFilter);Wr.Factory.addGetterSetter(pn.Node,"alpha",1,function(i){return this._filterUpToDate=!1,i>1?1:i<0?0:i});var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.Sepia=void 0;const hf=function(i){var e=i.data,t=e.length,r,n,a,s;for(r=0;r<t;r+=4)n=e[r+0],a=e[r+1],s=e[r+2],e[r+0]=Math.min(255,n*.393+a*.769+s*.189),e[r+1]=Math.min(255,n*.349+a*.686+s*.168),e[r+2]=Math.min(255,n*.272+a*.534+s*.131)};_n.Sepia=hf;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.Solarize=void 0;const df=function(i){var e=i.data,t=i.width,r=i.height,n=t*4,a=r;do{var s=(a-1)*n,o=t;do{var l=s+(o-1)*4,h=e[l],d=e[l+1],u=e[l+2];h>127&&(h=255-h),d>127&&(d=255-d),u>127&&(u=255-u),e[l]=h,e[l+1]=d,e[l+2]=u}while(--o)}while(--a)};vn.Solarize=df;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.Threshold=void 0;const Os=me,cf=Ve,uf=oe,ff=function(i){var e=this.threshold()*255,t=i.data,r=t.length,n;for(n=0;n<r;n+=1)t[n]=t[n]<e?0:255};bn.Threshold=ff;Os.Factory.addGetterSetter(cf.Node,"threshold",.5,(0,uf.getNumberValidator)(),Os.Factory.afterSetFilter);Object.defineProperty(Ti,"__esModule",{value:!0});Ti.Konva=void 0;const Ls=uo,gf=Oi,mf=Di,pf=Ui,_f=Vi,vf=zi,Gs=Cr,bf=Zr,yf=Lr,wf=ei,kf=Wi,Cf=ji,Sf=Yi,Pf=Xi,Ef=nr,Tf=Ki,Af=qi,Rf=Qi,Mf=Zi,Ff=$i,Nf=en,Of=tn,Lf=nn,Gf=an,Df=sn,xf=on,If=ln,Uf=hn,Vf=dn,zf=cn,Bf=un,Hf=fn,Wf=gn,jf=mn,Yf=_n,Xf=vn,Kf=bn;Ti.Konva=Ls.Konva.Util._assign(Ls.Konva,{Arc:gf.Arc,Arrow:mf.Arrow,Circle:pf.Circle,Ellipse:_f.Ellipse,Image:vf.Image,Label:Gs.Label,Tag:Gs.Tag,Line:bf.Line,Path:yf.Path,Rect:wf.Rect,RegularPolygon:kf.RegularPolygon,Ring:Cf.Ring,Sprite:Sf.Sprite,Star:Pf.Star,Text:Ef.Text,TextPath:Tf.TextPath,Transformer:Af.Transformer,Wedge:Rf.Wedge,Filters:{Blur:Mf.Blur,Brighten:Ff.Brighten,Contrast:Nf.Contrast,Emboss:Of.Emboss,Enhance:Lf.Enhance,Grayscale:Gf.Grayscale,HSL:Df.HSL,HSV:xf.HSV,Invert:If.Invert,Kaleidoscope:Uf.Kaleidoscope,Mask:Vf.Mask,Noise:zf.Noise,Pixelate:Bf.Pixelate,Posterize:Hf.Posterize,RGB:Wf.RGB,RGBA:jf.RGBA,Sepia:Yf.Sepia,Solarize:Xf.Solarize,Threshold:Kf.Threshold}});var qf=ra.exports;Object.defineProperty(qf,"__esModule",{value:!0});const Qf=Ti;ra.exports=Qf.Konva;var Jf=ra.exports;const ti=Zd(Jf),Zf=["mouseover","mouseout","mouseenter","mouseleave","mousemove","mousedown","mouseup","wheel","click","dblclick","touchstart","touchmove","touchend","tap","dbltap","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerenter","pointerout","pointerleave","pointerclick","pointerdblclick","dragstart","dragmove","dragend","transformstart","transform","transformend"];function ri(i,e){Zf.forEach(t=>{e.on(t,r=>{i(t,r,{cancelable:!0})||(r.cancelBubble=!0)})})}const ki=["svelte-konva-stage","svelte-konva-layer","svelte-konva-group","svelte-konva-label"];var jr;(function(i){i[i.Stage=0]="Stage",i[i.Layer=1]="Layer",i[i.Group=2]="Group",i[i.Label=3]="Label"})(jr||(jr={}));const $f="svelte-konva: Component does not have any parent container. Please make sure that the component is wrapped inside a Layer or Group.",e1="svelte-konva: A Layer needs to have a Stage as parent.";function Ko(i,e){ki.forEach(t=>{Et(t,null)}),Et(ki[i],e)}function _a(){for(let i=1;i<4;i++){const e=et(ki[i]);if(e)return e}throw new Error($f)}function t1(){const i=et(ki[jr.Stage]);if(i)return i;throw new Error(e1)}function Ft(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}function r1(i,e,t){let r,{config:n}=e,{handle:a=new ti.Circle(n)}=e,{staticConfig:s=!1}=e,o=_a();Er(i,o,h=>t(4,r=h));let l=ar();return Wt(()=>{r.add(a),s||(a.on("transformend",()=>{Ft(n,a.getAttrs()),t(1,n)}),a.on("dragend",()=>{Ft(n,a.getAttrs()),t(1,n)})),ri(l,a)}),Yr(()=>{a.destroy()}),i.$$set=h=>{"config"in h&&t(1,n=h.config),"handle"in h&&t(2,a=h.handle),"staticConfig"in h&&t(3,s=h.staticConfig)},i.$$.update=()=>{i.$$.dirty&6&&a.setAttrs(n)},[o,n,a,s]}class i1 extends Ce{constructor(e){super(),Se(this,e,r1,null,ge,{config:1,handle:2,staticConfig:3})}}function n1(i,e,t){let r,{config:n}=e,{handle:a=new ti.Image(n)}=e,{staticConfig:s=!1}=e,o=_a();Er(i,o,h=>t(4,r=h));let l=ar();return Wt(()=>{r.add(a),s||(a.on("transformend",()=>{Ft(n,a.getAttrs()),t(1,n)}),a.on("dragend",()=>{Ft(n,a.getAttrs()),t(1,n)})),ri(l,a)}),Yr(()=>{a.destroy()}),i.$$set=h=>{"config"in h&&t(1,n=h.config),"handle"in h&&t(2,a=h.handle),"staticConfig"in h&&t(3,s=h.staticConfig)},i.$$.update=()=>{i.$$.dirty&6&&a.setAttrs(n)},[o,n,a,s]}class a1 extends Ce{constructor(e){super(),Se(this,e,n1,null,ge,{config:1,handle:2,staticConfig:3})}}function Ds(i){let e;const t=i[6].default,r=Re(t,i,i[5],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&32)&&Me(r,t,n,n[5],e?Ne(t,n[5],a,null):Fe(n[5]),null)},i(n){e||(F(r,n),e=!0)},o(n){O(r,n),e=!1},d(n){r&&r.d(n)}}}function s1(i){let e,t,r=i[0]&&Ds(i);return{c(){r&&r.c(),e=pe()},l(n){r&&r.l(n),e=pe()},m(n,a){r&&r.m(n,a),G(n,e,a),t=!0},p(n,[a]){n[0]?r?(r.p(n,a),a&1&&F(r,1)):(r=Ds(n),r.c(),F(r,1),r.m(e.parentNode,e)):r&&(je(),O(r,1,1,()=>{r=null}),Ye())},i(n){t||(F(r),t=!0)},o(n){O(r),t=!1},d(n){n&&R(e),r&&r.d(n)}}}function o1(i,e,t){let r,{$$slots:n={},$$scope:a}=e,{config:s={}}=e,{handle:o=new ti.Layer(s)}=e,{staticConfig:l=!1}=e,h=Tr(null),d=ar(),u=!1,f=t1();return Er(i,f,c=>t(7,r=c)),Wt(()=>{r.add(o),l||(o.on("transformend",()=>{Ft(s,o.getAttrs()),t(2,s)}),o.on("dragend",()=>{Ft(s,o.getAttrs()),t(2,s)})),ri(d,o),h.set(o),t(0,u=!0)}),Yr(()=>{o&&o.destroy()}),Ko(jr.Layer,h),i.$$set=c=>{"config"in c&&t(2,s=c.config),"handle"in c&&t(3,o=c.handle),"staticConfig"in c&&t(4,l=c.staticConfig),"$$scope"in c&&t(5,a=c.$$scope)},i.$$.update=()=>{i.$$.dirty&12&&o&&o.setAttrs(s)},[u,f,s,o,l,a,n]}class l1 extends Ce{constructor(e){super(),Se(this,e,o1,s1,ge,{config:2,handle:3,staticConfig:4})}}function h1(i,e,t){let r,{config:n}=e,{handle:a=new ti.Rect(n)}=e,{staticConfig:s=!1}=e,o=_a();Er(i,o,h=>t(4,r=h));let l=ar();return Wt(()=>{r.add(a),s||(a.on("transformend",()=>{Ft(n,a.getAttrs()),t(1,n)}),a.on("dragend",()=>{Ft(n,a.getAttrs()),t(1,n)})),ri(l,a)}),Yr(()=>{a.destroy()}),i.$$set=h=>{"config"in h&&t(1,n=h.config),"handle"in h&&t(2,a=h.handle),"staticConfig"in h&&t(3,s=h.staticConfig)},i.$$.update=()=>{i.$$.dirty&6&&a.setAttrs(n)},[o,n,a,s]}class d1 extends Ce{constructor(e){super(),Se(this,e,h1,null,ge,{config:1,handle:2,staticConfig:3})}}function xs(i){let e;const t=i[7].default,r=Re(t,i,i[6],null);return{c(){r&&r.c()},l(n){r&&r.l(n)},m(n,a){r&&r.m(n,a),e=!0},p(n,a){r&&r.p&&(!e||a&64)&&Me(r,t,n,n[6],e?Ne(t,n[6],a,null):Fe(n[6]),null)},i(n){e||(F(r,n),e=!0)},o(n){O(r,n),e=!1},d(n){r&&r.d(n)}}}function c1(i){let e,t,r=i[1]&&xs(i),n=[i[2]],a={};for(let s=0;s<n.length;s+=1)a=X(a,n[s]);return{c(){e=$("div"),r&&r.c(),this.h()},l(s){e=ee(s,"DIV",{});var o=te(e);r&&r.l(o),o.forEach(R),this.h()},h(){Ie(e,a)},m(s,o){G(s,e,o),r&&r.m(e,null),i[8](e),t=!0},p(s,[o]){s[1]?r?(r.p(s,o),o&2&&F(r,1)):(r=xs(s),r.c(),F(r,1),r.m(e,null)):r&&(je(),O(r,1,1,()=>{r=null}),Ye()),Ie(e,a=De(n,[o&4&&s[2]]))},i(s){t||(F(r),t=!0)},o(s){O(r),t=!1},d(s){s&&R(e),r&&r.d(),i[8](null)}}}function u1(i,e,t){const r=["config","handle","staticConfig"];let n=he(e,r),{$$slots:a={},$$scope:s}=e,{config:o}=e,{handle:l=null}=e,{staticConfig:h=!1}=e,d=Tr(null),u,f=ar(),c=!1;Wt(()=>{t(4,l=new ti.Stage({container:u,...o})),h||l.on("dragend",()=>{Ft(o,l.getAttrs()),t(3,o)}),ri(f,l),d.set(l),t(1,c=!0)}),Yr(()=>{l&&l.destroy()}),Ko(jr.Stage,d);function g(m){We[m?"unshift":"push"](()=>{u=m,t(0,u)})}return i.$$set=m=>{e=X(X({},e),de(m)),t(2,n=he(e,r)),"config"in m&&t(3,o=m.config),"handle"in m&&t(4,l=m.handle),"staticConfig"in m&&t(5,h=m.staticConfig),"$$scope"in m&&t(6,s=m.$$scope)},i.$$.update=()=>{i.$$.dirty&24&&l&&l.setAttrs(o)},[u,c,n,o,l,h,s,a,g]}class f1 extends Ce{constructor(e){super(),Se(this,e,u1,c1,ge,{config:3,handle:4,staticConfig:5})}}function g1(i){let e;return{c(){e=we("Diameter (mm)")},l(t){e=ke(t,"Diameter (mm)")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function m1(i){let e;return{c(){e=we("Depth (mm)")},l(t){e=ke(t,"Depth (mm)")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function p1(i){let e;return{c(){e=we("OK")},l(t){e=ke(t,"OK")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function _1(i){let e;return{c(){e=we("Cancel")},l(t){e=ke(t,"Cancel")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function v1(i){let e,t,r="PCB settings",n,a,s,o,l,h,d,u,f,c,g,m,v,k,C,p,_,b,y;o=new Ct({props:{class:"mb-2",$$slots:{default:[g1]},$$scope:{ctx:i}}});function M(T){i[4](T)}let P={};i[0].diameter!==void 0&&(P.value=i[0].diameter),h=new St({props:P}),We.push(()=>ot(h,"value",M)),c=new Ct({props:{class:"mb-2",$$slots:{default:[m1]},$$scope:{ctx:i}}});function E(T){i[5](T)}let A={};return i[0].depth!==void 0&&(A.value=i[0].depth),m=new St({props:A}),We.push(()=>ot(m,"value",E)),p=new Rt({props:{color:"green",class:"me-2",$$slots:{default:[p1]},$$scope:{ctx:i}}}),p.$on("click",i[6]),b=new Rt({props:{color:"alternative",$$slots:{default:[_1]},$$scope:{ctx:i}}}),b.$on("click",i[7]),{c(){e=$("div"),t=$("h3"),t.textContent=r,n=ae(),a=$("div"),s=$("div"),q(o.$$.fragment),l=ae(),q(h.$$.fragment),u=ae(),f=$("div"),q(c.$$.fragment),g=ae(),q(m.$$.fragment),k=ae(),C=$("div"),q(p.$$.fragment),_=ae(),q(b.$$.fragment),this.h()},l(T){e=ee(T,"DIV",{class:!0});var S=te(e);t=ee(S,"H3",{class:!0,"data-svelte-h":!0}),$t(t)!=="svelte-17krbxy"&&(t.textContent=r),n=se(S),a=ee(S,"DIV",{class:!0});var N=te(a);s=ee(N,"DIV",{});var D=te(s);Q(o.$$.fragment,D),l=se(D),Q(h.$$.fragment,D),D.forEach(R),u=se(N),f=ee(N,"DIV",{});var L=te(f);Q(c.$$.fragment,L),g=se(L),Q(m.$$.fragment,L),L.forEach(R),N.forEach(R),S.forEach(R),k=se(T),C=ee(T,"DIV",{class:!0});var B=te(C);Q(p.$$.fragment,B),_=se(B),Q(b.$$.fragment,B),B.forEach(R),this.h()},h(){z(t,"class","text-xl font-medium text-gray-900 dark:text-white"),z(a,"class","grid gap-6 mb-6 md:grid-cols-2"),z(e,"class","flex flex-col space-y-6"),z(C,"class","text-center")},m(T,S){G(T,e,S),ie(e,t),ie(e,n),ie(e,a),ie(a,s),J(o,s,null),ie(s,l),J(h,s,null),ie(a,u),ie(a,f),J(c,f,null),ie(f,g),J(m,f,null),G(T,k,S),G(T,C,S),J(p,C,null),ie(C,_),J(b,C,null),y=!0},p(T,S){const N={};S&256&&(N.$$scope={dirty:S,ctx:T}),o.$set(N);const D={};!d&&S&1&&(d=!0,D.value=T[0].diameter,st(()=>d=!1)),h.$set(D);const L={};S&256&&(L.$$scope={dirty:S,ctx:T}),c.$set(L);const B={};!v&&S&1&&(v=!0,B.value=T[0].depth,st(()=>v=!1)),m.$set(B);const Y={};S&256&&(Y.$$scope={dirty:S,ctx:T}),p.$set(Y);const ne={};S&256&&(ne.$$scope={dirty:S,ctx:T}),b.$set(ne)},i(T){y||(F(o.$$.fragment,T),F(h.$$.fragment,T),F(c.$$.fragment,T),F(m.$$.fragment,T),F(p.$$.fragment,T),F(b.$$.fragment,T),y=!0)},o(T){O(o.$$.fragment,T),O(h.$$.fragment,T),O(c.$$.fragment,T),O(m.$$.fragment,T),O(p.$$.fragment,T),O(b.$$.fragment,T),y=!1},d(T){T&&(R(e),R(k),R(C)),Z(o),Z(h),Z(c),Z(m),Z(p),Z(b)}}}function b1(i){let e,t;return e=new Ei({props:{open:i[2],size:"xs",dismissable:!1,$$slots:{default:[v1]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,[n]){const a={};n&4&&(a.open=r[2]),n&263&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function y1(i,e,t){let r,n,a=!1;const s=(u,f)=>{t(0,r=u),t(1,n=f),t(2,a=!0)};function o(u){i.$$.not_equal(r.diameter,u)&&(r.diameter=u,t(0,r))}function l(u){i.$$.not_equal(r.depth,u)&&(r.depth=u,t(0,r))}return[r,n,a,s,o,l,()=>{t(2,a=!1),n(r)},()=>t(2,a=!1)]}class w1 extends Ce{constructor(e){super(),Se(this,e,y1,b1,ge,{open:3})}get open(){return this.$$.ctx[3]}}function k1(i){let e;return{c(){e=we("Yes")},l(t){e=ke(t,"Yes")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function C1(i){let e;return{c(){e=we("Cancel")},l(t){e=ke(t,"Cancel")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function S1(i){let e,t,r,n,a,s,o,l,h,d;return t=new Jd({props:{class:"mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200"}}),o=new Rt({props:{color:"red",class:"me-2",$$slots:{default:[k1]},$$scope:{ctx:i}}}),o.$on("click",i[4]),h=new Rt({props:{color:"alternative",$$slots:{default:[C1]},$$scope:{ctx:i}}}),h.$on("click",i[5]),{c(){e=$("div"),q(t.$$.fragment),r=ae(),n=$("h3"),a=we(i[0]),s=ae(),q(o.$$.fragment),l=ae(),q(h.$$.fragment),this.h()},l(u){e=ee(u,"DIV",{class:!0});var f=te(e);Q(t.$$.fragment,f),r=se(f),n=ee(f,"H3",{class:!0});var c=te(n);a=ke(c,i[0]),c.forEach(R),s=se(f),Q(o.$$.fragment,f),l=se(f),Q(h.$$.fragment,f),f.forEach(R),this.h()},h(){z(n,"class","mb-5 text-lg font-normal text-gray-500 dark:text-gray-400"),z(e,"class","text-center")},m(u,f){G(u,e,f),J(t,e,null),ie(e,r),ie(e,n),ie(n,a),ie(e,s),J(o,e,null),ie(e,l),J(h,e,null),d=!0},p(u,f){(!d||f&1)&&tr(a,u[0]);const c={};f&64&&(c.$$scope={dirty:f,ctx:u}),o.$set(c);const g={};f&64&&(g.$$scope={dirty:f,ctx:u}),h.$set(g)},i(u){d||(F(t.$$.fragment,u),F(o.$$.fragment,u),F(h.$$.fragment,u),d=!0)},o(u){O(t.$$.fragment,u),O(o.$$.fragment,u),O(h.$$.fragment,u),d=!1},d(u){u&&R(e),Z(t),Z(o),Z(h)}}}function P1(i){let e,t;return e=new Ei({props:{open:i[2],size:"xs",dismissable:!1,$$slots:{default:[S1]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,[n]){const a={};n&4&&(a.open=r[2]),n&71&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function E1(i,e,t){let r,n,a=!1;return[r,n,a,(h,d)=>{t(0,r=h),t(1,n=d),t(2,a=!0)},()=>{t(2,a=!1),n&&n()},()=>t(2,a=!1)]}class T1 extends Ce{constructor(e){super(),Se(this,e,E1,P1,ge,{open:3})}get open(){return this.$$.ctx[3]}}function A1(i){let e;return{c(){e=we("Panel width (mm)")},l(t){e=ke(t,"Panel width (mm)")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function R1(i){let e;return{c(){e=we("Panel height (mm)")},l(t){e=ke(t,"Panel height (mm)")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function M1(i){let e;return{c(){e=we("PCB thickness (mm)")},l(t){e=ke(t,"PCB thickness (mm)")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function F1(i){let e;return{c(){e=we("SMD height (mm)")},l(t){e=ke(t,"SMD height (mm)")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function N1(i){let e;return{c(){e=we("OK")},l(t){e=ke(t,"OK")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function O1(i){let e;return{c(){e=we("Cancel")},l(t){e=ke(t,"Cancel")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function L1(i){let e,t,r="PCB settings",n,a,s,o,l,h,d,u,f,c,g,m,v,k,C,p,_,b,y,M,P,E,A,T,S,N,D,L,B,Y,ne;o=new Ct({props:{class:"mb-2",$$slots:{default:[A1]},$$scope:{ctx:i}}});function H(w){i[4](w)}let W={};i[0].width!==void 0&&(W.value=i[0].width),h=new St({props:W}),We.push(()=>ot(h,"value",H)),c=new Ct({props:{class:"mb-2",$$slots:{default:[R1]},$$scope:{ctx:i}}});function K(w){i[5](w)}let le={};i[0].height!==void 0&&(le.value=i[0].height),m=new St({props:le}),We.push(()=>ot(m,"value",K)),p=new Ct({props:{class:"mb-2",$$slots:{default:[M1]},$$scope:{ctx:i}}});function j(w){i[6](w)}let V={};i[0].pcbThickness!==void 0&&(V.value=i[0].pcbThickness),b=new St({props:V}),We.push(()=>ot(b,"value",j)),E=new Ct({props:{class:"mb-2",$$slots:{default:[F1]},$$scope:{ctx:i}}});function ye(w){i[7](w)}let Ee={};return i[0].smdHeight!==void 0&&(Ee.value=i[0].smdHeight),T=new St({props:Ee}),We.push(()=>ot(T,"value",ye)),L=new Rt({props:{color:"green",class:"me-2",$$slots:{default:[N1]},$$scope:{ctx:i}}}),L.$on("click",i[8]),Y=new Rt({props:{color:"alternative",$$slots:{default:[O1]},$$scope:{ctx:i}}}),Y.$on("click",i[9]),{c(){e=$("div"),t=$("h3"),t.textContent=r,n=ae(),a=$("div"),s=$("div"),q(o.$$.fragment),l=ae(),q(h.$$.fragment),u=ae(),f=$("div"),q(c.$$.fragment),g=ae(),q(m.$$.fragment),k=ae(),C=$("div"),q(p.$$.fragment),_=ae(),q(b.$$.fragment),M=ae(),P=$("div"),q(E.$$.fragment),A=ae(),q(T.$$.fragment),N=ae(),D=$("div"),q(L.$$.fragment),B=ae(),q(Y.$$.fragment),this.h()},l(w){e=ee(w,"DIV",{class:!0});var x=te(e);t=ee(x,"H3",{class:!0,"data-svelte-h":!0}),$t(t)!=="svelte-17krbxy"&&(t.textContent=r),n=se(x),a=ee(x,"DIV",{class:!0});var re=te(a);s=ee(re,"DIV",{});var Te=te(s);Q(o.$$.fragment,Te),l=se(Te),Q(h.$$.fragment,Te),Te.forEach(R),u=se(re),f=ee(re,"DIV",{});var ve=te(f);Q(c.$$.fragment,ve),g=se(ve),Q(m.$$.fragment,ve),ve.forEach(R),k=se(re),C=ee(re,"DIV",{});var Oe=te(C);Q(p.$$.fragment,Oe),_=se(Oe),Q(b.$$.fragment,Oe),Oe.forEach(R),M=se(re),P=ee(re,"DIV",{});var Ke=te(P);Q(E.$$.fragment,Ke),A=se(Ke),Q(T.$$.fragment,Ke),Ke.forEach(R),re.forEach(R),x.forEach(R),N=se(w),D=ee(w,"DIV",{class:!0});var Ze=te(D);Q(L.$$.fragment,Ze),B=se(Ze),Q(Y.$$.fragment,Ze),Ze.forEach(R),this.h()},h(){z(t,"class","text-xl font-medium text-gray-900 dark:text-white"),z(a,"class","grid gap-6 mb-6 md:grid-cols-2"),z(e,"class","flex flex-col space-y-6"),z(D,"class","text-center")},m(w,x){G(w,e,x),ie(e,t),ie(e,n),ie(e,a),ie(a,s),J(o,s,null),ie(s,l),J(h,s,null),ie(a,u),ie(a,f),J(c,f,null),ie(f,g),J(m,f,null),ie(a,k),ie(a,C),J(p,C,null),ie(C,_),J(b,C,null),ie(a,M),ie(a,P),J(E,P,null),ie(P,A),J(T,P,null),G(w,N,x),G(w,D,x),J(L,D,null),ie(D,B),J(Y,D,null),ne=!0},p(w,x){const re={};x&1024&&(re.$$scope={dirty:x,ctx:w}),o.$set(re);const Te={};!d&&x&1&&(d=!0,Te.value=w[0].width,st(()=>d=!1)),h.$set(Te);const ve={};x&1024&&(ve.$$scope={dirty:x,ctx:w}),c.$set(ve);const Oe={};!v&&x&1&&(v=!0,Oe.value=w[0].height,st(()=>v=!1)),m.$set(Oe);const Ke={};x&1024&&(Ke.$$scope={dirty:x,ctx:w}),p.$set(Ke);const Ze={};!y&&x&1&&(y=!0,Ze.value=w[0].pcbThickness,st(()=>y=!1)),b.$set(Ze);const Le={};x&1024&&(Le.$$scope={dirty:x,ctx:w}),E.$set(Le);const vt={};!S&&x&1&&(S=!0,vt.value=w[0].smdHeight,st(()=>S=!1)),T.$set(vt);const nt={};x&1024&&(nt.$$scope={dirty:x,ctx:w}),L.$set(nt);const bt={};x&1024&&(bt.$$scope={dirty:x,ctx:w}),Y.$set(bt)},i(w){ne||(F(o.$$.fragment,w),F(h.$$.fragment,w),F(c.$$.fragment,w),F(m.$$.fragment,w),F(p.$$.fragment,w),F(b.$$.fragment,w),F(E.$$.fragment,w),F(T.$$.fragment,w),F(L.$$.fragment,w),F(Y.$$.fragment,w),ne=!0)},o(w){O(o.$$.fragment,w),O(h.$$.fragment,w),O(c.$$.fragment,w),O(m.$$.fragment,w),O(p.$$.fragment,w),O(b.$$.fragment,w),O(E.$$.fragment,w),O(T.$$.fragment,w),O(L.$$.fragment,w),O(Y.$$.fragment,w),ne=!1},d(w){w&&(R(e),R(N),R(D)),Z(o),Z(h),Z(c),Z(m),Z(p),Z(b),Z(E),Z(T),Z(L),Z(Y)}}}function G1(i){let e,t;return e=new Ei({props:{open:i[2],size:"xs",dismissable:!1,$$slots:{default:[L1]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,[n]){const a={};n&4&&(a.open=r[2]),n&1031&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function D1(i,e,t){let r,n,a=!1;const s=(c,g)=>{t(0,r=c),t(1,n=g),t(2,a=!0)};function o(c){i.$$.not_equal(r.width,c)&&(r.width=c,t(0,r))}function l(c){i.$$.not_equal(r.height,c)&&(r.height=c,t(0,r))}function h(c){i.$$.not_equal(r.pcbThickness,c)&&(r.pcbThickness=c,t(0,r))}function d(c){i.$$.not_equal(r.smdHeight,c)&&(r.smdHeight=c,t(0,r))}return[r,n,a,s,o,l,h,d,()=>{t(2,a=!1),n(r)},()=>t(2,a=!1)]}class x1 extends Ce{constructor(e){super(),Se(this,e,D1,G1,ge,{open:3})}get open(){return this.$$.ctx[3]}}function I1(i){let e;return{c(){e=we("Size X (mm)")},l(t){e=ke(t,"Size X (mm)")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function U1(i){let e;return{c(){e=we("Size Y (mm)")},l(t){e=ke(t,"Size Y (mm)")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function V1(i){let e;return{c(){e=we("Depth (mm)")},l(t){e=ke(t,"Depth (mm)")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function z1(i){let e;return{c(){e=we("OK")},l(t){e=ke(t,"OK")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function B1(i){let e;return{c(){e=we("Cancel")},l(t){e=ke(t,"Cancel")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function H1(i){let e,t,r="PCB settings",n,a,s,o,l,h,d,u,f,c,g,m,v,k,C,p,_,b,y,M,P,E,A,T,S;o=new Ct({props:{class:"mb-2",$$slots:{default:[I1]},$$scope:{ctx:i}}});function N(H){i[4](H)}let D={};i[0].sizeX!==void 0&&(D.value=i[0].sizeX),h=new St({props:D}),We.push(()=>ot(h,"value",N)),c=new Ct({props:{class:"mb-2",$$slots:{default:[U1]},$$scope:{ctx:i}}});function L(H){i[5](H)}let B={};i[0].sizeY!==void 0&&(B.value=i[0].sizeY),m=new St({props:B}),We.push(()=>ot(m,"value",L)),p=new Ct({props:{class:"mb-2",$$slots:{default:[V1]},$$scope:{ctx:i}}});function Y(H){i[6](H)}let ne={};return i[0].depth!==void 0&&(ne.value=i[0].depth),b=new St({props:ne}),We.push(()=>ot(b,"value",Y)),E=new Rt({props:{color:"green",class:"me-2",$$slots:{default:[z1]},$$scope:{ctx:i}}}),E.$on("click",i[7]),T=new Rt({props:{color:"alternative",$$slots:{default:[B1]},$$scope:{ctx:i}}}),T.$on("click",i[8]),{c(){e=$("div"),t=$("h3"),t.textContent=r,n=ae(),a=$("div"),s=$("div"),q(o.$$.fragment),l=ae(),q(h.$$.fragment),u=ae(),f=$("div"),q(c.$$.fragment),g=ae(),q(m.$$.fragment),k=ae(),C=$("div"),q(p.$$.fragment),_=ae(),q(b.$$.fragment),M=ae(),P=$("div"),q(E.$$.fragment),A=ae(),q(T.$$.fragment),this.h()},l(H){e=ee(H,"DIV",{class:!0});var W=te(e);t=ee(W,"H3",{class:!0,"data-svelte-h":!0}),$t(t)!=="svelte-17krbxy"&&(t.textContent=r),n=se(W),a=ee(W,"DIV",{class:!0});var K=te(a);s=ee(K,"DIV",{});var le=te(s);Q(o.$$.fragment,le),l=se(le),Q(h.$$.fragment,le),le.forEach(R),u=se(K),f=ee(K,"DIV",{});var j=te(f);Q(c.$$.fragment,j),g=se(j),Q(m.$$.fragment,j),j.forEach(R),k=se(K),C=ee(K,"DIV",{});var V=te(C);Q(p.$$.fragment,V),_=se(V),Q(b.$$.fragment,V),V.forEach(R),K.forEach(R),W.forEach(R),M=se(H),P=ee(H,"DIV",{class:!0});var ye=te(P);Q(E.$$.fragment,ye),A=se(ye),Q(T.$$.fragment,ye),ye.forEach(R),this.h()},h(){z(t,"class","text-xl font-medium text-gray-900 dark:text-white"),z(a,"class","grid gap-6 mb-6 md:grid-cols-2"),z(e,"class","flex flex-col space-y-6"),z(P,"class","text-center")},m(H,W){G(H,e,W),ie(e,t),ie(e,n),ie(e,a),ie(a,s),J(o,s,null),ie(s,l),J(h,s,null),ie(a,u),ie(a,f),J(c,f,null),ie(f,g),J(m,f,null),ie(a,k),ie(a,C),J(p,C,null),ie(C,_),J(b,C,null),G(H,M,W),G(H,P,W),J(E,P,null),ie(P,A),J(T,P,null),S=!0},p(H,W){const K={};W&512&&(K.$$scope={dirty:W,ctx:H}),o.$set(K);const le={};!d&&W&1&&(d=!0,le.value=H[0].sizeX,st(()=>d=!1)),h.$set(le);const j={};W&512&&(j.$$scope={dirty:W,ctx:H}),c.$set(j);const V={};!v&&W&1&&(v=!0,V.value=H[0].sizeY,st(()=>v=!1)),m.$set(V);const ye={};W&512&&(ye.$$scope={dirty:W,ctx:H}),p.$set(ye);const Ee={};!y&&W&1&&(y=!0,Ee.value=H[0].depth,st(()=>y=!1)),b.$set(Ee);const w={};W&512&&(w.$$scope={dirty:W,ctx:H}),E.$set(w);const x={};W&512&&(x.$$scope={dirty:W,ctx:H}),T.$set(x)},i(H){S||(F(o.$$.fragment,H),F(h.$$.fragment,H),F(c.$$.fragment,H),F(m.$$.fragment,H),F(p.$$.fragment,H),F(b.$$.fragment,H),F(E.$$.fragment,H),F(T.$$.fragment,H),S=!0)},o(H){O(o.$$.fragment,H),O(h.$$.fragment,H),O(c.$$.fragment,H),O(m.$$.fragment,H),O(p.$$.fragment,H),O(b.$$.fragment,H),O(E.$$.fragment,H),O(T.$$.fragment,H),S=!1},d(H){H&&(R(e),R(M),R(P)),Z(o),Z(h),Z(c),Z(m),Z(p),Z(b),Z(E),Z(T)}}}function W1(i){let e,t;return e=new Ei({props:{open:i[2],size:"xs",dismissable:!1,$$slots:{default:[H1]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,[n]){const a={};n&4&&(a.open=r[2]),n&519&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function j1(i,e,t){let r,n,a=!1;const s=(f,c)=>{t(0,r=f),t(1,n=c),t(2,a=!0)};function o(f){i.$$.not_equal(r.sizeX,f)&&(r.sizeX=f,t(0,r))}function l(f){i.$$.not_equal(r.sizeY,f)&&(r.sizeY=f,t(0,r))}function h(f){i.$$.not_equal(r.depth,f)&&(r.depth=f,t(0,r))}return[r,n,a,s,o,l,h,()=>{t(2,a=!1),n(r)},()=>t(2,a=!1)]}class Y1 extends Ce{constructor(e){super(),Se(this,e,j1,W1,ge,{open:3})}get open(){return this.$$.ctx[3]}}function X1(i){let e,t="<b>Top view</b> PCB image",r,n,a,s,o,l='<span class="font-semibold">Click to upload</span> or drag and drop an image',h,d,u="PNG, JPG or SVG";return{c(){e=$("p"),e.innerHTML=t,r=ae(),n=Tt("svg"),a=Tt("path"),s=ae(),o=$("p"),o.innerHTML=l,h=ae(),d=$("p"),d.textContent=u,this.h()},l(f){e=ee(f,"P",{class:!0,"data-svelte-h":!0}),$t(e)!=="svelte-bbaoxm"&&(e.innerHTML=t),r=se(f),n=At(f,"svg",{"aria-hidden":!0,class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var c=te(n);a=At(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),te(a).forEach(R),c.forEach(R),s=se(f),o=ee(f,"P",{class:!0,"data-svelte-h":!0}),$t(o)!=="svelte-gb24ud"&&(o.innerHTML=l),h=se(f),d=ee(f,"P",{class:!0,"data-svelte-h":!0}),$t(d)!=="svelte-1ova63w"&&(d.textContent=u),this.h()},h(){z(e,"class","mb-2 text-lg text-gray-500 dark:text-gray-400"),z(a,"stroke-linecap","round"),z(a,"stroke-linejoin","round"),z(a,"stroke-width","2"),z(a,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),z(n,"aria-hidden","true"),z(n,"class","mb-3 w-10 h-10 text-gray-400"),z(n,"fill","none"),z(n,"stroke","currentColor"),z(n,"viewBox","0 0 24 24"),z(n,"xmlns","http://www.w3.org/2000/svg"),z(o,"class","mb-2 text-sm text-gray-500 dark:text-gray-400"),z(d,"class","text-xs text-gray-500 dark:text-gray-400")},m(f,c){G(f,e,c),G(f,r,c),G(f,n,c),ie(n,a),G(f,s,c),G(f,o,c),G(f,h,c),G(f,d,c)},p:it,d(f){f&&(R(e),R(r),R(n),R(s),R(o),R(h),R(d))}}}function K1(i){let e,t;return e=new Jh({props:{class:"max-w-96",$$slots:{default:[X1]},$$scope:{ctx:i}}}),e.$on("dragover",q1),e.$on("drop",i[0]),e.$on("change",i[1]),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,[n]){const a={};n&16&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}const q1=i=>i.preventDefault();function Q1(i,e,t){let{onUpload:r}=e;Wt(()=>{});const n=o=>{const l=document.createElement("img"),h=new FileReader;h.addEventListener("load",d=>{l&&d.target&&d.target.result&&!(d.target.result instanceof ArrayBuffer)&&(l.src=d.target.result,l.addEventListener("load",()=>r(l,o.name,{width:l.width,height:l.height})))}),h.readAsDataURL(o)},a=o=>{if(o.preventDefault(),o.dataTransfer){if(o.dataTransfer.items&&o.dataTransfer.items.length>0){if(o.dataTransfer.items[0].kind==="file"){const l=o.dataTransfer.items[0].getAsFile();l&&n(l)}}else if(o.dataTransfer.files&&o.dataTransfer.files.length>0){const l=o.dataTransfer.files[0];l&&n(l)}}},s=o=>{const l=o.target.files;l&&l.length>0&&n(l[0])};return i.$$set=o=>{"onUpload"in o&&t(2,r=o.onUpload)},[a,s,r]}class J1 extends Ce{constructor(e){super(),Se(this,e,Q1,K1,ge,{onUpload:2})}}function Is(i,e,t){const r=i.slice();return r[25]=e[t],r[26]=e,r[27]=t,r}function Us(i,e,t){const r=i.slice();return r[28]=e[t],r[29]=e,r[30]=t,r}function Z1(i){let e,t,r,n,a="PCB THT Holder";return{c(){e=$("img"),r=ae(),n=$("span"),n.textContent=a,this.h()},l(s){e=ee(s,"IMG",{src:!0,class:!0,alt:!0}),r=se(s),n=ee(s,"SPAN",{class:!0,"data-svelte-h":!0}),$t(n)!=="svelte-yf58ke"&&(n.textContent=a),this.h()},h(){$o(e.src,t=el+"/favicon.png")||z(e,"src",t),z(e,"class","me-3 h-6 sm:h-9"),z(e,"alt","PCB THT Holder Logo"),z(n,"class","self-center whitespace-nowrap text-xl font-semibold dark:text-white")},m(s,o){G(s,e,o),G(s,r,o),G(s,n,o)},p:it,d(s){s&&(R(e),R(r),R(n))}}}function $1(i){let e;return{c(){e=we("Download STL")},l(t){e=ke(t,"Download STL")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function Vs(i){let e,t,r,n,a,s,o,l;return e=new En({props:{class:"cursor-pointer",$$slots:{default:[eg]},$$scope:{ctx:i}}}),r=new Lh({props:{class:"w-44 z-20",$$slots:{default:[ng]},$$scope:{ctx:i}}}),a=new En({props:{href:"#",$$slots:{default:[ag]},$$scope:{ctx:i}}}),a.$on("click",i[12]),o=new En({props:{href:"#",$$slots:{default:[sg]},$$scope:{ctx:i}}}),o.$on("click",i[11]),{c(){q(e.$$.fragment),t=ae(),q(r.$$.fragment),n=ae(),q(a.$$.fragment),s=ae(),q(o.$$.fragment)},l(h){Q(e.$$.fragment,h),t=se(h),Q(r.$$.fragment,h),n=se(h),Q(a.$$.fragment,h),s=se(h),Q(o.$$.fragment,h)},m(h,d){J(e,h,d),G(h,t,d),J(r,h,d),G(h,n,d),J(a,h,d),G(h,s,d),J(o,h,d),l=!0},p(h,d){const u={};d[1]&1&&(u.$$scope={dirty:d,ctx:h}),e.$set(u);const f={};d[1]&1&&(f.$$scope={dirty:d,ctx:h}),r.$set(f);const c={};d[1]&1&&(c.$$scope={dirty:d,ctx:h}),a.$set(c);const g={};d[1]&1&&(g.$$scope={dirty:d,ctx:h}),o.$set(g)},i(h){l||(F(e.$$.fragment,h),F(r.$$.fragment,h),F(a.$$.fragment,h),F(o.$$.fragment,h),l=!0)},o(h){O(e.$$.fragment,h),O(r.$$.fragment,h),O(a.$$.fragment,h),O(o.$$.fragment,h),l=!1},d(h){h&&(R(t),R(n),R(s)),Z(e,h),Z(r,h),Z(a,h),Z(o,h)}}}function eg(i){let e,t,r;return t=new Kd({props:{class:"w-3 h-3 ms-2 text-primary-800 dark:text-white inline"}}),{c(){e=we("Add"),q(t.$$.fragment)},l(n){e=ke(n,"Add"),Q(t.$$.fragment,n)},m(n,a){G(n,e,a),J(t,n,a),r=!0},p:it,i(n){r||(F(t.$$.fragment,n),r=!0)},o(n){O(t.$$.fragment,n),r=!1},d(n){n&&R(e),Z(t,n)}}}function tg(i){let e;return{c(){e=we("Circle")},l(t){e=ke(t,"Circle")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function rg(i){let e;return{c(){e=we("Rectangle")},l(t){e=ke(t,"Rectangle")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function ig(i){let e;return{c(){e=we("Leg")},l(t){e=ke(t,"Leg")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function ng(i){let e,t,r,n,a,s,o,l;return e=new Sn({props:{href:"#",$$slots:{default:[tg]},$$scope:{ctx:i}}}),e.$on("click",i[13]),r=new Sn({props:{href:"#",$$slots:{default:[rg]},$$scope:{ctx:i}}}),r.$on("click",i[15]),a=new xh({}),o=new Sn({props:{href:"#",$$slots:{default:[ig]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment),t=ae(),q(r.$$.fragment),n=ae(),q(a.$$.fragment),s=ae(),q(o.$$.fragment)},l(h){Q(e.$$.fragment,h),t=se(h),Q(r.$$.fragment,h),n=se(h),Q(a.$$.fragment,h),s=se(h),Q(o.$$.fragment,h)},m(h,d){J(e,h,d),G(h,t,d),J(r,h,d),G(h,n,d),J(a,h,d),G(h,s,d),J(o,h,d),l=!0},p(h,d){const u={};d[1]&1&&(u.$$scope={dirty:d,ctx:h}),e.$set(u);const f={};d[1]&1&&(f.$$scope={dirty:d,ctx:h}),r.$set(f);const c={};d[1]&1&&(c.$$scope={dirty:d,ctx:h}),o.$set(c)},i(h){l||(F(e.$$.fragment,h),F(r.$$.fragment,h),F(a.$$.fragment,h),F(o.$$.fragment,h),l=!0)},o(h){O(e.$$.fragment,h),O(r.$$.fragment,h),O(a.$$.fragment,h),O(o.$$.fragment,h),l=!1},d(h){h&&(R(t),R(n),R(s)),Z(e,h),Z(r,h),Z(a,h),Z(o,h)}}}function ag(i){let e;return{c(){e=we("Panel settings")},l(t){e=ke(t,"Panel settings")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function sg(i){let e;return{c(){e=we("Reset")},l(t){e=ke(t,"Reset")},m(t,r){G(t,e,r)},d(t){t&&R(e)}}}function og(i){let e,t,r=i[2]&&Vs(i);return{c(){r&&r.c(),e=pe()},l(n){r&&r.l(n),e=pe()},m(n,a){r&&r.m(n,a),G(n,e,a),t=!0},p(n,a){n[2]?r?(r.p(n,a),a[0]&4&&F(r,1)):(r=Vs(n),r.c(),F(r,1),r.m(e.parentNode,e)):r&&(je(),O(r,1,1,()=>{r=null}),Ye())},i(n){t||(F(r),t=!0)},o(n){O(r),t=!1},d(n){n&&R(e),r&&r.d(n)}}}function lg(i){let e,t,r,n,a,s,o,l,h;return e=new Md({props:{href:"#",$$slots:{default:[Z1]},$$scope:{ctx:i}}}),n=new Rt({props:{size:"sm",disabled:!i[2],$$slots:{default:[$1]},$$scope:{ctx:i}}}),s=new xd({}),l=new jd({props:{class:"order-1",$$slots:{default:[og]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment),t=ae(),r=$("div"),q(n.$$.fragment),a=ae(),q(s.$$.fragment),o=ae(),q(l.$$.fragment),this.h()},l(d){Q(e.$$.fragment,d),t=se(d),r=ee(d,"DIV",{class:!0});var u=te(r);Q(n.$$.fragment,u),a=se(u),Q(s.$$.fragment,u),u.forEach(R),o=se(d),Q(l.$$.fragment,d),this.h()},h(){z(r,"class","flex md:order-2")},m(d,u){J(e,d,u),G(d,t,u),G(d,r,u),J(n,r,null),ie(r,a),J(s,r,null),G(d,o,u),J(l,d,u),h=!0},p(d,u){const f={};u[1]&1&&(f.$$scope={dirty:u,ctx:d}),e.$set(f);const c={};u[0]&4&&(c.disabled=!d[2]),u[1]&1&&(c.$$scope={dirty:u,ctx:d}),n.$set(c);const g={};u[0]&4|u[1]&1&&(g.$$scope={dirty:u,ctx:d}),l.$set(g)},i(d){h||(F(e.$$.fragment,d),F(n.$$.fragment,d),F(s.$$.fragment,d),F(l.$$.fragment,d),h=!0)},o(d){O(e.$$.fragment,d),O(n.$$.fragment,d),O(s.$$.fragment,d),O(l.$$.fragment,d),h=!1},d(d){d&&(R(t),R(r),R(o)),Z(e,d),Z(n),Z(s),Z(l,d)}}}function zs(i){let e,t,r=i[4].width+"",n,a,s=i[4].height+"",o,l;return{c(){e=$("p"),t=we("("),n=we(r),a=we("x"),o=we(s),l=we(")"),this.h()},l(h){e=ee(h,"P",{class:!0});var d=te(e);t=ke(d,"("),n=ke(d,r),a=ke(d,"x"),o=ke(d,s),l=ke(d,")"),d.forEach(R),this.h()},h(){z(e,"class","text-sm text-gray-500")},m(h,d){G(h,e,d),ie(e,t),ie(e,n),ie(e,a),ie(e,o),ie(e,l)},p(h,d){d[0]&16&&r!==(r=h[4].width+"")&&tr(n,r),d[0]&16&&s!==(s=h[4].height+"")&&tr(o,s)},d(h){h&&R(e)}}}function hg(i){let e,t;return e=new f1({props:{config:{width:i[4].width,height:i[4].height,scaleX:i[4].width/i[9].width,scaleY:i[4].height/i[9].height},$$slots:{default:[ug]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n[0]&528&&(a.config={width:r[4].width,height:r[4].height,scaleX:r[4].width/r[9].width,scaleY:r[4].height/r[9].height}),n[0]&535|n[1]&1&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function dg(i){let e,t;return e=new J1({props:{onUpload:i[10]}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p:it,i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Bs(i){let e,t,r;function n(o){i[21](o,i[28])}function a(){return i[22](i[28])}let s={};return i[28].konvaConfig!==void 0&&(s.config=i[28].konvaConfig),e=new i1({props:s}),We.push(()=>ot(e,"config",n)),e.$on("dblclick",a),{c(){q(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,l){J(e,o,l),r=!0},p(o,l){i=o;const h={};!t&&l[0]&1&&(t=!0,h.config=i[28].konvaConfig,st(()=>t=!1)),e.$set(h)},i(o){r||(F(e.$$.fragment,o),r=!0)},o(o){O(e.$$.fragment,o),r=!1},d(o){Z(e,o)}}}function Hs(i){let e,t,r;function n(o){i[23](o,i[25])}function a(){return i[24](i[25])}let s={};return i[25].konvaConfig!==void 0&&(s.config=i[25].konvaConfig),e=new d1({props:s}),We.push(()=>ot(e,"config",n)),e.$on("dblclick",a),{c(){q(e.$$.fragment)},l(o){Q(e.$$.fragment,o)},m(o,l){J(e,o,l),r=!0},p(o,l){i=o;const h={};!t&&l[0]&2&&(t=!0,h.config=i[25].konvaConfig,st(()=>t=!1)),e.$set(h)},i(o){r||(F(e.$$.fragment,o),r=!0)},o(o){O(e.$$.fragment,o),r=!1},d(o){Z(e,o)}}}function cg(i){let e,t,r,n,a;e=new a1({props:{config:{image:i[2],scaleX:i[9].width/i[4].width,scaleY:-1*i[9].height/i[4].height,offsetY:i[4].height,opacity:.25}}});let s=ii(i[0]),o=[];for(let f=0;f<s.length;f+=1)o[f]=Bs(Us(i,s,f));const l=f=>O(o[f],1,1,()=>{o[f]=null});let h=ii(i[1]),d=[];for(let f=0;f<h.length;f+=1)d[f]=Hs(Is(i,h,f));const u=f=>O(d[f],1,1,()=>{d[f]=null});return{c(){q(e.$$.fragment),t=ae();for(let f=0;f<o.length;f+=1)o[f].c();r=ae();for(let f=0;f<d.length;f+=1)d[f].c();n=pe()},l(f){Q(e.$$.fragment,f),t=se(f);for(let c=0;c<o.length;c+=1)o[c].l(f);r=se(f);for(let c=0;c<d.length;c+=1)d[c].l(f);n=pe()},m(f,c){J(e,f,c),G(f,t,c);for(let g=0;g<o.length;g+=1)o[g]&&o[g].m(f,c);G(f,r,c);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(f,c);G(f,n,c),a=!0},p(f,c){const g={};if(c[0]&532&&(g.config={image:f[2],scaleX:f[9].width/f[4].width,scaleY:-1*f[9].height/f[4].height,offsetY:f[4].height,opacity:.25}),e.$set(g),c[0]&16385){s=ii(f[0]);let m;for(m=0;m<s.length;m+=1){const v=Us(f,s,m);o[m]?(o[m].p(v,c),F(o[m],1)):(o[m]=Bs(v),o[m].c(),F(o[m],1),o[m].m(r.parentNode,r))}for(je(),m=s.length;m<o.length;m+=1)l(m);Ye()}if(c[0]&65538){h=ii(f[1]);let m;for(m=0;m<h.length;m+=1){const v=Is(f,h,m);d[m]?(d[m].p(v,c),F(d[m],1)):(d[m]=Hs(v),d[m].c(),F(d[m],1),d[m].m(n.parentNode,n))}for(je(),m=h.length;m<d.length;m+=1)u(m);Ye()}},i(f){if(!a){F(e.$$.fragment,f);for(let c=0;c<s.length;c+=1)F(o[c]);for(let c=0;c<h.length;c+=1)F(d[c]);a=!0}},o(f){O(e.$$.fragment,f),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)O(o[c]);d=d.filter(Boolean);for(let c=0;c<d.length;c+=1)O(d[c]);a=!1},d(f){f&&(R(t),R(r),R(n)),Z(e,f),ba(o,f),ba(d,f)}}}function ug(i){let e,t;return e=new l1({props:{$$slots:{default:[cg]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,n){J(e,r,n),t=!0},p(r,n){const a={};n[0]&535|n[1]&1&&(a.$$scope={dirty:n,ctx:r}),e.$set(a)},i(r){t||(F(e.$$.fragment,r),t=!0)},o(r){O(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function fg(i){let e,t,r,n,a,s,o,l,h,d,u,f,c,g,m,v,k,C,p,_={};e=new T1({props:_}),i[17](e);let b={};r=new x1({props:b}),i[18](r);let y={};a=new w1({props:y}),i[19](a);let M={};o=new Y1({props:M}),i[20](o),h=new Td({props:{$$slots:{default:[lg]},$$scope:{ctx:i}}});let P=i[4]&&zs(i);const E=[dg,hg],A=[];function T(S,N){return S[2]?typeof window<"u"&&S[4]?1:-1:0}return~(k=T(i))&&(C=A[k]=E[k](i)),{c(){q(e.$$.fragment),t=ae(),q(r.$$.fragment),n=ae(),q(a.$$.fragment),s=ae(),q(o.$$.fragment),l=ae(),q(h.$$.fragment),d=ae(),u=$("div"),f=$("p"),c=we(i[3]),g=ae(),P&&P.c(),m=ae(),v=$("div"),C&&C.c(),this.h()},l(S){Q(e.$$.fragment,S),t=se(S),Q(r.$$.fragment,S),n=se(S),Q(a.$$.fragment,S),s=se(S),Q(o.$$.fragment,S),l=se(S),Q(h.$$.fragment,S),d=se(S),u=ee(S,"DIV",{class:!0});var N=te(u);f=ee(N,"P",{class:!0});var D=te(f);c=ke(D,i[3]),D.forEach(R),g=se(N),P&&P.l(N),N.forEach(R),m=se(S),v=ee(S,"DIV",{class:!0});var L=te(v);C&&C.l(L),L.forEach(R),this.h()},h(){z(f,"class","text-sm"),z(u,"class","flex justify-center"),z(v,"class","flex justify-center")},m(S,N){J(e,S,N),G(S,t,N),J(r,S,N),G(S,n,N),J(a,S,N),G(S,s,N),J(o,S,N),G(S,l,N),J(h,S,N),G(S,d,N),G(S,u,N),ie(u,f),ie(f,c),ie(u,g),P&&P.m(u,null),G(S,m,N),G(S,v,N),~k&&A[k].m(v,null),p=!0},p(S,N){const D={};e.$set(D);const L={};r.$set(L);const B={};a.$set(B);const Y={};o.$set(Y);const ne={};N[0]&4|N[1]&1&&(ne.$$scope={dirty:N,ctx:S}),h.$set(ne),(!p||N[0]&8)&&tr(c,S[3]),S[4]?P?P.p(S,N):(P=zs(S),P.c(),P.m(u,null)):P&&(P.d(1),P=null);let H=k;k=T(S),k===H?~k&&A[k].p(S,N):(C&&(je(),O(A[H],1,1,()=>{A[H]=null}),Ye()),~k?(C=A[k],C?C.p(S,N):(C=A[k]=E[k](S),C.c()),F(C,1),C.m(v,null)):C=null)},i(S){p||(F(e.$$.fragment,S),F(r.$$.fragment,S),F(a.$$.fragment,S),F(o.$$.fragment,S),F(h.$$.fragment,S),F(C),p=!0)},o(S){O(e.$$.fragment,S),O(r.$$.fragment,S),O(a.$$.fragment,S),O(o.$$.fragment,S),O(h.$$.fragment,S),O(C),p=!1},d(S){S&&(R(t),R(n),R(s),R(l),R(d),R(u),R(m),R(v)),i[17](null),Z(e,S),i[18](null),Z(r,S),i[19](null),Z(a,S),i[20](null),Z(o,S),Z(h,S),P&&P.d(),~k&&A[k].d()}}}function gg(i,e,t){Wt(()=>{const S=document.createElement("img");S.src="https://www.raypcb.com/wp-content/uploads/2023/08/image.avif",S.addEventListener("load",()=>c(S,"dummy.jpg",{width:S.width,height:S.height}))});let r=[],n=[],a,s="",o,l,h,d,u,f={width:100,height:80,pcbThickness:1.6,smdHeight:3};const c=(S,N,D)=>{t(2,a=S),t(3,s=N),t(4,o=D),t(9,f.height=Math.round(f.width*(D.height/D.width)),f),m()},g=()=>l.open("Are you sure to reset PCB panel?",()=>{t(2,a=void 0),t(3,s=""),t(4,o=void 0)}),m=()=>h.open(f,S=>t(9,f=S)),v=()=>{const S={depth:5,diameter:10,konvaConfig:{draggable:!0,fill:"orange",opacity:.75,x:f.width/2,y:f.height/2,radius:10}};r.push(S),t(0,r),d.open(S,N=>{S.diameter=N.diameter,S.depth=N.depth,S.konvaConfig.radius=S.diameter/2,t(0,r)})},k=S=>{d.open(S,N=>{S.diameter=N.diameter,S.depth=N.depth,S.konvaConfig.radius=S.diameter/2,t(0,r)})},C=()=>{const S={depth:5,sizeX:10,sizeY:5,konvaConfig:{draggable:!0,fill:"green",opacity:.75,x:f.width/2,y:f.height/2,width:10,height:5}};n.push(S),t(1,n),u.open(S,N=>{S.sizeX=N.sizeX,S.sizeY=N.sizeY,S.depth=N.depth,S.konvaConfig.width=S.sizeX,S.konvaConfig.height=S.sizeY,t(1,n)})},p=S=>{u.open(S,N=>{S.sizeX=N.sizeX,S.sizeY=N.sizeY,S.depth=N.depth,S.konvaConfig.width=S.sizeX,S.konvaConfig.height=S.sizeY,t(1,n)})};function _(S){We[S?"unshift":"push"](()=>{l=S,t(5,l)})}function b(S){We[S?"unshift":"push"](()=>{h=S,t(6,h)})}function y(S){We[S?"unshift":"push"](()=>{d=S,t(7,d)})}function M(S){We[S?"unshift":"push"](()=>{u=S,t(8,u)})}function P(S,N){i.$$.not_equal(N.konvaConfig,S)&&(N.konvaConfig=S,t(0,r))}const E=S=>k(S);function A(S,N){i.$$.not_equal(N.konvaConfig,S)&&(N.konvaConfig=S,t(1,n))}return[r,n,a,s,o,l,h,d,u,f,c,g,m,v,k,C,p,_,b,y,M,P,E,A,S=>p(S)]}class Cg extends Ce{constructor(e){super(),Se(this,e,gg,fg,ge,{},null,[-1,-1])}}export{Cg as component};
